/**
 * ng-cloudike - v2.3.1-1 - 2018-07-02 http://cloudike.com
 * 
 * Copyright (c) 2018 ASD Tech Licensed MIT
 * <http://cdn.spout.org/license/mit.txt>
 */
function getRandomColors(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;c<6;c++)b+=a[Math.floor(16*Math.random())];return b}function getFirstAndLastName(a){var b=a.split(" ");if(b&&b.length>=2){var c=b[0],d=b[1];if(c&&d){return c.substr(0,1)+d.substr(0,1)}return a.substr(0,2)}}function getImgTag(a,b,c){return angular.element("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:a,height:b}).css({"background-color":c,width:a+"px",height:b+"px"})}function getCharacterObject(a,b,c,d,e){return angular.element('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:b,"font-family":c}).html(a).css({"font-weight":d,"font-size":e+"px"})}!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=ea.type(a);return"function"!==c&&!ea.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function d(a,b,c){if(ea.isFunction(b))return ea.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ea.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ma.test(b))return ea.filter(b,a,c);b=ea.filter(b,a)}return ea.grep(a,function(a){return ea.inArray(a,b)>=0!==c})}function e(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function f(a){var b=ta[a]={};return ea.each(a.match(sa)||[],function(a,c){b[c]=!0}),b}function g(){oa.addEventListener?(oa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(oa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(oa.addEventListener||"load"===event.type||"complete"===oa.readyState)&&(g(),ea.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(ya,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:xa.test(c)?ea.parseJSON(c):c)}catch(a){}ea.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!ea.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(ea.acceptData(a)){var e,f,g=ea.expando,h=a.nodeType,i=h?ea.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||ea.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ea.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=ea.extend(i[j],b):i[j].data=ea.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ea.camelCase(b)]=c),"string"==typeof b?null==(e=f[b])&&(e=f[ea.camelCase(b)]):e=f,e}}function l(a,b,c){if(ea.acceptData(a)){var d,e,f=a.nodeType,g=f?ea.cache:a,h=f?a[ea.expando]:ea.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ea.isArray(b)?b=b.concat(ea.map(b,ea.camelCase)):b in d?b=[b]:(b=ea.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!ea.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?ea.cleanData([a],!0):ca.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return oa.activeElement}catch(a){}}function p(a){var b=Ja.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==wa?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==wa?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ea.nodeName(d,b)?f.push(d):ea.merge(f,q(d,b));return void 0===b||b&&ea.nodeName(a,b)?ea.merge([a],f):f}function r(a){Da.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return ea.nodeName(a,"table")&&ea.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==ea.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Ua.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)ea._data(c,"globalEval",!b||ea._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&ea.hasData(a)){var c,d,e,f=ea._data(a),g=ea._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)ea.event.add(b,c,h[c][d])}g.data&&(g.data=ea.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ca.noCloneEvent&&b[ea.expando]){e=ea._data(b);for(d in e.events)ea.removeEvent(b,d,e.handle);b.removeAttribute(ea.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ca.html5Clone&&a.innerHTML&&!ea.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Da.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=ea(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:ea.css(e[0],"display");return e.detach(),f}function z(a){var b=oa,c=$a[a];return c||(c=y(a,b),"none"!==c&&c||(Za=(Za||ea("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Za[0].contentWindow||Za[0].contentDocument).document,b.write(),b.close(),c=y(a,b),Za.detach()),$a[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=lb.length;e--;)if((b=lb[e]+c)in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=ea._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ba(d)&&(f[g]=ea._data(d,"olddisplay",z(d.nodeName)))):(e=Ba(d),(c&&"none"!==c||!e)&&ea._data(d,"olddisplay",e?c:ea.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=hb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ea.css(a,c+Aa[f],!0,e)),d?("content"===c&&(g-=ea.css(a,"padding"+Aa[f],!0,e)),"margin"!==c&&(g-=ea.css(a,"border"+Aa[f]+"Width",!0,e))):(g+=ea.css(a,"padding"+Aa[f],!0,e),"padding"!==c&&(g+=ea.css(a,"border"+Aa[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=_a(a),g=ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=ab(a,b,f),(e<0||null==e)&&(e=a.style[b]),cb.test(e))return e;d=g&&(ca.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){mb=void 0}),mb=ea.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=Aa[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(sb[b]||[]).concat(sb["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&Ba(a),o=ea._data(a,"fxshow");c.queue||(h=ea._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,ea.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=ea.css(a,"display"),"inline"===("none"===j?ea._data(a,"olddisplay")||z(a.nodeName):j)&&"none"===ea.css(a,"float")&&(ca.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",ca.shrinkWrapBlocks()||k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ob.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||ea.style(a,d)}else j=void 0;if(ea.isEmptyObject(l))"inline"===("none"===j?z(a.nodeName):j)&&(m.display=j);else{o?"hidden"in o&&(n=o.hidden):o=ea._data(a,"fxshow",{}),f&&(o.hidden=!n),n?ea(a).show():k.done(function(){ea(a).hide()}),k.done(function(){var b;ea._removeData(a,"fxshow");for(b in l)ea.style(a,b,l[b])});for(d in l)g=J(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=ea.camelCase(c),e=b[d],f=a[c],ea.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ea.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=rb.length,h=ea.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=mb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ea.extend({},b),opts:ea.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:mb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ea.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);f<g;f++)if(d=rb[f].call(j,a,k,j.opts))return d;return ea.map(k,J,j),ea.isFunction(j.opts.start)&&j.opts.start.call(a,j),ea.fx.timer(ea.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(sa)||[];if(ea.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,ea.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Qb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=ea.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ea.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(ea.isArray(b))ea.each(b,function(b,e){c||Tb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ea.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(a){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function V(a){return ea.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca={},da="1.11.3",ea=function(a,b){return new ea.fn.init(a,b)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ga=/^-ms-/,ha=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()};ea.fn=ea.prototype={jquery:da,constructor:ea,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=ea.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ea.each(this,a,b)},map:function(a){return this.pushStack(ea.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},ea.extend=ea.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ea.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ea.isPlainObject(c)||(b=ea.isArray(c)))?(b?(b=!1,f=a&&ea.isArray(a)?a:[]):f=a&&ea.isPlainObject(a)?a:{},g[d]=ea.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ea.extend({expando:"jQuery"+(da+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ea.type(a)},isArray:Array.isArray||function(a){return"array"===ea.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!ea.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ea.type(a)||a.nodeType||ea.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(ca.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&ea.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ga,"ms-").replace(ha,ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e=0,f=a.length,g=c(a);if(d){if(g)for(;e<f&&!1!==b.apply(a[e],d);e++);else for(e in a)if(!1===b.apply(a[e],d))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ea.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;f<g;f++)null!=(e=b(a[f],f,d))&&i.push(e);else for(f in a)null!=(e=b(a[f],f,d))&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),ea.isFunction(a))return c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||ea.guid++,d},now:function(){return+new Date},support:ca}),ea.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ja=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(a){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&void 0!==a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(void 0!==b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if(I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do{if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(!(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0]))return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&m(f)))return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ea.find=ja,ea.expr=ja.selectors,ea.expr[":"]=ea.expr.pseudos,ea.unique=ja.uniqueSort,ea.text=ja.getText,ea.isXMLDoc=ja.isXML,ea.contains=ja.contains;var ka=ea.expr.match.needsContext,la=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;ea.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ea.find.matchesSelector(d,a)?[d]:[]:ea.find.matches(a,ea.grep(b,function(a){return 1===a.nodeType}))},ea.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ea(a).filter(function(){for(b=0;b<e;b++)if(ea.contains(d[b],this))return!0}));for(b=0;b<e;b++)ea.find(a,d[b],c);return c=this.pushStack(e>1?ea.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ka.test(a)?ea(a):a||[],!1).length}});var na,oa=a.document,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ea.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pa.exec(a))||!c[1]&&b)return!b||b.jquery?(b||na).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ea?b[0]:b,ea.merge(this,ea.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:oa,!0)),la.test(c[1])&&ea.isPlainObject(b))for(c in b)ea.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=oa.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return na.find(a);this.length=1,this[0]=d}return this.context=oa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ea.isFunction(a)?void 0!==na.ready?na.ready(a):a(ea):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ea.makeArray(a,this))}).prototype=ea.fn,na=ea(oa);var qa=/^(?:parents|prev(?:Until|All))/,ra={children:!0,contents:!0,next:!0,prev:!0};ea.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!ea(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ea.fn.extend({has:function(a){var b,c=ea(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(ea.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ka.test(a)||"string"!=typeof a?ea(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ea.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ea.unique(f):f)},index:function(a){return a?"string"==typeof a?ea.inArray(this[0],ea(a)):ea.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ea.unique(ea.merge(this.get(),ea(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ea.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ea.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ea.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ea.dir(a,"nextSibling")},prevAll:function(a){return ea.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ea.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ea.dir(a,"previousSibling",c)},siblings:function(a){return ea.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ea.sibling(a.firstChild)},contents:function(a){return ea.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ea.merge([],a.childNodes)}},function(a,b){ea.fn[a]=function(c,d){var e=ea.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ea.filter(d,e)),this.length>1&&(ra[a]||(e=ea.unique(e)),qa.test(a)&&(e=e.reverse())),this.pushStack(e)}});var sa=/\S+/g,ta={};ea.Callbacks=function(a){a="string"==typeof a?ta[a]||f(a):ea.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&g<e;g++)if(!1===i[g].apply(f[0],f[1])&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function b(c){ea.each(c,function(c,d){var e=ea.type(d);"function"===e?a.unique&&l.has(d)||i.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&ea.each(arguments,function(a,c){for(var d;(d=ea.inArray(c,i,d))>-1;)i.splice(d,1),b&&(d<=e&&e--,d<=g&&g--)}),this},has:function(a){return a?ea.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},ea.extend({Deferred:function(a){var b=[["resolve","done",ea.Callbacks("once memory"),"resolved"],["reject","fail",ea.Callbacks("once memory"),"rejected"],["notify","progress",ea.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ea.Deferred(function(c){ea.each(b,function(b,f){var g=ea.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ea.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ea.extend(a,d):d}},e={};return d.pipe=d.then,ea.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&ea.isFunction(a.promise)?g:0,i=1===h?a:ea.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&ea.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var ua;ea.fn.ready=function(a){return ea.ready.promise().done(a),this},ea.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ea.readyWait++:ea.ready(!0)},ready:function(a){if(!0===a?!--ea.readyWait:!ea.isReady){if(!oa.body)return setTimeout(ea.ready);ea.isReady=!0,!0!==a&&--ea.readyWait>0||(ua.resolveWith(oa,[ea]),ea.fn.triggerHandler&&(ea(oa).triggerHandler("ready"),ea(oa).off("ready")))}}}),ea.ready.promise=function(b){if(!ua)if(ua=ea.Deferred(),"complete"===oa.readyState)setTimeout(ea.ready);else if(oa.addEventListener)oa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{oa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&oa.documentElement}catch(a){}c&&c.doScroll&&function a(){if(!ea.isReady){try{c.doScroll("left")}catch(b){return setTimeout(a,50)}g(),ea.ready()}}()}return ua.promise(b)};var va,wa="undefined";for(va in ea(ca))break;ca.ownLast="0"!==va,ca.inlineBlockNeedsLayout=!1,ea(function(){var a,b,c,d;(c=oa.getElementsByTagName("body")[0])&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==wa&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ca.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=oa.createElement("div");if(null==ca.deleteExpando){ca.deleteExpando=!0;try{delete a.test}catch(a){ca.deleteExpando=!1}}a=null}(),ea.acceptData=function(a){var b=ea.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var xa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ya=/([A-Z])/g;ea.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?ea.cache[a[ea.expando]]:a[ea.expando])&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),ea.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ea.data(f),1===f.nodeType&&!ea._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ea.camelCase(d.slice(5)),i(f,d,e[d])));ea._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ea.data(this,a)}):arguments.length>1?this.each(function(){ea.data(this,a,b)}):f?i(f,a,ea.data(f,a)):void 0},removeData:function(a){return this.each(function(){ea.removeData(this,a)})}}),ea.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=ea._data(a,b),c&&(!d||ea.isArray(c)?d=ea._data(a,b,ea.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ea.queue(a,b),d=c.length,e=c.shift(),f=ea._queueHooks(a,b),g=function(){ea.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ea._data(a,c)||ea._data(a,c,{empty:ea.Callbacks("once memory").add(function(){ea._removeData(a,b+"queue"),ea._removeData(a,c)})})}}),ea.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ea.queue(this[0],a):void 0===b?this:this.each(function(){var c=ea.queue(this,a,b);ea._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ea.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ea.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ea.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=ea._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var za=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Aa=["Top","Right","Bottom","Left"],Ba=function(a,b){return a=b||a,"none"===ea.css(a,"display")||!ea.contains(a.ownerDocument,a)},Ca=ea.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ea.type(c)){e=!0;for(h in c)ea.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ea.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ea(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Da=/^(?:checkbox|radio)$/i;!function(){var a=oa.createElement("input"),b=oa.createElement("div"),c=oa.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ca.leadingWhitespace=3===b.firstChild.nodeType,ca.tbody=!b.getElementsByTagName("tbody").length,ca.htmlSerialize=!!b.getElementsByTagName("link").length,ca.html5Clone="<:nav></:nav>"!==oa.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),ca.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",ca.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",ca.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,ca.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){ca.noCloneEvent=!1}),b.cloneNode(!0).click()),null==ca.deleteExpando){ca.deleteExpando=!0;try{delete b.test}catch(a){ca.deleteExpando=!1}}}(),function(){var b,c,d=oa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(ca[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),ca[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}();var Ea=/^(?:input|select|textarea)$/i,Fa=/^key/,Ga=/^(?:mouse|pointer|contextmenu)|click/,Ha=/^(?:focusinfocus|focusoutblur)$/,Ia=/^([^.]*)(?:\.(.+)|)$/;ea.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ea.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof ea===wa||a&&ea.event.triggered===a.type?void 0:ea.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(sa)||[""],h=b.length;h--;)f=Ia.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ea.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ea.event.special[n]||{},l=ea.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ea.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&!1!==j.setup.call(a,d,o,k)||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),ea.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea.hasData(a)&&ea._data(a);if(q&&(k=q.events)){for(b=(b||"").match(sa)||[""],j=b.length;j--;)if(h=Ia.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ea.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ea.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ea.event.remove(a,n+b[j],c,d,!0);ea.isEmptyObject(k)&&(delete q.handle,ea._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||oa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||oa,3!==d.nodeType&&8!==d.nodeType&&!Ha.test(n+ea.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ea.expando]?b:new ea.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ea.makeArray(c,[b]),j=ea.event.special[n]||{},e||!j.trigger||!1!==j.trigger.apply(d,c))){if(!e&&!j.noBubble&&!ea.isWindow(d)){for(i=j.delegateType||n,Ha.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||oa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ea._data(h,"events")||{})[b.type]&&ea._data(h,"handle"),f&&f.apply(h,c),(f=g&&h[g])&&f.apply&&ea.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||!1===j._default.apply(m.pop(),c))&&ea.acceptData(d)&&g&&d[n]&&!ea.isWindow(d)){k=d[g],k&&(d[g]=null),ea.event.triggered=n;try{d[n]()}catch(a){}ea.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ea.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(ea._data(this,"events")||{})[a.type]||[],j=ea.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=ea.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(d.namespace)||(a.handleObj=d,a.data=d.data,void 0!==(c=((ea.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;f<h;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?ea(c,this).index(i)>=0:ea.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ea.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ga.test(e)?this.mouseHooks:Fa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ea.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||oa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||oa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===o()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ea.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return ea.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ea.extend(new ea.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ea.event.trigger(e,null,b):ea.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ea.removeEvent=oa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===wa&&(a[d]=null),a.detachEvent(d,c))},ea.Event=function(a,b){if(!(this instanceof ea.Event))return new ea.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?m:n):this.type=a,b&&ea.extend(this,b),this.timeStamp=a&&a.timeStamp||ea.now(),this[ea.expando]=!0},ea.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},ea.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ea.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ea.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ca.submitBubbles||(ea.event.special.submit={setup:function(){if(ea.nodeName(this,"form"))return!1;ea.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ea.nodeName(b,"input")||ea.nodeName(b,"button")?b.form:void 0;c&&!ea._data(c,"submitBubbles")&&(ea.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),ea._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ea.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(ea.nodeName(this,"form"))return!1;ea.event.remove(this,"._submit")}}),ca.changeBubbles||(ea.event.special.change={setup:function(){if(Ea.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ea.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ea.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ea.event.simulate("change",this,a,!0)})),!1;ea.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ea.test(b.nodeName)&&!ea._data(b,"changeBubbles")&&(ea.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ea.event.simulate("change",this.parentNode,a,!0)}),ea._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return ea.event.remove(this,"._change"),!Ea.test(this.nodeName)}}),ca.focusinBubbles||ea.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ea.event.simulate(b,a.target,ea.event.fix(a),!0)};ea.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ea._data(d,b);e||d.addEventListener(a,c,!0),ea._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ea._data(d,b)-1;e?ea._data(d,b,e):(d.removeEventListener(a,c,!0),ea._removeData(d,b))}}}),ea.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return ea().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=ea.guid++)),this.each(function(){ea.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ea(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=n),this.each(function(){ea.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ea.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ea.event.trigger(a,b,c,!0)}});var Ja="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ka=/ jQuery\d+="(?:null|\d+)"/g,La=new RegExp("<(?:"+Ja+")[\\s/>]","i"),Ma=/^\s+/,Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oa=/<([\w:]+)/,Pa=/<tbody/i,Qa=/<|&#?\w+;/,Ra=/<(?:script|style|link)/i,Sa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ta=/^$|\/(?:java|ecma)script/i,Ua=/^true\/(.*)/,Va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Wa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ca.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xa=p(oa),Ya=Xa.appendChild(oa.createElement("div"));Wa.optgroup=Wa.option,Wa.tbody=Wa.tfoot=Wa.colgroup=Wa.caption=Wa.thead,Wa.th=Wa.td,ea.extend({clone:function(a,b,c){var d,e,f,g,h,i=ea.contains(a.ownerDocument,a);if(ca.html5Clone||ea.isXMLDoc(a)||!La.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ya.innerHTML=a.outerHTML,Ya.removeChild(f=Ya.firstChild)),!(ca.noCloneEvent&&ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ea.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;o<l;o++)if((f=a[o])||0===f)if("object"===ea.type(f))ea.merge(n,f.nodeType?[f]:f);else if(Qa.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Oa.exec(f)||["",""])[1].toLowerCase(),k=Wa[i]||Wa._default,h.innerHTML=k[1]+f.replace(Na,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ca.leadingWhitespace&&Ma.test(f)&&n.push(b.createTextNode(Ma.exec(f)[0])),!ca.tbody)for(f="table"!==i||Pa.test(f)?"<table>"!==k[1]||Pa.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ea.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ea.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),ca.appendChecked||ea.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===ea.inArray(f,d))&&(g=ea.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ta.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ea.expando,i=ea.cache,j=ca.deleteExpando,k=ea.event.special;null!=(c=a[g]);g++)if((b||ea.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ea.event.remove(c,d):ea.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==wa?c.removeAttribute(h):c[h]=null,W.push(e))}}}),ea.fn.extend({text:function(a){return Ca(this,function(a){return void 0===a?ea.text(this):this.empty().append((this[0]&&this[0].ownerDocument||oa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){s(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ea.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ea.cleanData(q(c)),c.parentNode&&(b&&ea.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ea.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ea.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ea.clone(this,a,b)})},html:function(a){return Ca(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ka,""):void 0;if("string"==typeof a&&!Ra.test(a)&&(ca.htmlSerialize||!La.test(a))&&(ca.leadingWhitespace||!Ma.test(a))&&!Wa[(Oa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Na,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ea.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ea.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=ea.isFunction(m);if(n||j>1&&"string"==typeof m&&!ca.checkClone&&Sa.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=ea.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=ea.map(q(h,"script"),t),e=f.length;i<j;i++)d=h,i!==l&&(d=ea.clone(d,!0,!0),e&&ea.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,ea.map(f,u),i=0;i<e;i++)d=f[i],Ta.test(d.type||"")&&!ea._data(d,"globalEval")&&ea.contains(g,d)&&(d.src?ea._evalUrl&&ea._evalUrl(d.src):ea.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Va,"")));h=c=null}return this}}),ea.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ea.fn[a]=function(a){for(var c,d=0,e=[],f=ea(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),ea(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var Za,$a={};!function(){var a;ca.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return(c=oa.getElementsByTagName("body")[0])&&c.style?(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==wa&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(oa.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var _a,ab,bb=/^margin/,cb=new RegExp("^("+za+")(?!px)[a-z%]+$","i"),db=/^(top|right|bottom|left)$/;a.getComputedStyle?(_a=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},ab=function(a,b,c){var d,e,f,g,h=a.style;return c=c||_a(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||ea.contains(a.ownerDocument,a)||(g=ea.style(a,b)),cb.test(g)&&bb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):oa.documentElement.currentStyle&&(_a=function(a){return a.currentStyle},ab=function(a,b,c){var d,e,f,g,h=a.style;return c=c||_a(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),cb.test(g)&&!db.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d,e;(c=oa.getElementsByTagName("body")[0])&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(oa.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(e)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=oa.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],(d=e&&e.style)&&(d.cssText="float:left;opacity:.5",ca.opacity="0.5"===d.opacity,ca.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===c.style.backgroundClip,ca.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,ea.extend(ca,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),ea.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var eb=/alpha\([^)]*\)/i,fb=/opacity\s*=\s*([^)]*)/,gb=/^(none|table(?!-c[ea]).+)/,hb=new RegExp("^("+za+")(.*)$","i"),ib=new RegExp("^([+-])=("+za+")","i"),jb={position:"absolute",visibility:"hidden",display:"block"},kb={letterSpacing:"0",fontWeight:"400"},lb=["Webkit","O","Moz","ms"];ea.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ab(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ca.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ea.camelCase(b),i=a.style;if(b=ea.cssProps[h]||(ea.cssProps[h]=B(i,h)),g=ea.cssHooks[b]||ea.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=ib.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ea.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||ea.cssNumber[h]||(c+="px"),ca.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=ea.camelCase(b);return b=ea.cssProps[h]||(ea.cssProps[h]=B(a.style,h)),g=ea.cssHooks[b]||ea.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=ab(a,b,d)),"normal"===f&&b in kb&&(f=kb[b]),""===c||c?(e=parseFloat(f),!0===c||ea.isNumeric(e)?e||0:f):f}}),ea.each(["height","width"],function(a,b){ea.cssHooks[b]={get:function(a,c,d){if(c)return gb.test(ea.css(a,"display"))&&0===a.offsetWidth?ea.swap(a,jb,function(){return F(a,b,d)}):F(a,b,d)},set:function(a,c,d){var e=d&&_a(a);return D(a,c,d?E(a,b,d,ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,e),e):0)}}}),ca.opacity||(ea.cssHooks.opacity={get:function(a,b){return fb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ea.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ea.trim(f.replace(eb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=eb.test(f)?f.replace(eb,e):f+" "+e)}}),ea.cssHooks.marginRight=A(ca.reliableMarginRight,function(a,b){if(b)return ea.swap(a,{display:"inline-block"},ab,[a,"marginRight"])}),ea.each({margin:"",padding:"",border:"Width"},function(a,b){ea.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Aa[d]+b]=f[d]||f[d-2]||f[0];return e}},bb.test(a)||(ea.cssHooks[a+b].set=D)}),ea.fn.extend({css:function(a,b){return Ca(this,function(a,b,c){var d,e,f={},g=0;if(ea.isArray(b)){for(d=_a(a),e=b.length;g<e;g++)f[b[g]]=ea.css(a,b[g],!1,d);return f}return void 0!==c?ea.style(a,b,c):ea.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ba(this)?ea(this).show():ea(this).hide()})}}),ea.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ea.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.options.duration?this.pos=b=ea.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ea.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ea.fx.step[a.prop]?ea.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ea.cssProps[a.prop]]||ea.cssHooks[a.prop])?ea.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ea.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ea.fx=G.prototype.init,ea.fx.step={};var mb,nb,ob=/^(?:toggle|show|hide)$/,pb=new RegExp("^(?:([+-])=|)("+za+")([a-z%]*)$","i"),qb=/queueHooks$/,rb=[K],sb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=pb.exec(b),f=e&&e[3]||(ea.cssNumber[a]?"":"px"),g=(ea.cssNumber[a]||"px"!==f&&+d)&&pb.exec(ea.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,ea.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ea.Animation=ea.extend(M,{tweener:function(a,b){ea.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],sb[c]=sb[c]||[],sb[c].unshift(b)},prefilter:function(a,b){b?rb.unshift(a):rb.push(a)}}),ea.speed=function(a,b,c){var d=a&&"object"==typeof a?ea.extend({},a):{complete:c||!c&&b||ea.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ea.isFunction(b)&&b};return d.duration=ea.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ea.fx.speeds?ea.fx.speeds[d.duration]:ea.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){ea.isFunction(d.old)&&d.old.call(this),d.queue&&ea.dequeue(this,d.queue)},d},ea.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ba).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ea.isEmptyObject(a),f=ea.speed(b,c,d),g=function(){var b=M(this,ea.extend({},a),f);(e||ea._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ea.timers,g=ea._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&qb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ea.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=ea._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ea.timers,g=d?d.length:0;for(c.finish=!0,ea.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ea.each(["toggle","show","hide"],function(a,b){var c=ea.fn[b];ea.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),ea.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ea.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ea.timers=[],ea.fx.tick=function(){var a,b=ea.timers,c=0;for(mb=ea.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||ea.fx.stop(),mb=void 0},ea.fx.timer=function(a){ea.timers.push(a),a()?ea.fx.start():ea.timers.pop()},ea.fx.interval=13,ea.fx.start=function(){nb||(nb=setInterval(ea.fx.tick,ea.fx.interval))},ea.fx.stop=function(){clearInterval(nb),nb=null},ea.fx.speeds={slow:600,fast:200,_default:400},ea.fn.delay=function(a,b){return a=ea.fx?ea.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=oa.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=oa.createElement("select"),e=c.appendChild(oa.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",ca.getSetAttribute="t"!==b.className,ca.style=/top/.test(d.getAttribute("style")),ca.hrefNormalized="/a"===d.getAttribute("href"),ca.checkOn=!!a.value,ca.optSelected=e.selected,ca.enctype=!!oa.createElement("form").enctype,c.disabled=!0,ca.optDisabled=!e.disabled,a=oa.createElement("input"),a.setAttribute("value",""),ca.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),ca.radioValue="t"===a.value}();var tb=/\r/g;ea.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ea.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ea(this).val()):a,null==e?e="":"number"==typeof e?e+="":ea.isArray(e)&&(e=ea.map(e,function(a){return null==a?"":a+""})),(b=ea.valHooks[this.type]||ea.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=ea.valHooks[e.type]||ea.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(tb,""):null==c?"":c)}}}),ea.extend({valHooks:{option:{get:function(a){var b=ea.find.attr(a,"value");return null!=b?b:ea.trim(ea.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(ca.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ea.nodeName(c.parentNode,"optgroup"))){if(b=ea(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ea.makeArray(b),g=e.length;g--;)if(d=e[g],ea.inArray(ea.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ea.each(["radio","checkbox"],function(){ea.valHooks[this]={set:function(a,b){if(ea.isArray(b))return a.checked=ea.inArray(ea(a).val(),b)>=0}},ca.checkOn||(ea.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ub,vb,wb=ea.expr.attrHandle,xb=/^(?:checked|selected)$/i,yb=ca.getSetAttribute,zb=ca.input;ea.fn.extend({attr:function(a,b){return Ca(this,ea.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ea.removeAttr(this,a)})}}),ea.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===wa?ea.prop(a,b,c):(1===f&&ea.isXMLDoc(a)||(b=b.toLowerCase(),d=ea.attrHooks[b]||(ea.expr.match.bool.test(b)?vb:ub)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ea.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ea.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(sa);if(f&&1===a.nodeType)for(;c=f[e++];)d=ea.propFix[c]||c,ea.expr.match.bool.test(c)?zb&&yb||!xb.test(c)?a[d]=!1:a[ea.camelCase("default-"+c)]=a[d]=!1:ea.attr(a,c,""),a.removeAttribute(yb?c:d)},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&ea.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),vb={set:function(a,b,c){return!1===b?ea.removeAttr(a,c):zb&&yb||!xb.test(c)?a.setAttribute(!yb&&ea.propFix[c]||c,c):a[ea.camelCase("default-"+c)]=a[c]=!0,c}},ea.each(ea.expr.match.bool.source.match(/\w+/g),function(a,b){var c=wb[b]||ea.find.attr;wb[b]=zb&&yb||!xb.test(b)?function(a,b,d){var e,f;return d||(f=wb[b],wb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,wb[b]=f),e}:function(a,b,c){if(!c)return a[ea.camelCase("default-"+b)]?b.toLowerCase():null}}),zb&&yb||(ea.attrHooks.value={set:function(a,b,c){if(!ea.nodeName(a,"input"))return ub&&ub.set(a,b,c);a.defaultValue=b}}),yb||(ub={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},wb.id=wb.name=wb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ea.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:ub.set},ea.attrHooks.contenteditable={set:function(a,b,c){ub.set(a,""!==b&&b,c)}},ea.each(["width","height"],function(a,b){ea.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),ca.style||(ea.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Ab=/^(?:input|select|textarea|button|object)$/i,Bb=/^(?:a|area)$/i;ea.fn.extend({prop:function(a,b){return Ca(this,ea.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ea.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),ea.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!ea.isXMLDoc(a),f&&(b=ea.propFix[b]||b,e=ea.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ea.find.attr(a,"tabindex");return b?parseInt(b,10):Ab.test(a.nodeName)||Bb.test(a.nodeName)&&a.href?0:-1}}}}),ca.hrefNormalized||ea.each(["href","src"],function(a,b){ea.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ca.optSelected||(ea.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ea.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ea.propFix[this.toLowerCase()]=this}),ca.enctype||(ea.propFix.enctype="encoding");var Cb=/[\t\r\n\f]/g;ea.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(sa)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Cb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ea.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(sa)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Cb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ea.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ea.isFunction(a)?this.each(function(c){ea(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ea(this),f=a.match(sa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==wa&&"boolean"!==c||(this.className&&ea._data(this,"__className__",this.className),this.className=this.className||!1===a?"":ea._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Cb," ").indexOf(b)>=0)return!0;return!1}}),ea.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ea.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ea.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Db=ea.now(),Eb=/\?/,Fb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ea.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ea.trim(b+"");return e&&!ea.trim(e.replace(Fb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ea.error("Invalid JSON: "+b)},ea.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ea.error("Invalid XML: "+b),c};var Gb,Hb,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pb={},Qb={},Rb="*/".concat("*");try{Hb=location.href}catch(a){Hb=oa.createElement("a"),Hb.href="",Hb=Hb.href}Gb=Ob.exec(Hb.toLowerCase())||[],ea.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hb,type:"GET",isLocal:Lb.test(Gb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ea.parseJSON,"text xml":ea.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,ea.ajaxSettings),b):P(ea.ajaxSettings,a)},ajaxPrefilter:N(Pb),ajaxTransport:N(Qb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&a<300||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ea.lastModified[f]=u),(u=v.getResponseHeader("etag"))&&(ea.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--ea.active||ea.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ea.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ea(m):ea.event,o=ea.Deferred(),p=ea.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Kb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Hb)+"").replace(Ib,"").replace(Nb,Gb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ea.trim(l.dataType||"*").toLowerCase().match(sa)||[""],null==l.crossDomain&&(d=Ob.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Gb[1]&&d[2]===Gb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Gb[3]||("http:"===Gb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ea.param(l.data,l.traditional)),O(Pb,l,b,v),2===t)return v;i=ea.event&&l.global,i&&0==ea.active++&&ea.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Eb.test(f)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Jb.test(f)?f.replace(Jb,"$1_="+Db++):f+(Eb.test(f)?"&":"?")+"_="+Db++)),l.ifModified&&(ea.lastModified[f]&&v.setRequestHeader("If-Modified-Since",ea.lastModified[f]),ea.etag[f]&&v.setRequestHeader("If-None-Match",ea.etag[f])),(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Rb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(!1===l.beforeSend.call(m,v,l)||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Qb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(a){if(!(t<2))throw a;c(-1,a)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ea.get(a,b,c,"json")},getScript:function(a,b){return ea.get(a,void 0,b,"script")}}),ea.each(["get","post"],function(a,b){ea[b]=function(a,c,d,e){return ea.isFunction(c)&&(e=e||d,d=c,c=void 0),ea.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ea._evalUrl=function(a){return ea.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ea.fn.extend({wrapAll:function(a){if(ea.isFunction(a))return this.each(function(b){ea(this).wrapAll(a.call(this,b))});if(this[0]){var b=ea(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ea.isFunction(a)?this.each(function(b){ea(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ea(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ea.isFunction(a);return this.each(function(c){ea(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ea.nodeName(this,"body")||ea(this).replaceWith(this.childNodes)}).end()}}),ea.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!ca.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||ea.css(a,"display"))},ea.expr.filters.visible=function(a){return!ea.expr.filters.hidden(a)};var Sb=/%20/g,Tb=/\[\]$/,Ub=/\r?\n/g,Vb=/^(?:submit|button|image|reset|file)$/i,Wb=/^(?:input|select|textarea|keygen)/i;ea.param=function(a,b){var c,d=[],e=function(a,b){b=ea.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ea.ajaxSettings&&ea.ajaxSettings.traditional),ea.isArray(a)||a.jquery&&!ea.isPlainObject(a))ea.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Sb,"+")},ea.fn.extend({serialize:function(){return ea.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ea.prop(this,"elements");return a?ea.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ea(this).is(":disabled")&&Wb.test(this.nodeName)&&!Vb.test(a)&&(this.checked||!Da.test(a))}).map(function(a,b){var c=ea(this).val();return null==c?null:ea.isArray(c)?ea.map(c,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:c.replace(Ub,"\r\n")}}).get()}}),ea.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Xb=0,Yb={},Zb=ea.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Yb)Yb[a](void 0,!0)}),ca.cors=!!Zb&&"withCredentials"in Zb,Zb=ca.ajax=!!Zb,Zb&&ea.ajaxTransport(function(a){if(!a.crossDomain||ca.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yb[g],b=void 0,f.onreadystatechange=ea.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(a){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),ea.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ea.globalEval(a),a}}}),ea.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ea.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=oa.head||ea("head")[0]||oa.documentElement;return{send:function(d,e){b=oa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var $b=[],_b=/(=)\?(?=&|$)|\?\?/;ea.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=$b.pop()||ea.expando+"_"+Db++;return this[a]=!0,a}}),ea.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(_b.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&_b.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ea.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(_b,"$1"+e):!1!==b.jsonp&&(b.url+=(Eb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ea.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,$b.push(e)),g&&ea.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ea.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||oa;var d=la.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ea.buildFragment([a],b,e),e&&e.length&&ea(e).remove(),ea.merge([],d.childNodes))};var ac=ea.fn.load;ea.fn.load=function(a,b,c){if("string"!=typeof a&&ac)return ac.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=ea.trim(a.slice(h,a.length)),a=a.slice(0,h)),ea.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&ea.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?ea("<div>").append(ea.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},ea.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ea.fn[b]=function(a){return this.on(b,a)}}),ea.expr.filters.animated=function(a){return ea.grep(ea.timers,function(b){return a===b.elem}).length};var bc=a.document.documentElement;ea.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ea.css(a,"position"),l=ea(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ea.css(a,"top"),i=ea.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ea.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ea.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ea.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ea.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,ea.contains(b,e)?(typeof e.getBoundingClientRect!==wa&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ea.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ea.nodeName(a[0],"html")||(c=a.offset()),c.top+=ea.css(a[0],"borderTopWidth",!0),c.left+=ea.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ea.css(d,"marginTop",!0),left:b.left-c.left-ea.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||bc;a&&!ea.nodeName(a,"html")&&"static"===ea.css(a,"position");)a=a.offsetParent;return a||bc})}}),ea.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ea.fn[a]=function(d){return Ca(this,function(a,d,e){var f=V(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?ea(f).scrollLeft():e,c?e:ea(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}}),ea.each(["top","left"],function(a,b){ea.cssHooks[b]=A(ca.pixelPosition,function(a,c){if(c)return c=ab(a,b),cb.test(c)?ea(a).position()[b]+"px":c})}),ea.each({Height:"height",Width:"width"},function(a,b){ea.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ea.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return Ca(this,function(b,c,d){var e;return ea.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ea.css(b,c,g):ea.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ea.fn.size=function(){return this.length},ea.fn.andSelf=ea.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ea});var cc=a.jQuery,dc=a.$;return ea.noConflict=function(b){return a.$===ea&&(a.$=dc),b&&a.jQuery===ea&&(a.jQuery=cc),ea},typeof b===wa&&(a.jQuery=a.$=ea),ea}),window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"!=b||e}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return!1===d?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;d<e;d++)E[c[d]]=!!(c[d]in u);return E.list&&(E.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;g<h;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&!1===u.checkValidity():u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.8.3",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},I=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return H("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},J=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),K={}.hasOwnProperty;m=f(K,"undefined")||f(K.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return K.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),C.flexbox=function(){return j("flexWrap")},C.flexboxlegacy=function(){return j("boxDirection")},C.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},C.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},C.webgl=function(){return!!a.WebGLRenderingContext},C.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:H(["@media (",x.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return J("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!(!a.history||!history.pushState)},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:";return d((a+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+a)+x.join("linear-gradient(left top,#9f9, white);"+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},C.generatedcontent=function(){var a;return H(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var L in C)m(C,L)&&(l=L.toLowerCase(),o[l]=C[L](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,void 0!==p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||n.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;g<i;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function i(a){a||(a=b);var d=e(a);return!s.shivCSS||j||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||h(a,d),a}var j,k,l="3.7.0",m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return void 0===a.cloneNode||void 0===a.createDocumentFragment||void 0===a.createElement}()}catch(a){j=!0,k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:l,shivCSS:!1!==m.shivCSS,supportsUnknownElements:k,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=s,i(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.mq=I,o.hasEvent=J,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document),function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function a(a,b){for(var c=decodeURI(a),d=p[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},g=14;g--;)e.attr[n[g]]=d[g]||"";return e.param.query=f(e.attr.query),e.param.fragment=f(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function b(a){var b=a.tagName;return void 0!==b?m[b.toLowerCase()]:b}function c(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?j(h)?""!==f&&h.push(f):"object"==typeof h?h[k(h).length]=f:h=b[e]=[b[e],f]:~g.indexOf("]")?(g=g.substr(0,g.length-1),!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f)):(!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f))}else j(b[e])?b[e].push(f):"object"==typeof b[e]?b[e]=f:void 0===b[e]?b[e]=f:b[e]=[b[e],f]}function e(a,b,c){if(~b.indexOf("]")){d(b.split("["),a,"base",c)}else{if(!q.test(b)&&j(a.base)){var e={};for(var f in a.base)e[f]=a.base[f];a.base=e}""!==b&&g(a.base,b,c)}return a}function f(a){return i(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(a){}var c=b.indexOf("="),d=h(b),f=b.substr(0,d||c),g=b.substr(d||c,b.length);return g=g.substr(g.indexOf("=")+1,g.length),""===f&&(f=b,g=""),e(a,f,g)},{base:{}}).base}function g(a,b,c){var d=a[b];void 0===d?a[b]=c:j(d)?d.push(c):a[b]=[d,c]}function h(a){for(var b,c,d=a.length,e=0;e<d;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function i(a,b){for(var c=0,d=a.length>>0,e=arguments[2];c<d;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(b,c){return 1===arguments.length&&!0===b&&(c=!0,b=void 0),c=c||!1,b=b||window.location.toString(),{data:a(b,c),attr:function(a){return a=o[a]||a,void 0!==a?this.data.attr[a]:this.data.attr},param:function(a){return void 0!==a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return void 0!==a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return void 0===a?this.data.seg.path:(a=a<0?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return void 0===a?this.data.seg.fragment:(a=a<0?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},q=/^[0-9]+$/;return l.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";return this.length&&(d=a(this).attr(b(this[0]))||""),l(d,c)},a.url=l)},l.jQuery(window.jQuery),l}),function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},b=a._,c=Array.prototype,d=Object.prototype,e="undefined"!=typeof Symbol?Symbol.prototype:null,f=c.push,g=c.slice,h=d.toString,i=d.hasOwnProperty,j=Array.isArray,k=Object.keys,l=Object.create,m=function(){},n=function(a){return a instanceof n?a:this instanceof n?void(this._wrapped=a):new n(a)};"undefined"==typeof exports||exports.nodeType?a._=n:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=n),exports._=n),n.VERSION="1.9.1";var o,p=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){return n.iteratee!==o?n.iteratee(a,b):null==a?n.identity:n.isFunction(a)?p(a,b,c):n.isObject(a)&&!n.isArray(a)?n.matcher(a):n.property(a)};n.iteratee=o=function(a,b){return q(a,b,1/0)};var r=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}var f=Array(b+1);for(e=0;e<b;e++)f[e]=arguments[e];return f[b]=d,a.apply(this,f)}},s=function(a){if(!n.isObject(a))return{};if(l)return l(a);m.prototype=a;var b=new m;return m.prototype=null,b},t=function(a){return function(b){return null==b?void 0:b[a]}},u=function(a,b){return null!=a&&i.call(a,b)},v=function(a,b){for(var c=b.length,d=0;d<c;d++){if(null==a)return;a=a[b[d]]}return c?a:void 0},w=Math.pow(2,53)-1,x=t("length"),y=function(a){var b=x(a);return"number"==typeof b&&b>=0&&b<=w};n.each=n.forEach=function(a,b,c){b=p(b,c);var d,e;if(y(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=n.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},n.map=n.collect=function(a,b,c){b=q(b,c);for(var d=!y(a)&&n.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};var z=function(a){var b=function(b,c,d,e){var f=!y(b)&&n.keys(b),g=(f||b).length,h=a>0?0:g-1;for(e||(d=b[f?f[h]:h],h+=a);h>=0&&h<g;h+=a){var i=f?f[h]:h;d=c(d,b[i],i,b)}return d};return function(a,c,d,e){var f=arguments.length>=3;return b(a,p(c,e,4),d,f)}};n.reduce=n.foldl=n.inject=z(1),n.reduceRight=n.foldr=z(-1),n.find=n.detect=function(a,b,c){var d=y(a)?n.findIndex:n.findKey,e=d(a,b,c);if(void 0!==e&&-1!==e)return a[e]},n.filter=n.select=function(a,b,c){var d=[];return b=q(b,c),n.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},n.reject=function(a,b,c){return n.filter(a,n.negate(q(b)),c)},n.every=n.all=function(a,b,c){b=q(b,c);for(var d=!y(a)&&n.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},n.some=n.any=function(a,b,c){b=q(b,c);for(var d=!y(a)&&n.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},n.contains=n.includes=n.include=function(a,b,c,d){return y(a)||(a=n.values(a)),("number"!=typeof c||d)&&(c=0),n.indexOf(a,b,c)>=0},n.invoke=r(function(a,b,c){var d,e;return n.isFunction(b)?e=b:n.isArray(b)&&(d=b.slice(0,-1),b=b[b.length-1]),n.map(a,function(a){var f=e;if(!f){if(d&&d.length&&(a=v(a,d)),null==a)return;f=a[b]}return null==f?f:f.apply(a,c)})}),n.pluck=function(a,b){return n.map(a,n.property(b))},n.where=function(a,b){return n.filter(a,n.matcher(b))},n.findWhere=function(a,b){return n.find(a,n.matcher(b))},n.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=y(a)?a:n.values(a);for(var h=0,i=a.length;h<i;h++)null!=(d=a[h])&&d>f&&(f=d)}else b=q(b,c),n.each(a,function(a,c,d){((e=b(a,c,d))>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},n.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=y(a)?a:n.values(a);for(var h=0,i=a.length;h<i;h++)null!=(d=a[h])&&d<f&&(f=d)}else b=q(b,c),n.each(a,function(a,c,d){((e=b(a,c,d))<g||e===1/0&&f===1/0)&&(f=a,g=e)});return f},n.shuffle=function(a){return n.sample(a,1/0)},n.sample=function(a,b,c){if(null==b||c)return y(a)||(a=n.values(a)),a[n.random(a.length-1)];var d=y(a)?n.clone(a):n.values(a),e=x(d);b=Math.max(Math.min(b,e),0);for(var f=e-1,g=0;g<b;g++){var h=n.random(g,f),i=d[g];d[g]=d[h],d[h]=i}return d.slice(0,b)},n.sortBy=function(a,b,c){var d=0;return b=q(b,c),n.pluck(n.map(a,function(a,c,e){return{value:a,index:d++,criteria:b(a,c,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var A=function(a,b){return function(c,d,e){var f=b?[[],[]]:{};return d=q(d,e),n.each(c,function(b,e){var g=d(b,e,c);a(f,b,g)}),f}};n.groupBy=A(function(a,b,c){u(a,c)?a[c].push(b):a[c]=[b]}),n.indexBy=A(function(a,b,c){a[c]=b}),n.countBy=A(function(a,b,c){u(a,c)?a[c]++:a[c]=1});var B=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;n.toArray=function(a){return a?n.isArray(a)?g.call(a):n.isString(a)?a.match(B):y(a)?n.map(a,n.identity):n.values(a):[]},n.size=function(a){return null==a?0:y(a)?a.length:n.keys(a).length},n.partition=A(function(a,b,c){a[c?0:1].push(b)},!0),n.first=n.head=n.take=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[0]:n.initial(a,a.length-b)},n.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},n.last=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[a.length-1]:n.rest(a,Math.max(0,a.length-b))},n.rest=n.tail=n.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},n.compact=function(a){return n.filter(a,Boolean)};var C=function(a,b,c,d){d=d||[];for(var e=d.length,f=0,g=x(a);f<g;f++){var h=a[f];if(y(h)&&(n.isArray(h)||n.isArguments(h)))if(b)for(var i=0,j=h.length;i<j;)d[e++]=h[i++];else C(h,b,c,d),e=d.length;else c||(d[e++]=h)}return d};n.flatten=function(a,b){return C(a,b,!1)},n.without=r(function(a,b){return n.difference(a,b)}),n.uniq=n.unique=function(a,b,c,d){n.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=q(c,d));for(var e=[],f=[],g=0,h=x(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b&&!c?(g&&f===j||e.push(i),f=j):c?n.contains(f,j)||(f.push(j),e.push(i)):n.contains(e,i)||e.push(i)}return e},n.union=r(function(a){return n.uniq(C(a,!0,!0))}),n.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=x(a);d<e;d++){var f=a[d];if(!n.contains(b,f)){var g;for(g=1;g<c&&n.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},n.difference=r(function(a,b){return b=C(b,!0,!0),n.filter(a,function(a){return!n.contains(b,a)})}),n.unzip=function(a){for(var b=a&&n.max(a,x).length||0,c=Array(b),d=0;d<b;d++)c[d]=n.pluck(a,d);return c},n.zip=r(n.unzip),n.object=function(a,b){for(var c={},d=0,e=x(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};var D=function(a){return function(b,c,d){c=q(c,d);for(var e=x(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}};n.findIndex=D(1),n.findLastIndex=D(-1),n.sortedIndex=function(a,b,c,d){c=q(c,d,1);for(var e=c(b),f=0,g=x(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f};var E=function(a,b,c){return function(d,e,f){var h=0,i=x(d);if("number"==typeof f)a>0?h=f>=0?f:Math.max(f+i,h):i=f>=0?Math.min(f+1,i):f+i+1;else if(c&&f&&i)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(g.call(d,h,i),n.isNaN),f>=0?f+h:-1;for(f=a>0?h:i-1;f>=0&&f<i;f+=a)if(d[f]===e)return f;return-1}};n.indexOf=E(1,n.findIndex,n.sortedIndex),n.lastIndexOf=E(-1,n.findLastIndex),n.range=function(a,b,c){null==b&&(b=a||0,a=0),c||(c=b<a?-1:1);for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e},n.chunk=function(a,b){if(null==b||b<1)return[];for(var c=[],d=0,e=a.length;d<e;)c.push(g.call(a,d,d+=b));return c};var F=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=s(a.prototype),g=a.apply(f,e);return n.isObject(g)?g:f};n.bind=r(function(a,b,c){if(!n.isFunction(a))throw new TypeError("Bind must be called on a function");var d=r(function(e){return F(a,d,b,this,c.concat(e))});return d}),n.partial=r(function(a,b){var c=n.partial.placeholder,d=function(){for(var e=0,f=b.length,g=Array(f),h=0;h<f;h++)g[h]=b[h]===c?arguments[e++]:b[h];for(;e<arguments.length;)g.push(arguments[e++]);return F(a,d,this,this,g)};return d}),n.partial.placeholder=n,n.bindAll=r(function(a,b){b=C(b,!1,!1);var c=b.length;if(c<1)throw new Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=n.bind(a[d],a)}}),n.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return u(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},n.delay=r(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),n.defer=n.partial(n.delay,n,1),n.throttle=function(a,b,c){var d,e,f,g,h=0;c||(c={});var i=function(){h=!1===c.leading?0:n.now(),d=null,g=a.apply(e,f),d||(e=f=null)},j=function(){var j=n.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return e=this,f=arguments,k<=0||k>b?(d&&(clearTimeout(d),d=null),h=j,g=a.apply(e,f),d||(e=f=null)):d||!1===c.trailing||(d=setTimeout(i,k)),g};return j.cancel=function(){clearTimeout(d),h=0,d=e=f=null},j},n.debounce=function(a,b,c){var d,e,f=function(b,c){d=null,c&&(e=a.apply(b,c))},g=r(function(g){if(d&&clearTimeout(d),c){var h=!d;d=setTimeout(f,b),h&&(e=a.apply(this,g))}else d=n.delay(f,b,this,g);return e});return g.cancel=function(){clearTimeout(d),d=null},g},n.wrap=function(a,b){return n.partial(b,a)},n.negate=function(a){return function(){return!a.apply(this,arguments)}},n.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},n.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},n.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},n.once=n.partial(n.before,2),n.restArguments=r;var G=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],I=function(a,b){var c=H.length,e=a.constructor,f=n.isFunction(e)&&e.prototype||d,g="constructor";for(u(a,g)&&!n.contains(b,g)&&b.push(g);c--;)(g=H[c])in a&&a[g]!==f[g]&&!n.contains(b,g)&&b.push(g)};n.keys=function(a){if(!n.isObject(a))return[];if(k)return k(a);var b=[];for(var c in a)u(a,c)&&b.push(c);return G&&I(a,b),b},n.allKeys=function(a){if(!n.isObject(a))return[];var b=[];for(var c in a)b.push(c);return G&&I(a,b),b},n.values=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},n.mapObject=function(a,b,c){b=q(b,c);for(var d=n.keys(a),e=d.length,f={},g=0;g<e;g++){var h=d[g];f[h]=b(a[h],h,a)}return f},n.pairs=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},n.invert=function(a){for(var b={},c=n.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},n.functions=n.methods=function(a){var b=[];for(var c in a)n.isFunction(a[c])&&b.push(c);return b.sort()};var J=function(a,b){return function(c){var d=arguments.length;if(b&&(c=Object(c)),d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}};n.extend=J(n.allKeys),n.extendOwn=n.assign=J(n.keys),n.findKey=function(a,b,c){b=q(b,c);for(var d,e=n.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d};var K=function(a,b,c){return b in c};n.pick=r(function(a,b){var c={},d=b[0];if(null==a)return c;n.isFunction(d)?(b.length>1&&(d=p(d,b[1])),b=n.allKeys(a)):(d=K,b=C(b,!1,!1),a=Object(a));for(var e=0,f=b.length;e<f;e++){var g=b[e],h=a[g];d(h,g,a)&&(c[g]=h)}return c}),n.omit=r(function(a,b){var c,d=b[0];return n.isFunction(d)?(d=n.negate(d),b.length>1&&(c=b[1])):(b=n.map(C(b,!1,!1),String),d=function(a,c){return!n.contains(b,c)}),n.pick(a,d,c)}),n.defaults=J(n.allKeys,!0),n.create=function(a,b){var c=s(a);return b&&n.extendOwn(c,b),c},n.clone=function(a){return n.isObject(a)?n.isArray(a)?a.slice():n.extend({},a):a},n.tap=function(a,b){return b(a),a},n.isMatch=function(a,b){var c=n.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var L,M;L=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!==a)return b!==b;var e=typeof a;return("function"===e||"object"===e||"object"==typeof b)&&M(a,b,c,d)},M=function(a,b,c,d){a instanceof n&&(a=a._wrapped),b instanceof n&&(b=b._wrapped);var f=h.call(a);if(f!==h.call(b))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return e.valueOf.call(a)===e.valueOf.call(b)}var g="[object Array]"===f;if(!g){if("object"!=typeof a||"object"!=typeof b)return!1;var i=a.constructor,j=b.constructor;if(i!==j&&!(n.isFunction(i)&&i instanceof i&&n.isFunction(j)&&j instanceof j)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var k=c.length;k--;)if(c[k]===a)return d[k]===b;if(c.push(a),d.push(b),g){if((k=a.length)!==b.length)return!1;for(;k--;)if(!L(a[k],b[k],c,d))return!1}else{var l,m=n.keys(a);if(k=m.length,n.keys(b).length!==k)return!1;for(;k--;)if(l=m[k],!u(b,l)||!L(a[l],b[l],c,d))return!1}return c.pop(),d.pop(),!0},n.isEqual=function(a,b){return L(a,b)},n.isEmpty=function(a){return null==a||(y(a)&&(n.isArray(a)||n.isString(a)||n.isArguments(a))?0===a.length:0===n.keys(a).length)},n.isElement=function(a){return!(!a||1!==a.nodeType)},n.isArray=j||function(a){return"[object Array]"===h.call(a)},n.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},n.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(a){n["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}}),n.isArguments(arguments)||(n.isArguments=function(a){return u(a,"callee")});var N=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof N&&(n.isFunction=function(a){return"function"==typeof a||!1}),n.isFinite=function(a){return!n.isSymbol(a)&&isFinite(a)&&!isNaN(parseFloat(a))},n.isNaN=function(a){return n.isNumber(a)&&isNaN(a)},n.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===h.call(a)},n.isNull=function(a){return null===a},n.isUndefined=function(a){return void 0===a},n.has=function(a,b){if(!n.isArray(b))return u(a,b);for(var c=b.length,d=0;d<c;d++){var e=b[d];if(null==a||!i.call(a,e))return!1;a=a[e]}return!!c},n.noConflict=function(){return a._=b,this},n.identity=function(a){return a},n.constant=function(a){return function(){return a}},n.noop=function(){},n.property=function(a){return n.isArray(a)?function(b){return v(b,a)}:t(a)},n.propertyOf=function(a){return null==a?function(){}:function(b){return n.isArray(b)?v(a,b):a[b]}},n.matcher=n.matches=function(a){return a=n.extendOwn({},a),function(b){return n.isMatch(b,a)}},n.times=function(a,b,c){var d=Array(Math.max(0,a));b=p(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},n.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},n.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=n.invert(O),Q=function(a){var b=function(b){return a[b]},c="(?:"+n.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};n.escape=Q(O),n.unescape=Q(P),n.result=function(a,b,c){n.isArray(b)||(b=[b]);var d=b.length;if(!d)return n.isFunction(c)?c.call(a):c;for(var e=0;e<d;e++){var f=null==a?void 0:a[b[e]];void 0===f&&(f=c,e=d),a=n.isFunction(f)?f.call(a):f}return a};var R=0;n.uniqueId=function(a){var b=++R+"";return a?a+b:b},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,V=function(a){return"\\"+T[a]};n.template=function(a,b,c){!b&&c&&(b=c),b=n.defaults({},b,n.templateSettings);var d=RegExp([(b.escape||S).source,(b.interpolate||S).source,(b.evaluate||S).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(U,V),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";var g;try{g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,n)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},n.chain=function(a){var b=n(a);return b._chain=!0,b};var W=function(a,b){return a._chain?n(b).chain():b};n.mixin=function(a){return n.each(n.functions(a),function(b){var c=n[b]=a[b];n.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),W(this,c.apply(n,a))}}),n},n.mixin(n),n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];n.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],W(this,c)}}),n.each(["concat","join","slice"],function(a){var b=c[a];n.prototype[a]=function(){return W(this,b.apply(this._wrapped,arguments))}}),n.prototype.value=function(){return this._wrapped},n.prototype.valueOf=n.prototype.toJSON=n.prototype.value,n.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}(),function(a,b){"use strict";function c(a,b){var c,d;b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a);for(d in b)l(b,d)&&(c[d]=b[d]);if(document.createEvent)document.dispatchEvent(c);else try{document.fireEvent("on"+c.eventType.toLowerCase(),c)}catch(a){}}function d(a){this.name="RavenConfigError",this.message=a}function e(a){var b=Y.exec(a),c={},e=7;try{for(;e--;)c[X[e]]=b[e]||""}catch(b){throw new d("Invalid DSN: "+a)}if(c.pass)throw new d("Do not specify your private key in the DSN!");return c}function f(a){return void 0===a}function g(a){return"function"==typeof a}function h(a){return"[object String]"===R.toString.call(a)}function i(a){return"object"==typeof a&&null!==a}function j(a){for(var b in a)return!1;return!0}function k(a){return i(a)&&"[object Error]"===R.toString.call(a)||a instanceof Error}function l(a,b){return R.hasOwnProperty.call(a,b)}function m(a,b){var c,d;if(f(a.length))for(c in a)l(a,c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;c<d;c++)b.call(null,c,a[c])}function n(a,b){var d=[];a.stack&&a.stack.length&&m(a.stack,function(a,b){var c=o(b);c&&d.push(c)}),c("handle",{stackInfo:a,options:b}),q(a.name,a.message,a.url,a.lineno,d,b)}function o(a){if(a.url){var b,c={filename:a.url,lineno:a.line,colno:a.column,function:a.func||"?"},d=p(a);if(d){var e=["pre_context","context_line","post_context"];for(b=3;b--;)c[e[b]]=d[b]}return c.in_app=!(P.includePaths.test&&!P.includePaths.test(c.filename)||/(Raven|TraceKit)\./.test(c.function)||/raven\.(min\.)?js$/.test(c.filename)),c}}function p(a){if(a.context&&P.fetchContext){for(var b=a.context,c=~~(b.length/2),d=b.length,e=!1;d--;)if(b[d].length>300){e=!0;break}if(e){if(f(a.column))return;return[[],b[c].substr(a.column,50),[]]}return[b.slice(0,c),b[c],b.slice(c+1)]}}function q(a,b,c,d,e,f){var g,h;P.ignoreErrors.test&&P.ignoreErrors.test(b)||(b+="",b=s(b,P.maxMessageLength),h=a+": "+b,h=s(h,P.maxMessageLength),e&&e.length?(c=e[0].filename||c,e.reverse(),g={frames:e}):c&&(g={frames:[{filename:c,lineno:d,in_app:!0}]}),P.ignoreUrls.test&&P.ignoreUrls.test(c)||P.whitelistUrls.test&&!P.whitelistUrls.test(c)||v(r({exception:{type:a,value:b},stacktrace:g,culprit:c,message:h},f)))}function r(a,b){return b?(m(b,function(b,c){a[b]=c}),a):a}function s(a,b){return a.length<=b?a:a.substr(0,b)+"…"}function t(){return+new Date}function u(){if(document.location&&document.location.href){var a={headers:{"User-Agent":navigator.userAgent}};return a.url=document.location.href,document.referrer&&(a.headers.Referer=document.referrer),a}}function v(a){var b={project:M,logger:P.logger,platform:"javascript"},d=u();d&&(b.request=d),a=r(b,a),a.tags=r(r({},P.tags),a.tags),a.extra=r(r({},P.extra),a.extra),a.extra=r({"session:duration":t()-U},a.extra),j(a.tags)&&delete a.tags,K&&(a.user=K),P.release&&(a.release=P.release),g(P.dataCallback)&&(a=P.dataCallback(a)||a),a&&!j(a)&&(g(P.shouldSendCallback)&&!P.shouldSendCallback(a)||(I=a.event_id||(a.event_id=A()),B("debug","Raven about to send:",a),y()&&(P.transport||w)({url:J,auth:{sentry_version:"4",sentry_client:"raven-js/"+W.VERSION,sentry_key:L},data:a,options:P,onSuccess:function(){c("success",{data:a,src:J})},onError:function(){c("failure",{data:a,src:J})}})))}function w(a){a.auth.sentry_data=JSON.stringify(a.data);var b=x(),c=a.url+"?"+D(a.auth);(a.options.crossOrigin||""===a.options.crossOrigin)&&(b.crossOrigin=a.options.crossOrigin),b.onload=a.onSuccess,b.onerror=b.onabort=a.onError,b.src=c}function x(){return document.createElement("img")}function y(){return!!O&&(!!J||(Z||B("error","Error: Raven has not been configured."),Z=!0,!1))}function z(a){for(var b,c=[],d=0,e=a.length;d<e;d++)b=a[d],h(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}function A(){var b=a.crypto||a.msCrypto;if(!f(b)&&b.getRandomValues){var c=new Uint16Array(8);b.getRandomValues(c),c[3]=4095&c[3]|16384,c[4]=16383&c[4]|32768;var d=function(a){for(var b=a.toString(16);b.length<4;)b="0"+b;return b};return d(c[0])+d(c[1])+d(c[2])+d(c[3])+d(c[4])+d(c[5])+d(c[6])+d(c[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})}function B(a){T[a]&&W.debug&&T[a].apply(S,F.call(arguments,1))}function C(){var b=a.RavenConfig;b&&W.config(b.dsn,b.config).install()}function D(a){var b=[];return m(a,function(a,c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}),b.join("&")}var E={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7,debug:!1},F=[].slice,G="?";E.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(a){throw E.report(a),a}}return b},E.report=function(){function c(a){h(),o.push(a)}function d(a){for(var b=o.length-1;b>=0;--b)o[b]===a&&o.splice(b,1)}function e(){i(),o=[]}function f(a,b){var c=null;if(!b||E.collectWindowErrors){for(var d in o)if(l(o,d))try{o[d].apply(null,[a].concat(F.call(arguments,2)))}catch(a){c=a}if(c)throw c}}function g(a,b,c,d,e){var g=null;if(r)E.computeStackTrace.augmentStackTraceWithInitialElement(r,b,c,a),j();else if(e)g=E.computeStackTrace(e),f(g,!0);else{var h={url:b,line:c,column:d};h.func=E.computeStackTrace.guessFunctionName(h.url,h.line),h.context=E.computeStackTrace.gatherContext(h.url,h.line),g={message:a,url:document.location.href,stack:[h]},f(g,!0)}return!!m&&m.apply(this,arguments)}function h(){n||(m=a.onerror,a.onerror=g,n=!0)}function i(){n&&(a.onerror=m,n=!1,m=b)}function j(){var a=r,b=p;p=null,r=null,q=null,f.apply(null,[a,!1].concat(b))}function k(b,c){var d=F.call(arguments,1);if(r){if(q===b)return;j()}var e=E.computeStackTrace(b);if(r=e,q=b,p=d,a.setTimeout(function(){q===b&&j()},e.incomplete?2e3:0),!1!==c)throw b}var m,n,o=[],p=null,q=null,r=null;return k.subscribe=c,k.unsubscribe=d,k.uninstall=e,k}(),E.computeStackTrace=function(){function b(b){if(!E.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(a){return""}}function c(a){if(!h(a))return[];if(!l(t,a)){var c="",d="";try{d=document.domain}catch(a){}-1!==a.indexOf(d)&&(c=b(a)),t[a]=c?c.split("\n"):[]}return t[a]}function d(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,h="",i=10,j=c(a);if(!j.length)return G;for(var k=0;k<i;++k)if(h=j[b-k]+h,!f(h)){if(d=g.exec(h))return d[1];if(d=e.exec(h))return d[1]}return G}function e(a,b){var d=c(a);if(!d.length)return null;var e=[],g=Math.floor(E.linesOfContext/2),h=g+E.linesOfContext%2,i=Math.max(0,b-g-1),j=Math.min(d.length,b+h-1);b-=1;for(var k=i;k<j;++k)f(d[k])||e.push(d[k]);return e.length>0?e:null}function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function i(a){return g(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function j(a,b){for(var d,e,f=0,g=b.length;f<g;++f)if((d=c(b[f])).length&&(d=d.join("\n"),e=a.exec(d)))return{url:b[f],line:d.substring(0,e.index).split("\n").length,column:e.index-d.lastIndexOf("\n",e.index)-1};return null}function k(a,b,d){var e,f=c(b),h=new RegExp("\\b"+g(a)+"\\b");return d-=1,f&&f.length>d&&(e=h.exec(f[d]))?e.index:null}function m(b){for(var c,d,e,f,h=[a.location.href],k=document.getElementsByTagName("script"),l=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<k.length;++o){var p=k[o];p.src&&h.push(p.src)}if(e=m.exec(l)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=g(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(g(l).replace(/\s+/g,"\\s+"));if(f=j(d,h))return f;if(e=n.exec(l)){var s=e[1];if(c=i(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=j(d,h[0]))return f;if(d=new RegExp(c),f=j(d,h))return f}return null}function n(a){if(!f(a.stack)&&a.stack){for(var b,c,g=/^\s*at (.*?) ?\(?((?:(?:file|https?|chrome-extension):.*?)|<anonymous>):(\d+)(?::(\d+))?\)?\s*$/i,h=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,j=a.stack.split("\n"),l=[],m=/^(.*) is undefined$/.exec(a.message),n=0,o=j.length;n<o;++n){if(b=h.exec(j[n]))c={url:b[3],func:b[1]||G,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=g.exec(j[n]))c={url:b[2],func:b[1]||G,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=i.exec(j[n])))continue;c={url:b[2],func:b[1]||G,line:+b[3],column:b[4]?+b[4]:null}}!c.func&&c.line&&(c.func=d(c.url,c.line)),c.line&&(c.context=e(c.url,c.line)),l.push(c)}return l.length?(l[0].line&&!l[0].column&&m?l[0].column=k(m[1],l[0].url,l[0].line):l[0].column||f(a.columnNumber)||(l[0].column=a.columnNumber+1),{name:a.name,message:a.message,url:document.location.href,stack:l}):null}}function o(a){var b=a.stacktrace;if(!f(a.stacktrace)&&a.stacktrace){for(var c,g=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,h=b.split("\n"),i=[],j=0,k=h.length;j<k;j+=2)if(c=g.exec(h[j])){var l={line:+c[1],column:+c[2],func:c[3]||c[4],args:c[5]?c[5].split(","):[],url:c[6]};if(!l.func&&l.line&&(l.func=d(l.url,l.line)),l.line)try{l.context=e(l.url,l.line)}catch(a){}l.context||(l.context=[h[j+1]]),i.push(l)}return i.length?{name:a.name,message:a.message,url:document.location.href,stack:i}:null}}function p(b){var f=b.message.split("\n");if(f.length<4)return null;var g,h,k,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(h in r)l(r,h)&&!r[h].src&&s.push(r[h]);for(h=2,k=f.length;h<k;h+=2){var t=null;if(g=n.exec(f[h]))t={url:g[2],func:g[3],line:+g[1]};else if(g=o.exec(f[h])){t={url:g[3],func:g[4]};var u=+g[1],v=s[g[2]-1];if(v&&(m=c(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(g=p.exec(f[h])){var x=a.location.href.replace(/#.*$/,""),y=g[1],z=new RegExp(i(f[h+1]));m=j(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=d(t.url,t.line));var A=e(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;A&&B.replace(/^\s*/,"")===f[h+1].replace(/^\s*/,"")?t.context=A:t.context=[f[h+1]],q.push(t)}}return q.length?{name:b.name,message:f[0],url:document.location.href,stack:q}:null}function q(a,b,c,f){var g={url:b,line:c};if(g.url&&g.line){a.incomplete=!1,g.func||(g.func=d(g.url,g.line)),g.context||(g.context=e(g.url,g.line));var h=/ '([^']+)' /.exec(f);if(h&&(g.column=k(h[1],g.url,g.line)),a.stack.length>0&&a.stack[0].url===g.url){if(a.stack[0].line===g.line)return!1;if(!a.stack[0].line&&a.stack[0].func===g.func)return a.stack[0].line=g.line,a.stack[0].context=g.context,!1}return a.stack.unshift(g),a.partial=!0,!0}return a.incomplete=!0,!1}function r(a,b){for(var c,e,f,g=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],i={},j=!1,l=r.caller;l&&!j;l=l.caller)if(l!==s&&l!==E.report){if(e={url:null,func:G,line:null,column:null},l.name?e.func=l.name:(c=g.exec(l.toString()))&&(e.func=c[1]),void 0===e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(a){}if(f=m(l)){e.url=f.url,e.line=f.line,e.func===G&&(e.func=d(e.url,e.line));var n=/ '([^']+)' /.exec(a.message||a.description);n&&(e.column=k(n[1],f.url,f.line))}i[""+l]?j=!0:i[""+l]=!0,h.push(e)}b&&h.splice(0,b);var o={name:a.name,message:a.message,url:document.location.href,stack:h};return q(o,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),o}function s(a,b){var c=null;b=null==b?0:+b;try{if(c=o(a))return c}catch(a){if(E.debug)throw a}try{if(c=n(a))return c}catch(a){if(E.debug)throw a}try{if(c=p(a))return c}catch(a){if(E.debug)throw a}try{if(c=r(a,b+1))return c}catch(a){if(E.debug)throw a}return{name:a.name,message:a.message,url:document.location.href}}var t={};return s.augmentStackTraceWithInitialElement=q,s.computeStackTraceFromStackProp=n,s.guessFunctionName=d,s.gatherContext=e,s}();var H,I,J,K,L,M,N=a.Raven,O=!("object"!=typeof JSON||!JSON.stringify),P={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},Q=!1,R=Object.prototype,S=a.console||{},T={},U=t();for(var V in S)T[V]=S[V];var W={VERSION:"1.1.22",debug:!0,noConflict:function(){return a.Raven=N,W},config:function(a,b){if(J)return B("error","Error: Raven has already been configured"),W;if(!a)return W;var c=e(a),d=c.path.lastIndexOf("/"),f=c.path.substr(1,d);return b&&m(b,function(a,b){P[a]=b}),P.ignoreErrors.push(/^Script error\.?$/),P.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),P.ignoreErrors=z(P.ignoreErrors),P.ignoreUrls=!!P.ignoreUrls.length&&z(P.ignoreUrls),P.whitelistUrls=!!P.whitelistUrls.length&&z(P.whitelistUrls),P.includePaths=z(P.includePaths),L=c.user,M=c.path.substr(d+1),J="//"+c.host+(c.port?":"+c.port:"")+"/"+f+"api/"+M+"/store/",c.protocol&&(J=c.protocol+":"+J),P.fetchContext&&(E.remoteFetching=!0),P.linesOfContext&&(E.linesOfContext=P.linesOfContext),E.collectWindowErrors=!!P.collectWindowErrors,W},install:function(){return y()&&!Q&&(E.report.subscribe(n),Q=!0),W},context:function(a,c,d){return g(a)&&(d=c||[],c=a,a=b),W.wrap(a,c).apply(this,d)},wrap:function(a,c){function d(){for(var b=[],d=arguments.length,e=!a||a&&!1!==a.deep;d--;)b[d]=e?W.wrap(a,arguments[d]):arguments[d];try{return c.apply(this,b)}catch(b){throw W.captureException(b,a),b}}if(f(c)&&!g(a))return a;if(g(a)&&(c=a,a=b),!g(c))return c;if(c.__raven__)return c;for(var e in c)l(c,e)&&(d[e]=c[e]);return d.__raven__=!0,d.__inner__=c,d},uninstall:function(){return E.report.uninstall(),Q=!1,W},captureException:function(a,b){if(!k(a))return W.captureMessage(a,b);H=a;try{n(E.computeStackTrace(a),b)}catch(b){if(a!==b)throw b}return W},captureMessage:function(a,b){if(!P.ignoreErrors.test||!P.ignoreErrors.test(a))return v(r({message:a+""},b)),W},setUserContext:function(a){return K=a,W},setExtraContext:function(a){return P.extra=a||{},W},setTagsContext:function(a){return P.tags=a||{},W},setReleaseContext:function(a){return P.release=a,W},setDataCallback:function(a){return P.dataCallback=a,W},setShouldSendCallback:function(a){return P.shouldSendCallback=a,W},lastException:function(){return H},lastEventId:function(){return I},isSetup:function(){return y()}};W.setUser=W.setUserContext;var X="source protocol user pass host port path".split(" "),Y=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;d.prototype=new Error,d.prototype.constructor=d;var Z;C(),"function"==typeof define&&define.amd?(a.Raven=W,define("raven",[],function(){return W})):"object"==typeof module?module.exports=W:"object"==typeof exports?exports=W:a.Raven=W}("undefined"!=typeof window?window:this),function(a,b,c){"use strict";function d(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):void 0===a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):void 0===b?"undefined":"string"!=typeof b?Q(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.2.28/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return!(1!==a.nodeType||!b)||(u(a)||Ec(a)||0===b||"number"==typeof b&&b>0&&b-1 in a)}function f(a,b,c){var d;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(Ec(a)||e(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else if(a.forEach&&a.forEach!==f)a.forEach(b,c);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function g(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){for(var a,b=Dc.length;b;){if(b--,57==(a=Dc[b].charCodeAt(0)))return Dc[b]="A",Dc.join("");if(90!=a)return Dc[b]=String.fromCharCode(a+1),Dc.join("");Dc[b]="0"}return Dc.unshift("0"),Dc.join("")}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){var b=a.$$hashKey;return f(arguments,function(b){b!==a&&f(b,function(b,c){a[c]=b})}),k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(new(l(function(){},{prototype:a})),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return void 0===a}function s(a){return void 0!==a}function t(a){return null!=a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===Ac.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===Ac.call(a)}function z(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===Ac.call(a)}function C(a){return"[object Blob]"===Ac.call(a)}function D(a){return a&&x(a.then)}function E(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function F(a,b,c){var d=[];return f(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function G(a,b){return-1!=H(a,b)}function H(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function I(a,b){var c=H(a,b);return c>=0&&a.splice(c,1),b}function J(a,b,c,d){if(z(a)||A(a))throw Bc("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw Bc("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=H(c,a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(Ec(a)){b.length=0;for(var h=0;h<a.length;h++)g=J(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;Ec(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)g=J(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g;k(b,i)}}else b=a,a&&(Ec(a)?b=J(a,[],c,d):w(a)?b=new Date(a.getTime()):y(a)?(b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex):t(a)&&(b=J(a,{},c,d)));return b}function K(a,b){if(Ec(a)){b=b||[];for(var c=0;c<a.length;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var d in a)!pc.call(a,d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d])}return b||a}function L(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Ec(a)){if(w(a))return!!w(b)&&(isNaN(a.getTime())&&isNaN(b.getTime())||a.getTime()===b.getTime());if(y(a)&&y(b))return a.toString()==b.toString();if(A(a)||A(b)||z(a)||z(b)||Ec(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!L(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!Ec(b))return!1;if((d=a.length)==b.length){for(e=0;e<d;e++)if(!L(a[e],b[e]))return!1;return!0}}return!1}function M(a,b,c){return a.concat(yc.call(b,c))}function N(a,b){return yc.call(a,b||0)}function O(a,b){var c=arguments.length>2?N(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(yc.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function P(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function Q(a,b){return void 0===a?c:JSON.stringify(a,P,b?"  ":null)}function R(a){return u(a)?JSON.parse(a):a}function S(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=oc(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}function T(a){a=uc(a).clone();try{a.empty()}catch(a){}var b=uc("<div>").append(a).html();try{return 3===a[0].nodeType?oc(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+oc(b)})}catch(a){return oc(b)}}function U(a){try{return decodeURIComponent(a)}catch(a){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=!s(b[1])||U(b[1]);pc.call(d,c)?Ec(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){Ec(a)?f(a,function(a){b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Z(a,c){function d(a){a&&h.push(a)}var e,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;f(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(f(a.querySelectorAll("."+c),d),f(a.querySelectorAll("."+c+"\\:"),d),f(a.querySelectorAll("["+c+"]"),d))}),f(h,function(a){if(!e){var b=" "+a.className+" ",c=j.exec(b);c?(e=a,g=(c[2]||"").replace(/\s+/g,",")):f(a.attributes,function(b){!e&&i[b.name]&&(e=a,g=b.value)})}}),e&&c(e,g?[g]:[])}function $(c,d){var e=function(){if(c=uc(c),c.injector()){var a=c[0]===b?"document":T(c);throw Bc("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng");var e=Ha(d);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),e},g=/^NG_DEFER_BOOTSTRAP!/;if(a&&!g.test(a.name))return e();a.name=a.name.replace(g,""),Cc.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),e()}}function _(a,b){return b=b||"_",a.replace(Hc,function(a,c){return(c?b:"")+a.toLowerCase()})}function aa(){vc=a.jQuery,vc&&vc.fn.on?(uc=vc,l(vc.fn,{scope:Vc.scope,isolateScope:Vc.isolateScope,controller:Vc.controller,injector:Vc.injector,inheritedData:Vc.inheritedData}),ka("remove",!0,!0,!1),ka("empty",!1,!1,!1),ka("html",!1,!1,!0)):uc=oa,Cc.element=uc}function ba(a,b,c){if(!a)throw Bc("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ca(a,b,c){return c&&Ec(a)&&(a=a[a.length-1]),ba(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function da(a,b){if("hasOwnProperty"===a)throw Bc("badname","hasOwnProperty is not a valid {0} name",b)}function ea(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;h<g;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?O(f,a):a}function fa(a){var b=a[0],c=a[a.length-1];if(b===c)return uc(b);var d=b,e=[d];do{if(!(d=d.nextSibling))break;e.push(d)}while(d!==c);return uc(e)}function ga(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){return function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)}(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d){return function(){return b[d||"push"]([a,c,arguments]),i}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=a("$injector","invoke"),i={_invokeQueue:b,_runBlocks:e,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function ha(b){l(b,{bootstrap:$,copy:J,extend:l,equals:L,element:uc,forEach:f,injector:Ha,noop:o,bind:O,toJson:Q,fromJson:R,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:E,isArray:Ec,version:Ic,isDate:w,lowercase:oc,uppercase:qc,callbacks:{counter:0},$$minErr:d,$$csp:Gc}),wc=ga(a);try{wc("ngLocale")}catch(a){wc("ngLocale",[]).provider("$locale",cb)}wc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Eb}),a.provider("$compile",Oa).directive({a:Fd,input:Qd,textarea:Qd,form:Jd,script:ye,select:Be,style:De,option:Ce,ngBind:ae,ngBindHtml:ce,ngBindTemplate:be,ngClass:de,ngClassEven:fe,ngClassOdd:ee,ngCloak:ge,ngController:he,ngForm:Kd,ngHide:se,ngIf:ke,ngInclude:le,ngInit:ne,ngNonBindable:oe,ngPluralize:pe,ngRepeat:qe,ngShow:re,ngStyle:te,ngSwitch:ue,ngSwitchWhen:ve,ngSwitchDefault:we,ngOptions:Ae,ngTransclude:xe,ngModel:Wd,ngList:Zd,ngChange:Xd,required:Yd,ngRequired:Yd,ngValue:_d}).directive({ngInclude:me}).directive(Gd).directive(ie),a.provider({$anchorScroll:Ia,$animate:cd,$browser:La,$cacheFactory:Ma,$controller:Ra,$document:Sa,$exceptionHandler:Ta,$filter:Pb,$interpolate:ab,$interval:bb,$http:Ya,$httpBackend:$a,$location:pb,$log:qb,$parse:zb,$rootScope:Db,$q:Ab,$sce:Jb,$sceDelegate:Ib,$sniffer:Kb,$templateCache:Na,$timeout:Lb,$window:Ob,$$rAF:Cb,$$asyncCallback:Ja})}])}function ia(){return++Kc}function ja(a){return a.replace(Nc,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Oc,"Moz$1")}function ka(a,b,c,d){function e(a){var e,g,h,i,j,k,l,m=c&&a?[this.filter(a)]:[this],n=b;if(!d||null!=a)for(;m.length;)for(e=m.shift(),g=0,h=e.length;g<h;g++)for(i=uc(e[g]),n?i.triggerHandler("$destroy"):n=!n,j=0,k=(l=i.children()).length;j<k;j++)m.push(vc(l[j]));return f.apply(this,arguments)}var f=vc.fn[a];f=f.$original||f,e.$original=f,vc.fn[a]=e}function la(a){return!Rc.test(a)}function ma(a,b){var c,d,e,f,g,h,i=b.createDocumentFragment(),j=[];if(la(a))j.push(b.createTextNode(a));else{for(c=i.appendChild(b.createElement("div")),d=(Sc.exec(a)||["",""])[1].toLowerCase(),e=Uc[d]||Uc._default,c.innerHTML="<div>&#160;</div>"+e[1]+a.replace(Tc,"<$1></$2>")+e[2],c.removeChild(c.firstChild),f=e[0];f--;)c=c.lastChild;for(g=0,h=c.childNodes.length;g<h;++g)j.push(c.childNodes[g]);c=i.firstChild,c.textContent=""}return i.textContent="",i.innerHTML="",j}function na(a,c){c=c||b;var d;return(d=Qc.exec(a))?[c.createElement(d[1])]:ma(a,c)}function oa(a){if(a instanceof oa)return a;if(u(a)&&(a=Fc(a)),!(this instanceof oa)){if(u(a)&&"<"!=a.charAt(0))throw Pc("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new oa(a)}if(u(a)){ya(this,na(a));uc(b.createDocumentFragment()).append(this)}else ya(this,a)}function pa(a){return a.cloneNode(!0)}function qa(a){sa(a);for(var b=0,c=a.childNodes||[];b<c.length;b++)qa(c[b])}function ra(a,b,c,d){if(s(d))throw Pc("offargs","jqLite#off() does not support the `selector` argument");var e=ta(a,"events");ta(a,"handle")&&(r(b)?f(e,function(b,c){Mc(a,c,b),delete e[c]}):f(b.split(" "),function(b){r(c)?(Mc(a,b,e[b]),delete e[b]):I(e[b]||[],c)}))}function sa(a,b){var d=a.ng339,e=Jc[d];if(e){if(b)return void delete Jc[d].data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),ra(a)),delete Jc[d],a.ng339=c}}function ta(a,b,c){var d=a.ng339,e=Jc[d||-1];if(!s(c))return e&&e[b];e||(a.ng339=d=ia(),e=Jc[d]={}),e[b]=c}function ua(a,b,c){var d=ta(a,"data"),e=s(c),f=!e&&s(b),g=f&&!t(b);if(d||g||ta(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];l(d,b)}}function va(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function wa(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Fc((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Fc(b)+" "," ")))})}function xa(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Fc(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Fc(c))}}function ya(a,b){if(b){b=b.nodeName||!s(b.length)||z(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function za(a,b){return Aa(a,"$"+(b||"ngController")+"Controller")}function Aa(a,b,d){9==a.nodeType&&(a=a.documentElement);for(var e=Ec(b)?b:[b];a;){for(var f=0,g=e.length;f<g;f++)if((d=uc.data(a,e[f]))!==c)return d;a=a.parentNode||11===a.nodeType&&a.host}}function Ba(a){for(var b=0,c=a.childNodes;b<c.length;b++)qa(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function Ca(a,b){var c=Wc[b.toLowerCase()];return c&&Xc[a.nodeName]&&c}function Da(a,c){var d=function(d,e){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),r(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||!1===d.returnValue},f(K(c[e||d.type]||[]),function(b){b.call(a,d)}),tc<=8?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function Ea(a,b){var d,e=typeof a;return"function"==e||"object"==e&&null!==a?"function"==typeof(d=a.$$hashKey)?d=a.$$hashKey():d===c&&(d=a.$$hashKey=(b||j)()):d=a,e+":"+d}function Fa(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Ga(a){var b,c,d,e;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(_c,""),d=c.match(Yc),f(d[1].split(Zc),function(a){a.replace($c,function(a,c,d){b.push(d)})})),a.$inject=b):Ec(a)?(e=a.length-1,ca(a[e],"fn"),b=a.slice(0,e)):ca(a,"fn",!0),b}function Ha(a){function b(a){return function(b,c){if(!t(b))return a(b,c);f(b,i(a))}}function c(a,b){if(da(a,"service"),(x(b)||Ec(b))&&(b=v.instantiate(b)),!b.$get)throw ad("pget","Provider '{0}' must define $get factory method.",a);return s[a+n]=b}function d(a,b){return c(a,{$get:b})}function e(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}function g(a,b){return d(a,q(b))}function h(a,b){da(a,"constant"),s[a]=b,w[a]=b}function j(a,b){var c=v.get(a+n),d=c.$get;c.$get=function(){var a=y.invoke(d,c);return y.invoke(b,null,{$delegate:a})}}function k(a){var b,c,d,e,g=[];return f(a,function(a){if(!r.get(a)){r.put(a,!0);try{if(u(a))for(b=wc(a),g=g.concat(k(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,e=c.length;d<e;d++){var f=c[d],h=v.get(f[0]);h[f[1]].apply(h,f[2])}else x(a)?g.push(v.invoke(a)):Ec(a)?g.push(v.invoke(a)):ca(a,"module")}catch(b){throw Ec(a)&&(a=a[a.length-1]),b.message&&b.stack&&-1==b.stack.indexOf(b.message)&&(b=b.message+"\n"+b.stack),ad("modulerr","Failed to instantiate module {0} due to:\n{1}",a,b.stack||b.message||b)}}}),g}function l(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===m)throw ad("cdep","Circular dependency found: {0}",c+" <- "+p.join(" <- "));return a[c]}try{return p.unshift(c),a[c]=m,a[c]=b(c)}catch(b){throw a[c]===m&&delete a[c],b}finally{p.shift()}}function d(a,b,d){var e,f,g,h=[],i=Ga(a);for(f=0,e=i.length;f<e;f++){if("string"!=typeof(g=i[f]))throw ad("itkn","Incorrect injection token! Expected service name as string, got {0}",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return Ec(a)&&(a=a[e]),a.apply(b,h)}function e(a,b){var c,e,f=function(){};return f.prototype=(Ec(a)?a[a.length-1]:a).prototype,c=new f,e=d(a,c,b),t(e)||x(e)?e:c}return{invoke:d,instantiate:e,get:c,annotate:Ga,has:function(b){return s.hasOwnProperty(b+n)||a.hasOwnProperty(b)}}}var m={},n="Provider",p=[],r=new Fa([],!0),s={$provide:{provider:b(c),factory:b(d),service:b(e),value:b(g),constant:b(h),decorator:j}},v=s.$injector=l(s,function(){throw ad("unpr","Unknown provider: {0}",p.join(" <- "))}),w={},y=w.$injector=l(w,function(a){var b=v.get(a+n);return y.invoke(b.$get,b)});return f(k(a),function(a){y.invoke(a||o)}),y}function Ia(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return f(a,function(a){b||"a"!==oc(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=e(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Ja(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Ka(a,b,d,e){function g(a){try{a.apply(null,N(arguments,1))}finally{if(0===--s)for(;t.length;)try{t.pop()()}catch(a){d.error(a)}}}function h(a,b){!function c(){f(w,function(a){a()}),v=b(c,a)}()}function i(){x!=j.url()&&(x=j.url(),f(A,function(a){a(j.url())}))}var j=this,k=b[0],l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,q={};j.isMock=!1;var s=0,t=[];j.$$completeOutstandingRequest=g,j.$$incOutstandingRequestCount=function(){s++},j.notifyWhenNoOutstandingRequests=function(a){f(w,function(a){a()}),0===s?a():t.push(a)};var v,w=[];j.addPollFn=function(a){return r(v)&&h(100,n),w.push(a),a};var x=l.href,y=b.find("base"),z=null;j.url=function(b,c){if(l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){if(x==b)return;var d=x&&hb(x)===hb(b);return x=b,!d&&e.history?c?m.replaceState(null,"",b):(m.pushState(null,"",b),y.attr("href",y.attr("href"))):(d||(z=b),c?l.replace(b):l.href=b),j}return z||l.href.replace(/%27/g,"'")};var A=[],B=!1;j.onUrlChange=function(b){return B||(e.history&&uc(a).on("popstate",i),e.hashchange?uc(a).on("hashchange",i):j.addPollFn(i),B=!0),A.push(b),b},j.$$checkUrlChange=i,j.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},D="",E=j.baseHref();j.cookies=function(a,b){var e,f,g,h,i;if(!a){if(k.cookie!==D)for(D=k.cookie,f=D.split("; "),C={},h=0;h<f.length;h++)g=f[h],(i=g.indexOf("="))>0&&(a=unescape(g.substring(0,i)),C[a]===c&&(C[a]=unescape(g.substring(i+1))));return C}b===c?k.cookie=escape(a)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(k.cookie=escape(a)+"="+escape(b)+";path="+E).length+1)>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!")},j.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],g(a)},b||0),q[c]=!0,c},j.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),g(o),!0)}}function La(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Ka(a,d,b,c)}]}function Ma(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){e(k[a]||(k[a]={key:a}))}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Na(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Oa(a,d){var e={},g="Directive",h=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,j=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,k=/^(on[a-z]+|formaction)$/;this.directive=function b(c,d){return da(c,"directive"),u(c)?(ba(d,"directiveFactory"),e.hasOwnProperty(c)||(e[c]=[],a.factory(c+g,["$injector","$exceptionHandler",function(a,b){var d=[];return f(e[c],function(e,f){try{var g=a.invoke(e);x(g)?g={compile:q(g)}:!g.compile&&g.link&&(g.compile=q(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||c,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",d.push(g)}catch(a){b(a)}}),d}])),e[c].push(d)):f(c,i(b)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,i,m,o,q,r,s,v,w,y,z){function A(a,b,c,d,e){a instanceof uc||(a=uc(a)),f(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=b=uc(b).wrap("<span></span>").parent()[0])});var g=C(a,b,a,c,d,e);return B(a,"ng-scope"),function(b,c,d,e){ba(b,"scope");var h=c?Vc.clone.call(a):a;f(d,function(a,b){h.data("$"+b+"Controller",a)});for(var i=0,j=h.length;i<j;i++){var k=h[i],l=k.nodeType;1!==l&&9!==l||h.eq(i).data("$scope",b)}return c&&c(h,b),g&&g(b,h,h,e),h}}function B(a,b){try{a.addClass(b)}catch(a){}}function C(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,p=d.length,q=new Array(p);for(k=0;k<p;k++)q[k]=d[k];for(k=0,m=0,l=o.length;k<l;m++)i=q[m],g=o[k++],h=o[k++],g?(g.scope?(j=a.$new(),uc.data(i,"$scope",j)):j=a,n=g.transcludeOnThisElement?D(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?D(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o=[],p=0;p<a.length;p++)i=new X,j=E(a[p],[],i,0===p?e:c,f),k=j.length?H(j,a[p],i,b,d,null,[],[],g):null,k&&k.scope&&B(i.$$element,"ng-scope"),m=k&&k.terminal||!(l=a[p].childNodes)||!l.length?null:C(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),o.push(k,m),n=n||k||m,g=null;return n?h:null}function D(a,b,c){return function(d,e,f){var g=!1;d||(d=a.$new(),d.$$transcluded=!0,g=!0);var h=b(d,e,f,c);return g&&h.on("$destroy",function(){d.$destroy()}),h}}function E(a,b,c,d,e){var f,g,i=a.nodeType,k=c.$attr;switch(i){case 1:J(b,Pa(xc(a).toLowerCase()),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;s<t;s++){var v=!1,w=!1;if(l=r[s],!tc||tc>=8||l.specified){m=l.name,p=Fc(l.value),o=Pa(m),(q=aa.test(o))&&(m=_(o.substr(6),"-"));o===o.replace(/(Start|End)$/,"")+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=Pa(m.toLowerCase()),k[n]=m,!q&&c.hasOwnProperty(n)||(c[n]=p,Ca(a,n)&&(c[n]=!0)),U(a,b,p,n),J(b,n,"A",d,e,v,w)}}if(g=a.className,u(g)&&""!==g)for(;f=j.exec(g);)n=Pa(f[2]),J(b,n,"C",d,e)&&(c[n]=Fc(f[3])),g=g.substr(f.index+f[0].length);break;case 3:R(b,a.nodeValue);break;case 8:try{f=h.exec(a.nodeValue),f&&(n=Pa(f[1]),J(b,n,"M",d,e)&&(c[n]=Fc(f[2])))}catch(a){}}return b.sort(P),b}function F(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw dd("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return uc(d)}function G(a,b,c){return function(d,e,f,g,h){return e=F(e[0],b,c),a(d,e,f,g,h)}}function H(a,e,g,h,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=G(a,c,d)),a.require=w.require,a.directiveName=y,(P===w||w.$$isolateScope)&&(a=W(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=G(b,c,d)),b.require=w.require,b.directiveName=y,(P===w||w.$$isolateScope)&&(b=W(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g="data",h=!1;if(u(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(g="inheritedData"),h=h||"?"==e;if(e=null,d&&"data"===g&&(e=d[b]),!(e=e||c[g]("$"+b+"Controller"))&&!h)throw dd("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e}return Ec(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function s(a,b,h,j,k){function n(a,b){var d;return arguments.length<2&&(b=a,a=c),Z&&(d=z),k(a,b,d)}var o,s,t,u,v,w,x,y,z={};if(o=e===h?g:K(g,new X(uc(h),g.$attr)),s=o.$$element,P){var A=/^\s*([@=&])(\??)\s*(\w*)\s*$/;x=b.$new(!0),!R||R!==P&&R!==P.$$originalDirective?s.data("$isolateScopeNoTemplate",x):s.data("$isolateScope",x),B(s,"ng-isolate-scope"),f(P.scope,function(a,c){var e,f,g,h,i=a.match(A)||[],j=i[3]||c,k="?"==i[2],l=i[1];switch(x.$$isolateBindings[c]=l+j,l){case"@":o.$observe(j,function(a){x[c]=a}),o.$$observers[j].$$scope=b,o[j]&&(x[c]=d(o[j])(b));break;case"=":if(k&&!o[j])return;f=q(o[j]),h=f.literal?L:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=x[c]=f(b),dd("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",o[j],P.name)},e=x[c]=f(b),x.$watch(function(){var a=f(b);return h(a,x[c])||(h(a,e)?g(b,a=x[c]):x[c]=a),e=a},null,f.literal);break;case"&":f=q(o[j]),x[c]=function(a){return f(b,a)};break;default:throw dd("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",P.name,c,a)}})}for(y=k&&n,J&&f(J,function(a){var c,d={$scope:a===P||a.$$isolateScope?x:b,$element:s,$attrs:o,$transclude:y};w=a.controller,"@"==w&&(w=o[a.name]),c=r(w,d),z[a.name]=c,Z||s.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),t=0,u=l.length;t<u;t++)try{v=l[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(a){i(a,T(s))}var C=b;for(P&&(P.template||null===P.templateUrl)&&(C=x),a&&a(C,h.childNodes,c,k),t=m.length-1;t>=0;t--)try{v=m[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(a){i(a,T(s))}}n=n||{};for(var v,w,y,z,C,D,H=-Number.MAX_VALUE,J=n.controllerDirectives,P=n.newIsolateScopeDirective,R=n.templateDirective,S=n.nonTlbTranscludeDirective,U=!1,Y=!1,Z=n.hasElementTranscludeDirective,_=g.$$element=uc(e),aa=k,ba=h,ca=0,da=a.length;ca<da;ca++){w=a[ca];var ea=w.$$start,fa=w.$$end;if(ea&&(_=F(e,ea,fa)),z=c,H>w.priority)break;if((D=w.scope)&&(v=v||w,w.templateUrl||(Q("new/isolated scope",P,w,_),t(D)&&(P=w))),y=w.name,!w.templateUrl&&w.controller&&(D=w.controller,J=J||{},Q("'"+y+"' controller",J[y],w,_),J[y]=w),(D=w.transclude)&&(U=!0,w.$$tlb||(Q("transclusion",S,w,_),S=w),"element"==D?(Z=!0,H=w.priority,z=_,_=g.$$element=uc(b.createComment(" "+y+": "+g[y]+" ")),e=_[0],V(j,N(z),e),ba=A(z,h,H,aa&&aa.name,{nonTlbTranscludeDirective:S})):(z=uc(pa(e)).contents(),_.empty(),ba=A(z,h))),w.template)if(Y=!0,Q("template",R,w,_),R=w,D=x(w.template)?w.template(_,g):w.template,D=$(D),w.replace){if(aa=w,z=la(D)?[]:uc(Fc(D)),e=z[0],1!=z.length||1!==e.nodeType)throw dd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");V(j,_,e);var ga={$attr:{}},ha=E(e,[],ga),ia=a.splice(ca+1,a.length-(ca+1));P&&I(ha),a=a.concat(ha).concat(ia),M(g,ga),da=a.length}else _.html(D);if(w.templateUrl)Y=!0,Q("template",R,w,_),R=w,w.replace&&(aa=w),s=O(a.splice(ca,a.length-ca),_,g,j,U&&ba,l,m,{controllerDirectives:J,newIsolateScopeDirective:P,templateDirective:R,nonTlbTranscludeDirective:S}),da=a.length;else if(w.compile)try{C=w.compile(_,g,ba),x(C)?o(null,C,ea,fa):C&&o(C.pre,C.post,ea,fa)}catch(a){i(a,T(_))}w.terminal&&(s.terminal=!0,H=Math.max(H,w.priority))}return s.scope=v&&!0===v.scope,s.transcludeOnThisElement=U,s.templateOnThisElement=Y,s.transclude=ba,n.hasElementTranscludeDirective=Z,s}function I(a){for(var b=0,c=a.length;b<c;b++)a[b]=n(a[b],{$$isolateScope:!0})}function J(b,d,f,h,j,k,l){if(d===j)return null;var m=null;if(e.hasOwnProperty(d))for(var o,p=a.get(d+g),q=0,r=p.length;q<r;q++)try{o=p[q],(h===c||h>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(a){i(a)}return m}function M(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(B(e,b),a.class=(a.class?a.class+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function O(a,b,c,d,e,g,h,i){var j,k,n=[],p=b[0],q=a.shift(),r=l({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=x(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),m.get(w.getTrustedResourceUrl(s),{cache:o}).success(function(l){var m,o,u,v;if(l=$(l),q.replace){if(u=la(l)?[]:uc(Fc(l)),m=u[0],1!=u.length||1!==m.nodeType)throw dd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,s);o={$attr:{}},V(d,b,m);var w=E(m,[],o);t(q.scope)&&I(w),a=w.concat(a),M(c,o)}else m=p,b.html(l);for(a.unshift(r),j=H(a,m,c,e,b,q,g,h,i),f(d,function(a,c){a==m&&(d[c]=b[0])}),k=C(b[0].childNodes,e);n.length;){var x=n.shift(),y=n.shift(),z=n.shift(),A=n.shift(),F=b[0];if(y!==p){var G=y.className;i.hasElementTranscludeDirective&&q.replace||(F=pa(m)),V(z,uc(y),F),B(uc(F),G)}v=j.transcludeOnThisElement?D(x,j.transclude,A):A,j(k,x,F,d,v)}n=null}).error(function(a,b,c,d){throw dd("tpload","Failed to load template: {0}",d.url)}),function(a,b,c,d,e){var f=e;n?(n.push(b),n.push(c),n.push(d),n.push(f)):(j.transcludeOnThisElement&&(f=D(b,j.transclude,e)),j(k,b,c,d,f))}}function P(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Q(a,b,c,d){if(b)throw dd("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function R(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=b.length;return d&&B(a.parent(),"ng-binding"),function(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(c),e.data("$binding",f),d||B(e,"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function S(a,b){if("srcdoc"==b)return w.HTML;var c=xc(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?w.RESOURCE_URL:void 0}function U(a,b,c,e){var f=d(c,!0);if(f){if("multiple"===e&&"SELECT"===xc(a))throw dd("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){var h=g.$$observers||(g.$$observers={});if(k.test(e))throw dd("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(f=d(g[e],!0,S(a,e)))&&(g[e]=f(b),(h[e]||(h[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function V(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;e<f;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;j<l;j++,k++)k<l?a[j]=a[k]:delete a[j];a.length-=h-1;break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),d[uc.expando]=g[uc.expando];for(var n=1,o=c.length;n<o;n++){var p=c[n];uc(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function W(a,b){return l(function(){return a.apply(null,arguments)},a,b)}var X=function(a,b){this.$$element=a,this.$attr=b||{}};X.prototype={$normalize:Pa,$addClass:function(a){a&&a.length>0&&y.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&y.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Qa(a,b),d=Qa(b,a);0===c.length?y.removeClass(this.$$element,d):0===d.length?y.addClass(this.$$element,c):y.setClass(this.$$element,c,d)},$set:function(a,b,d,e){var g,h=Ca(this.$$element[0],a);h&&(this.$$element.prop(a,b),e=h),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=_(a,"-")),g=xc(this.$$element),("A"===g&&"href"===a||"IMG"===g&&"src"===a)&&(this[a]=b=z(b,"src"===a)),!1!==d&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b));var j=this.$$observers;j&&f(j[a],function(a){try{a(b)}catch(a){i(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var Y=d.startSymbol(),Z=d.endSymbol(),$="{{"==Y||"}}"==Z?p:function(a){return a.replace(/\{\{/g,Y).replace(/}}/g,Z)},aa=/^ngAttr[A-Z]/;return A}]}function Pa(a){return ja(a.replace(ed,""))}function Qa(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Ra(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){da(b,"controller"),t(b)?l(a,b):a[b]=c},this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j,k;if(u(f)&&(i=f.match(b),j=i[1],k=i[3],f=a.hasOwnProperty(j)?a[j]:ea(g.$scope,j,!0)||ea(e,j,!0),ca(f,j,!0)),h=c.instantiate(f,g),k){if(!g||"object"!=typeof g.$scope)throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k);g.$scope[k]=h}return h}}]}function Sa(){this.$get=["$window",function(a){return uc(a.document)}]}function Ta(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Ua(a){var b,c,d,e={};return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=oc(Fc(a.substr(0,d))),c=Fc(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function Va(a){var b=t(a)?a:c;return function(c){return b||(b=Ua(a)),c?b[oc(c)]||null:b}}function Wa(a,b,c){return x(c)?c(a,b):(f(c,function(c){a=c(a,b)}),a)}function Xa(a){return 200<=a&&a<300}function Ya(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},g=this.defaults={transformResponse:[function(c){return u(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=R(c))),c}],transformRequest:[function(a){return!t(a)||B(a)||C(a)?a:Q(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:K(e),put:K(e),patch:K(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[],j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,m){function n(a){function b(a){var b=l({},a,{data:Wa(a.data,a.headers,e.transformResponse)});return Xa(a.status)?b:k.reject(b)}function d(a){function b(a){var b;f(a,function(c,d){x(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,e,h=g.headers,i=l({},a.headers);h=l({},h.common,h[oc(a.method)]);a:for(c in h){d=oc(c);for(e in i)if(oc(e)===d)continue a;i[c]=h[c]}return b(i),i}var e={method:"get",transformRequest:g.transformRequest,transformResponse:g.transformResponse},h=d(a);l(e,a),e.headers=h,e.method=qc(e.method);var i=function(a){h=a.headers;var c=Wa(a.data,Va(h),a.transformRequest);return r(c)&&f(h,function(a,b){"content-type"===oc(b)&&delete h[b]}),r(a.withCredentials)&&!r(g.withCredentials)&&(a.withCredentials=g.withCredentials),q(a,c,h).then(b,b)},j=[i,c],m=k.when(e);for(f(z,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){var n=j.shift(),o=j.shift();m=m.then(n,o)}return m.success=function(a){return m.then(function(b){a(b.data,b.status,b.headers,e)}),m},m.error=function(a){return m.then(null,function(b){a(b.data,b.status,b.headers,e)}),m},m}function o(a){f(arguments,function(a){n[a]=function(b,c){return n(l(c||{},{method:a,url:b}))}})}function p(a){f(arguments,function(a){n[a]=function(b,c,d){return n(l(d||{},{method:a,url:b,data:c}))}})}function q(d,f,h){function i(a,b,c,d){m&&(Xa(a)?m.put(u,[a,b,Ua(c),d]):m.remove(u)),j(b,a,c,d),e.$$phase||e.$apply()}function j(a,b,c,e){b=Math.max(b,0),(Xa(b)?p.resolve:p.reject)({data:a,status:b,headers:Va(c),config:d,statusText:e})}function l(){var a=H(n.pendingRequests,d);-1!==a&&n.pendingRequests.splice(a,1)}var m,o,p=k.defer(),q=p.promise,u=v(d.url,d.params);if(n.pendingRequests.push(d),q.then(l,l),!d.cache&&!g.cache||!1===d.cache||"GET"!==d.method&&"JSONP"!==d.method||(m=t(d.cache)?d.cache:t(g.cache)?g.cache:y),m)if(o=m.get(u),s(o)){if(D(o))return o.then(l,l),o;Ec(o)?j(o[1],o[0],K(o[2]),o[3]):j(o,200,{},"OK")}else m.put(u,q);if(r(o)){var w=Nb(d.url)?b.cookies()[d.xsrfCookieName||g.xsrfCookieName]:c;w&&(h[d.xsrfHeaderName||g.xsrfHeaderName]=w),a(d.method,u,f,i,h,d.timeout,d.withCredentials,d.responseType)}return q}function v(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(Ec(a)||(a=[a]),f(a,function(a){t(a)&&(a=w(a)?a.toISOString():Q(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var y=d("$http"),z=[];return f(i,function(a){z.unshift(u(a)?m.get(a):m.invoke(a))}),f(j,function(a,b){var c=u(a)?m.get(a):m.invoke(a);z.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=g,n}]}function Za(b){if(tc<=8&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");if(a.XMLHttpRequest)return new a.XMLHttpRequest;throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $a(){this.$get=["$browser","$window","$document",function(a,b,c){return _a(a,Za,a.defer,b.angular.callbacks,c[0])}]}function _a(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){Mc(f,"load",g),Mc(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Lc(f,"load",g),Lc(f,"error",g),tc<=8&&(f.onreadystatechange=function(){u(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))}),e.body.appendChild(f),g}var h=-1;return function(e,i,j,k,l,m,n,p){function q(){t=h,v&&v(),w&&w.abort()}function r(b,d,e,f,g){x&&c.cancel(x),v=w=null,0===d&&(d=e?200:"file"==Mb(i).protocol?404:0),d=1223===d?204:d,g=g||"",b(d,e,f,g),a.$$completeOutstandingRequest(o)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==oc(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){r(k,a,d[u].data,"",b),d[u]=o})}else{var w=b(e);if(w.open(e,i,!0),f(l,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var a=null,b=null,c="";t!==h&&(a=w.getAllResponseHeaders(),b="response"in w?w.response:w.responseText),t===h&&tc<10||(c=w.statusText),r(k,t||w.status,b,a,c)}},n&&(w.withCredentials=!0),p)try{w.responseType=p}catch(a){if("json"!==p)throw a}w.send(j||null)}if(m>0)var x=c(q,m);else D(m)&&m.then(q)}}function ab(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m,n,o=0,p=[],q=f.length,r=!1,s=[];o<q;)-1!=(k=f.indexOf(a,o))&&-1!=(l=f.indexOf(b,k+g))?(o!=k&&p.push(f.substring(o,k)),p.push(m=c(n=f.substring(k+g,l))),m.exp=n,o=l+h,r=!0):(o!=q&&p.push(f.substring(o)),o=q);if((q=p.length)||(p.push(""),q=1),j&&p.length>1)throw fd("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);if(!i||r)return s.length=q,m=function(a){try{for(var b,c=0,g=q;c<g;c++){if("function"==typeof(b=p[c]))if(b=b(a),null==(b=j?e.getTrusted(j,b):e.valueOf(b)))b="";else switch(typeof b){case"string":break;case"number":b=""+b;break;default:b=Q(b)}s[c]=b}return s.join("")}catch(a){var h=fd("interr","Can't interpolate: {0}\n{1}",f,a.toString());d(h)}},m.exp=f,m.parts=p,m}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function bb(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=s(h)&&!h;return g=s(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return!!(a&&a.$$intervalId in e)&&(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0)},d}]}function cb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function db(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function eb(a,b,c){var d=Mb(a,c);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=m(d.port)||hd[d.protocol]||null}function fb(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);var e=Mb(a,c);b.$$path=decodeURIComponent(d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),b.$$search=V(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function gb(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function hb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function ib(a){return a.substr(0,hb(a).lastIndexOf("/")+1)}function jb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function kb(a,b){this.$$html5=!0,b=b||"";var d=ib(a);eb(a,this,a),this.$$parse=function(b){var c=gb(d,b);if(!u(c))throw id("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d);fb(c,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=db(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){var g,h,i;return(g=gb(a,e))!==c?(h=g,i=(g=gb(b,g))!==c?d+(gb("/",g)||g):a+h):(g=gb(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function lb(a,b){var c=ib(a);eb(a,this,a),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f=gb(a,d)||gb(c,d),g="#"==f.charAt(0)?gb(b,f):this.$$html5?f:"";if(!u(g))throw id("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);fb(g,this,a),this.$$path=e(this.$$path,g,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=db(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return hb(a)==hb(b)&&(this.$$parse(b),!0)}}function mb(a,b){this.$$html5=!0,lb.apply(this,arguments);var c=ib(a);this.$$parseLinkUrl=function(d,e){var f,g;return a==hb(d)?f=d:(g=gb(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=db(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function nb(a){return function(){return this[a]}}function ob(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pb(){var b="",c=!1;this.hashPrefix=function(a){return s(a)?(b=a,this):b},this.html5Mode=function(a){return s(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j,k,l=e.baseHref(),m=e.url();c?(k=jb(m)+(l||"/"),j=f.history?kb:mb):(k=hb(m),j=lb),i=new j(k,"#"+b),i.$$parseLinkUrl(m,m);var n=/^\s*(javascript|mailto):/i;g.on("click",function(b){if(!b.ctrlKey&&!b.metaKey&&2!=b.which){for(var c=uc(b.target);"a"!==oc(c[0].nodeName);)if(c[0]===g[0]||!(c=c.parent())[0])return;var f=c.prop("href"),h=c.attr("href")||c.attr("xlink:href");t(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=Mb(f.animVal).href),n.test(f)||!f||c.attr("target")||b.isDefaultPrevented()||i.$$parseLinkUrl(f,h)&&(b.preventDefault(),i.absUrl()!=e.url()&&(d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),i.absUrl()!=m&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),d.$broadcast("$locationChangeStart",a,b).defaultPrevented?(i.$$parse(b),e.url(b)):h(b)}),d.$$phase||d.$digest())});var o=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return o&&a==i.absUrl()||(o++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,o}),i}]}function qb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(a){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw kd("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function sb(a,b){if(a){if(a.constructor===a)throw kd("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw kd("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw kd("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw kd("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function tb(a,b){if(a){if(a.constructor===a)throw kd("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===md||a===nd||od&&a===od)throw kd("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function ub(a,b,d,e,f){sb(a,e),f=f||{};for(var g,h=b.split("."),i=0;h.length>1;i++){g=rb(h.shift(),e);var j=sb(a[g],e);j||(j={},a[g]=j),a=j,a.then&&f.unwrapPromises&&(jd(e),"$$v"in a||function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}return g=rb(h.shift(),e),sb(a[g],e),a[g]=d,d}function vb(a){return"constructor"==a}function wb(a,b,d,e,f,g,h){rb(a,g),rb(b,g),rb(d,g),rb(e,g),rb(f,g);var i=function(a){return sb(a,g)},j=h.expensiveChecks,k=j||vb(a)?i:p,l=j||vb(b)?i:p,m=j||vb(d)?i:p,n=j||vb(e)?i:p,o=j||vb(f)?i:p;return h.unwrapPromises?function(h,i){var j,p=i&&i.hasOwnProperty(a)?i:h;return null==p?p:(p=k(p[a]),p&&p.then&&(jd(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=k(a)})),p=k(p.$$v)),b?null==p?c:(p=l(p[b]),p&&p.then&&(jd(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=l(a)})),p=l(p.$$v)),d?null==p?c:(p=m(p[d]),p&&p.then&&(jd(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=m(a)})),p=m(p.$$v)),e?null==p?c:(p=n(p[e]),p&&p.then&&(jd(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=n(a)})),p=n(p.$$v)),f?null==p?c:(p=o(p[f]),p&&p.then&&(jd(g),"$$v"in p||(j=p,j.$$v=c,j.then(function(a){j.$$v=o(a)})),p=o(p.$$v)),p):p):p):p):p)}:function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=k(i[a]),b?null==i?c:(i=l(i[b]),d?null==i?c:(i=m(i[d]),e?null==i?c:(i=n(i[e]),f?null==i?c:i=o(i[f]):i):i):i):i)}}function xb(a,b){return function(c,d){return a(c,d,jd,sb,b)}}function yb(a,b,d){var e=b.expensiveChecks,g=e?ud:td;if(g.hasOwnProperty(a))return g[a];var h,i=a.split("."),j=i.length;if(b.csp)h=j<6?wb(i[0],i[1],i[2],i[3],i[4],d,b):function(a,e){var f,g=0;do{f=wb(i[g++],i[g++],i[g++],i[g++],i[g++],d,b)(a,e),e=c,a=f}while(g<j);return f};else{var k="var p;\n";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,c){rb(a,d);var f=(c?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+'["'+a+'"]',g=e||vb(a);g&&(f="eso("+f+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+f+";\n",b.unwrapPromises&&(k+='if (s && s.then) {\n pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(g?"eso(v)":"v")+";});\n}\n s="+(g?"eso(s.$$v)":"s.$$v")+"\n}\n")}),k+="return s;";var m=new Function("s","l","pw","eso","fe",k);m.toString=q(k),(l||b.unwrapPromises)&&(m=xb(m,d)),h=m}return"hasOwnProperty"!==a&&(g[a]=h),h}function zb(){var a={},b={},c={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(a){return s(a)?(c.unwrapPromises=!!a,this):c.unwrapPromises},this.logPromiseWarnings=function(a){return s(a)?(c.logPromiseWarnings=a,this):c.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(d,e,f){c.csp=e.csp;var g={csp:c.csp,unwrapPromises:c.unwrapPromises,logPromiseWarnings:c.logPromiseWarnings,expensiveChecks:!0};return jd=function(a){c.logPromiseWarnings&&!ld.hasOwnProperty(a)&&(ld[a]=!0,f.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(e,f){var h;switch(typeof e){case"string":var i=f?b:a;if(i.hasOwnProperty(e))return i[e];var j=f?g:c,k=new rd(j);return h=new sd(k,d,j).parse(e),"hasOwnProperty"!==e&&(i[e]=h),h;case"function":return e;default:return o}}}]}function Ab(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Bb(function(b){a.$evalAsync(b)},b)}]}function Bb(a,b){function d(a){return a}function e(a){return j(a)}function g(a){var b=h(),c=0,d=Ec(a)?[]:{};return f(a,function(a,e){c++,i(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var h=function(){var f,g,j=[];return g={resolve:function(b){if(j){var d=j;j=c,f=i(b),d.length&&a(function(){for(var a,b=0,c=d.length;b<c;b++)a=d[b],f.then(a[0],a[1],a[2])})}},reject:function(a){g.resolve(k(a))},notify:function(b){if(j){var c=j;j.length&&a(function(){for(var a,d=0,e=c.length;d<e;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,g){var i=h(),k=function(c){try{i.resolve((x(a)?a:d)(c))}catch(a){i.reject(a),b(a)}},l=function(a){try{i.resolve((x(c)?c:e)(a))}catch(a){i.reject(a),b(a)}},m=function(a){try{i.notify((x(g)?g:d)(a))}catch(a){b(a)}};return j?j.push([k,l,m]):f.then(k,l,m),i.promise},catch:function(a){return this.then(null,a)},finally:function(a){function b(a,b){var c=h();return b?c.resolve(a):c.reject(a),c.promise}function c(c,e){var f=null;try{f=(a||d)()}catch(a){return b(a,!1)}return D(f)?f.then(function(){return b(c,e)},function(a){return b(a,!1)}):b(c,e)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},i=function(b){return D(b)?b:{then:function(c){var d=h();return a(function(){d.resolve(c(b))}),d.promise}}},j=function(a){var b=h();return b.reject(a),b.promise},k=function(c){return{then:function(d,f){var g=h();return a(function(){try{g.resolve((x(f)?f:e)(c))}catch(a){g.reject(a),b(a)}}),g.promise}}};return{defer:h,reject:j,when:function(c,f,g,k){var l,m=h(),n=function(a){try{return(x(f)?f:d)(a)}catch(a){return b(a),j(a)}},o=function(a){try{return(x(g)?g:e)(a)}catch(a){return b(a),j(a)}},p=function(a){try{return(x(k)?k:d)(a)}catch(a){b(a)}};return a(function(){i(c).then(function(a){l||(l=!0,m.resolve(i(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise},all:g}}function Cb(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Db(){var a=10,b=d("$rootScope"),c=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,g,h,i){function k(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(a){if(r.$$phase)throw b("inprog","{0} already in progress",r.$$phase);r.$$phase=a}function m(){r.$$phase=null}function n(a,b){var c=h(a);return ca(c,b),c}function p(a,b,c){do{a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c]}while(a=a.$parent)}function q(){}k.prototype={constructor:k,$new:function(a){var b;return a?(b=new k,b.$root=this.$root,b.$$asyncQueue=this.$$asyncQueue,b.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=j(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),b=new this.$$childScopeClass),b.this=b,b.$parent=this,b.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=b,this.$$childTail=b):this.$$childHead=this.$$childTail=b,b},$watch:function(a,b,d){var e=this,f=n(a,"watch"),g=e.$$watchers,h={fn:b,last:q,get:f,exp:a,eq:!!d};if(c=null,!x(b)){var i=n(b||o,"listener");h.fn=function(a,b,c){i(c)}}if("string"==typeof a&&f.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c),I(g,h)}}return g||(g=e.$$watchers=[]),g.unshift(h),function(){I(g,h),c=null}},$watchCollection:function(a,b){function c(){f=m(j);var a,b;if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),a=f.length,q!==a&&(l++,g.length=q=a);for(var c=0;c<a;c++)g[c]!==g[c]&&f[c]!==f[c]||g[c]===f[c]||(l++,g[c]=f[c])}else{g!==o&&(g=o={},q=0,l++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,g.hasOwnProperty(b)?g[b]!==g[b]&&f[b]!==f[b]||g[b]===f[b]||(l++,g[b]=f[b]):(q++,g[b]=f[b],l++));if(q>a){l++;for(b in g)g.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(q--,delete g[b])}}else g!==f&&(g=f,l++);return l}function d(){if(p?(p=!1,b(f,f,j)):b(f,i,j),k)if(t(f))if(e(f)){i=new Array(f.length);for(var a=0;a<f.length;a++)i[a]=f[a]}else{i={};for(var c in f)pc.call(f,c)&&(i[c]=f[c])}else i=f}var f,g,i,j=this,k=b.length>1,l=0,m=h(a),n=[],o={},p=!0,q=0;return this.$watch(c,d)},$digest:function(){var d,e,f,h,j,k,n,o,p,r,s,t=this.$$asyncQueue,u=this.$$postDigestQueue,v=a,w=this,y=[];l("$digest"),i.$$checkUrlChange(),c=null;do{for(k=!1,o=w;t.length;){try{s=t.shift(),s.scope.$eval(s.expression)}catch(a){m(),g(a)}c=null}a:do{if(h=o.$$watchers)for(j=h.length;j--;)try{if(d=h[j])if((e=d.get(o))===(f=d.last)||(d.eq?L(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){k=!1;break a}}else k=!0,c=d,d.last=d.eq?J(e,null):e,d.fn(e,f===q?e:f,o),v<5&&(p=4-v,y[p]||(y[p]=[]),r=x(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,r+="; newVal: "+Q(e)+"; oldVal: "+Q(f),y[p].push(r))}catch(a){m(),g(a)}if(!(n=o.$$childHead||o!==w&&o.$$nextSibling))for(;o!==w&&!(n=o.$$nextSibling);)o=o.$parent}while(o=n);if((k||t.length)&&!v--)throw m(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,Q(y))}while(k||t.length);for(m();u.length;)try{u.shift()()}catch(a){g(a)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(f(this.$$listenerCount,O(null,p,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=o,this.$on=this.$watch=function(){return o})}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){r.$$phase||r.$$asyncQueue.length||i.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(a){g(a)}finally{m();try{r.$digest()}catch(a){throw g(a),a}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do{d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=H(c,b);-1!==d&&(c[d]=null,p(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=M([j],arguments,1);do{for(c=h.$$listeners[a]||f,j.currentScope=h,d=0,e=c.length;d<e;d++)if(c[d])try{c[d].apply(null,k)}catch(a){g(a)}else c.splice(d,1),d--,e--;if(i)return j;h=h.$parent}while(h);return j},$broadcast:function(a,b){for(var c,d,e,f=this,h=f,i=f,j={name:a,targetScope:f,preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=M([j],arguments,1);h=i;){for(j.currentScope=h,c=h.$$listeners[a]||[],d=0,e=c.length;d<e;d++)if(c[d])try{c[d].apply(null,k)}catch(a){g(a)}else c.splice(d,1),d--,e--;if(!(i=h.$$listenerCount[a]&&h.$$childHead||h!==f&&h.$$nextSibling))for(;h!==f&&!(i=h.$$nextSibling);)h=h.$parent}return j}};var r=new k;return r}]}function Eb(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return tc&&!(tc>=8)||""===(e=Mb(c).href)||e.match(f)?c:"unsafe:"+e}}}function Fb(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Gb(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw vd("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Fb(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw vd("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Hb(a){var b=[];return s(a)&&f(a,function(a){b.push(Gb(a))}),b}function Ib(){this.SCE_CONTEXTS=wd;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Hb(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Hb(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?Nb(b):!!a.exec(b.href)}function f(c){var d,f,g=Mb(c.toString()),h=!1;for(d=0,f=a.length;d<f;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;d<f;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw vd("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw vd("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===wd.RESOURCE_URL){if(f(b))return b;throw vd("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===wd.HTML)return k(b);throw vd("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw vd("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[wd.HTML]=g(l),m[wd.CSS]=g(l),m[wd.URL]=g(l),m[wd.JS]=g(l),m[wd.RESOURCE_URL]=g(m[wd.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function Jb(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8)throw vd("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=K(wd);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=p),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;return f(wd,function(a,b){var c=oc(b);e[ja("parse_as_"+c)]=function(b){return g(a,b)},e[ja("get_trusted_"+c)]=function(b){return h(a,b)},e[ja("trust_as_"+c)]=function(b){return i(a,b)}}),e}]}function Kb(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(oc((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.documentMode,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=h.body&&h.body.style,l=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||l&&n||(l=u(h.body.style.webkitTransition),n=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||f<4||g),hashchange:"onhashchange"in a&&(!i||i>7),hasEvent:function(a){if("input"==a&&9==tc)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Gc(),vendorPrefix:c,transitions:l,animations:n,android:f,msie:tc,msieDocumentMode:i}}]}function Lb(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i,j=c.defer(),k=j.promise,l=s(h)&&!h;return i=b.defer(function(){try{j.resolve(e())}catch(a){j.reject(a),d(a)}finally{delete f[k.$$timeoutId]}l||a.$apply()},g),k.$$timeoutId=i,f[i]=j,k}var f={};return e.cancel=function(a){return!!(a&&a.$$timeoutId in f)&&(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},e}]}function Mb(a,b){var c=a;return tc&&(xd.setAttribute("href",c),c=xd.href),xd.setAttribute("href",c),{href:xd.href,protocol:xd.protocol?xd.protocol.replace(/:$/,""):"",host:xd.host,search:xd.search?xd.search.replace(/^\?/,""):"",hash:xd.hash?xd.hash.replace(/^#/,""):"",hostname:xd.hostname,port:xd.port,pathname:"/"===xd.pathname.charAt(0)?xd.pathname:"/"+xd.pathname}}function Nb(a){var b=u(a)?Mb(a):a;return b.protocol===yd.protocol&&b.host===yd.host}function Ob(){this.$get=q(a)}function Pb(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Rb),b("date",Zb),b("filter",Qb),b("json",$b),b("limitTo",_b),b("lowercase",Dd),b("number",Sb),b("orderBy",ac),b("uppercase",Ed)}function Qb(){return function(a,b,c){if(!Ec(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Cc.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&pc.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(var e=0;e<a.length;e++)if(f(a[e],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)!function(a){void 0!==b[a]&&e.push(function(c){return f("$"==a?c:c&&c[a],b[a])})}(g);break;case"function":e.push(b);break;default:return a}for(var h=[],i=0;i<a.length;i++){var j=a[i];e.check(j)&&h.push(j)}return h}}function Rb(a){var b=a.NUMBER_FORMATS;return function(a,c){return r(c)&&(c=b.CURRENCY_SYM),Tb(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Sb(a){var b=a.NUMBER_FORMATS;return function(a,c){return Tb(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Tb(a,b,c,d,e){if(null==a||!isFinite(a)||t(a))return"";var f=a<0;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?(g="0",a=0):(h=g,j=!0)}if(j)e>0&&a>-1&&a<1&&(h=a.toFixed(e));else{var l=(g.split(zd)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e),0===a&&(f=!1);var m=(""+a).split(zd),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;o<p;o++)(p-o)%s==0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q==0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Ub(a,b,c){var d="";for(a<0&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Vb(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Ub(f,b,d)}}function Wb(a,b){return function(c,d){var e=c["get"+a]();return d[qc(b?"SHORT"+a:a)][e]}}function Xb(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Ub(Math[b>0?"floor":"ceil"](b/60),2)+Ub(Math.abs(b%60),2)}function Yb(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Zb(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=Cd.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)g=Bd.exec(d),g?(i=M(i,g,1),d=i.pop()):(i.push(d),d=null);return f(i,function(b){e=Ad[b],h+=e?e(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function $b(){return function(a){return Q(a,!0)}}function _b(){return function(a,b){if(!Ec(a)&&!u(a))return a;if(b=Math.abs(Number(b))===1/0?Number(b):m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);c<d;c++)e.push(a[c]);return e}}function ac(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return S(b)?function(b,c){return a(c,b)}:a}function h(a,b){var c=typeof a,d=typeof b;return c==d?(w(a)&&w(b)&&(a=a.valueOf(),b=b.valueOf()),"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}return e(b)?(c=Ec(c)?c:[c],0===c.length&&(c=["+"]),c=F(c,function(b){var c=!1,d=b||p;if(u(b)){if("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(function(a,b){return h(a,b)},c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return h(a[e],b[e])},c)}}return g(function(a,b){return h(d(a),d(b))},c)}),yc.call(b).sort(g(f,d))):b}}function bc(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function cc(a,b,c,d){function e(b,c){c=c?"-"+_(c,"-"):"",d.setClass(a,(b?Rd:Sd)+c,(b?Sd:Rd)+c)}var g=this,h=a.parent().controller("form")||Hd,i=0,j=g.$error={},k=[];g.$name=b.name||b.ngForm,g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,h.$addControl(g),a.addClass(Td),e(!0),g.$addControl=function(a){da(a.$name,"input"),k.push(a),a.$name&&(g[a.$name]=a)},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],f(j,function(b,c){g.$setValidity(c,!0,a)}),I(k,a)},g.$setValidity=function(a,b,c){var d=j[a];if(b)d&&(I(d,c),d.length||(i--,i||(e(b),g.$valid=!0,g.$invalid=!1),j[a]=!1,e(!0,a),h.$setValidity(a,!0,g)));else{if(i||e(b),d){if(G(d,c))return}else j[a]=d=[],i++,e(!1,a),h.$setValidity(a,!1,g);d.push(c),g.$valid=!1,g.$invalid=!0}},g.$setDirty=function(){d.removeClass(a,Td),d.addClass(a,Ud),g.$dirty=!0,g.$pristine=!1,h.$setDirty()},g.$setPristine=function(){d.removeClass(a,Ud),d.addClass(a,Td),g.$dirty=!1,g.$pristine=!0,f(k,function(a){a.$setPristine()})}}function dc(a,b,d,e){return a.$setValidity(b,d),d?e:c}function ec(a,b){var c,d;if(b)for(c=0;c<b.length;++c)if(d=b[c],a[d])return!0;return!1}function fc(a,b,c,d,e){if(t(e)){a.$$hasNativeValidators=!0;var f=function(f){return a.$error[b]||ec(e,d)||!ec(e,c)?f:void a.$setValidity(b,!1)};a.$parsers.push(f)}}function gc(a,b,c,e,f,g){var h=b.prop(nc),i=b[0].placeholder,j={},k=oc(b[0].type);if(e.$$validityState=h,!f.android){var l=!1;b.on("compositionstart",function(a){l=!0}),b.on("compositionend",function(){l=!1,n()})}var n=function(d){if(!l){var f=b.val();if(tc&&"input"===(d||j).type&&b[0].placeholder!==i)return void(i=b[0].placeholder);"password"!==k&&S(c.ngTrim||"T")&&(f=Fc(f));var g=h&&e.$$hasNativeValidators;(e.$viewValue!==f||""===f&&g)&&(a.$root.$$phase?e.$setViewValue(f):a.$apply(function(){e.$setViewValue(f)}))}};if(f.hasEvent("input"))b.on("input",n);else{var o,p=function(){o||(o=g.defer(function(){n(),o=null}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||p()}),f.hasEvent("paste")&&b.on("paste cut",p)}b.on("change",n),e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?"":e.$viewValue)};var q,r,s=c.ngPattern;if(s){var t=function(a,b){return dc(e,"pattern",e.$isEmpty(b)||a.test(b),b)};r=s.match(/^\/(.*)\/([gim]*)$/),r?(s=new RegExp(r[1],r[2]),q=function(a){return t(s,a)}):q=function(c){var e=a.$eval(s);if(!e||!e.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,T(b));return t(e,c)},e.$formatters.push(q),e.$parsers.push(q)}if(c.ngMinlength){var u=m(c.ngMinlength),v=function(a){return dc(e,"minlength",e.$isEmpty(a)||a.length>=u,a)};e.$parsers.push(v),e.$formatters.push(v)}if(c.ngMaxlength){var w=m(c.ngMaxlength),x=function(a){return dc(e,"maxlength",e.$isEmpty(a)||a.length<=w,a)};e.$parsers.push(x),e.$formatters.push(x)}}function hc(a,b,d,e,f,g){if(gc(a,b,d,e,f,g),e.$parsers.push(function(a){var b=e.$isEmpty(a);return b||Nd.test(a)?(e.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):(e.$setValidity("number",!1),c)}),fc(e,"number",Pd,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min){var h=function(a){var b=parseFloat(d.min);return dc(e,"min",e.$isEmpty(a)||a>=b,a)};e.$parsers.push(h),e.$formatters.push(h)}if(d.max){var i=function(a){var b=parseFloat(d.max);return dc(e,"max",e.$isEmpty(a)||a<=b,a)};e.$parsers.push(i),e.$formatters.push(i)}e.$formatters.push(function(a){return dc(e,"number",e.$isEmpty(a)||v(a),a)})}function ic(a,b,c,d,e,f){gc(a,b,c,d,e,f);var g=function(a){return dc(d,"url",d.$isEmpty(a)||Ld.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function jc(a,b,c,d,e,f){gc(a,b,c,d,e,f);var g=function(a){return dc(d,"email",d.$isEmpty(a)||Md.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function kc(a,b,c,d){r(c.name)&&b.attr("name",j()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function lc(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;u(e)||(e=!0),u(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})}function mc(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(Ec(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);f=l(f,-1),e=l(e,1),0===e.length?c.removeClass(h,f):0===f.length?c.addClass(h,e):c.setClass(h,e,f)}function n(a){if(!0===b||g.$index%2===b){var c=e(a||[]);if(o){if(!L(a,o)){var d=e(o);m(d,c)}}else j(c)}o=K(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}var nc="validity",oc=function(a){return u(a)?a.toLowerCase():a},pc=Object.prototype.hasOwnProperty,qc=function(a){return u(a)?a.toUpperCase():a},rc=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},sc=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(oc=rc,qc=sc);var tc,uc,vc,wc,xc,yc=[].slice,zc=[].push,Ac=Object.prototype.toString,Bc=d("ng"),Cc=a.angular||(a.angular={}),Dc=["0","0","0"];tc=m((/msie (\d+)/.exec(oc(navigator.userAgent))||[])[1]),isNaN(tc)&&(tc=m((/trident\/.*; rv:(\d+)/.exec(oc(navigator.userAgent))||[])[1])),o.$inject=[],p.$inject=[];var Ec=function(){return x(Array.isArray)?Array.isArray:function(a){return"[object Array]"===Ac.call(a)}}(),Fc=function(){return String.prototype.trim?function(a){return u(a)?a.trim():a}:function(a){return u(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();xc=tc<9?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?qc(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Gc=function(){if(s(Gc.isActive_))return Gc.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(b){a=!0}return Gc.isActive_=a},Hc=/[A-Z]/g,Ic={full:"1.2.28",major:1,minor:2,dot:28,codeName:"finnish-disembarkation"};oa.expando="ng339";var Jc=oa.cache={},Kc=1,Lc=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},Mc=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Nc=(oa._data=function(a){return this.cache[a[this.expando]]||{}},/([\:\-\_]+(.))/g),Oc=/^moz([A-Z])/,Pc=d("jqLite"),Qc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Rc=/<|&#?\w+;/,Sc=/<([\w:]+)/,Tc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Uc={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Uc.optgroup=Uc.option,Uc.tbody=Uc.tfoot=Uc.colgroup=Uc.caption=Uc.thead,Uc.th=Uc.td;var Vc=oa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),oa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return uc(a>=0?this[a]:this[this.length+a])},length:0,push:zc,sort:[].sort,splice:[].splice},Wc={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Wc[oc(a)]=a});var Xc={};f("input,select,option,textarea,button,form,details".split(","),function(a){Xc[qc(a)]=!0}),f({data:ua,removeData:sa},function(a,b){oa[b]=a}),f({data:ua,inheritedData:Aa,scope:function(a){return uc.data(a,"$scope")||Aa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return uc.data(a,"$isolateScope")||uc.data(a,"$isolateScopeNoTemplate")},controller:za,injector:function(a){return Aa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:va,css:function(a,b,d){if(b=ja(b),!s(d)){var e;return tc<=8&&""===(e=a.currentStyle&&a.currentStyle[b])&&(e="auto"),e=e||a.style[b],tc<=8&&(e=""===e?c:e),e}a.style[b]=d},attr:function(a,b,d){var e=oc(b);if(Wc[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){if(!s(c))return a[b];a[b]=c},text:function(){function a(a,c){var d=b[a.nodeType];if(r(c))return d?a[d]:"";a[d]=c}var b=[];return tc<9?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(r(b)){if("SELECT"===xc(a)&&a.multiple){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)qa(d[c]);a.innerHTML=b},empty:Ba},function(a,b){oa.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Ba&&(2==a.length&&a!==va&&a!==za?b:d)===c){if(t(b)){for(e=0;e<g;e++)if(a===ua)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;j<i;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;e<g;e++)a(this[e],b,d);return this}}),f({removeData:sa,dealoc:qa,on:function a(c,d,e,g){if(s(g))throw Pc("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var h=ta(c,"events"),i=ta(c,"handle");h||ta(c,"events",h={}),i||ta(c,"handle",i=Da(c,h)),f(d.split(" "),function(d){var f=h[d];if(!f){if("mouseenter"==d||"mouseleave"==d){var g=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};h[d]=[];a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var b=this,c=a.relatedTarget;c&&(c===b||g(b,c))||i(a,d)})}else Lc(c,d,i),h[d]=[];f=h[d]}f.push(e)})},off:ra,one:function(a,b,c){a=uc(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;qa(a),f(new oa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){f(new oa(b),function(b){1!==a.nodeType&&11!==a.nodeType||a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new oa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=uc(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){qa(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;f(new oa(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:xa,removeClass:wa,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!va(a,b)),(d?xa:wa)(a,b)})},parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(var b=a.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:pa,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=(ta(a,"events")||{})[h];i&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=K(i),g=c?[d].concat(c):[d],f(e,function(b){b.apply(a,g)}))}},function(a,b){oa.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=uc(e))):ya(e,a(this[f],b,c,d));return s(e)?e:this},oa.prototype.bind=oa.prototype.on,oa.prototype.unbind=oa.prototype.off}),Fa.prototype={put:function(a,b){this[Ea(a,this.nextUid)]=b},get:function(a){return this[Ea(a,this.nextUid)]},remove:function(a){var b=this[a=Ea(a,this.nextUid)];return delete this[a],b}};var Yc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Zc=/,/,$c=/^\s*(_?)(\S+?)\1\s*$/,_c=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ad=d("$injector"),bd=d("$animate"),cd=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw bd("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){d?d.after(a):(b&&b[0]||(b=d.parent()),b.append(a)),c(e)},leave:function(a,b){a.remove(),c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=u(b)?b:Ec(b)?b.join(" "):"",f(a,function(a){xa(a,b)}),c(d)},removeClass:function(a,b,d){b=u(b)?b:Ec(b)?b.join(" "):"",f(a,function(a){wa(a,b)}),c(d)},setClass:function(a,b,d,e){f(a,function(a){xa(a,b),wa(a,d)}),c(e)},enabled:o}}]}],dd=d("$compile");Oa.$inject=["$provide","$$sanitizeUriProvider"];var ed=/^(x[\:\-_]|data[\:\-_])/i,fd=d("$interpolate"),gd=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hd={http:80,https:443,ftp:21},id=d("$location");mb.prototype=lb.prototype=kb.prototype={$$html5:!1,$$replace:!1,absUrl:nb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=gd.exec(a);return b[1]&&this.path(decodeURIComponent(b[1])),(b[2]||b[1])&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:nb("$$protocol"),host:nb("$$host"),port:nb("$$port"),path:ob("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a)||v(a))a=a.toString(),this.$$search=V(a);else{if(!t(a))throw id("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:ob("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};var jd,kd=d("$parse"),ld={},md=Function.prototype.call,nd=Function.prototype.apply,od=Function.prototype.bind,pd={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:o,"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":o,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},qd={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},rd=function(a){this.options=a};rd.prototype={constructor:rd,lex:function(a){for(this.text=a,this.index=0,this.ch=c,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var b=this.ch+this.peek(),d=b+this.peek(2),e=pd[this.ch],f=pd[b],g=pd[d];g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=3):f?(this.tokens.push({index:this.index,text:b,fn:f}),this.index+=2):e?(this.tokens.push({index:this.index,text:this.ch,fn:e}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return"0"<=a&&a<="9"},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdent:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw kd("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=oc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a*=1,this.tokens.push({index:b,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&("."===(d=this.text.charAt(this.index))||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if("("===(d=this.text.charAt(b))){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}var h={index:g,text:f};if(pd.hasOwnProperty(f))h.fn=pd[f],h.literal=!0,h.constant=!0;else{var i=yb(f,this.options,this.text);h.fn=l(function(a,b){return i(a,b)},{assign:function(a,b){return ub(a,f,b,e.text,e.options)}})}this.tokens.push(h),c&&(this.tokens.push({index:a,text:"."}),this.tokens.push({index:a+1,text:c}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=qd[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,literal:!0,constant:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var sd=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};sd.ZERO=l(function(){return 0},{constant:!0}),sd.prototype={constructor:sd,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),a.literal=!!b.literal,a.constant=!!b.constant}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw kd("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw kd("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return l(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return l(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return l(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.assignment(),(b=this.expect(":"))?this.ternaryFn(c,a,this.assignment()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(sd.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=yb(c,this.options,this.text);return l(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){var g=a(d,f);return g||a.assign(d,g={}),ub(g,c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();return this.consume("]"),l(function(e,f){var g,h,i=a(e,f),j=d(e,f);return rb(j,b.text),i?(g=sb(i[j],b.text),g&&g.then&&b.options.unwrapPromises&&(h=g,"$$v"in g||(h.$$v=c,h.then(function(a){h.$$v=a})),g=g.$$v),g):c},{assign:function(c,e,f){var g=rb(d(c,f),b.text),h=sb(a(c,f),b.text);return h||a.assign(c,h={}),h[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do{c.push(this.expression())}while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(sb(c[i](e,f),d.text));var j=a(e,f,h)||o;return sb(h,d.text),tb(j,d.text),sb(j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]),d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),l(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var td={},ud={},vd=d("$sce"),wd={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xd=b.createElement("a"),yd=Mb(a.location.href,!0);Pb.$inject=["$provide"],Rb.$inject=["$locale"],Sb.$inject=["$locale"];var zd=".",Ad={yyyy:Vb("FullYear",4),yy:Vb("FullYear",2,0,!0),y:Vb("FullYear",1),MMMM:Wb("Month"),MMM:Wb("Month",!0),MM:Vb("Month",2,1),M:Vb("Month",1,1),dd:Vb("Date",2),d:Vb("Date",1),HH:Vb("Hours",2),H:Vb("Hours",1),hh:Vb("Hours",2,-12),h:Vb("Hours",1,-12),mm:Vb("Minutes",2),m:Vb("Minutes",1),ss:Vb("Seconds",2),s:Vb("Seconds",1),sss:Vb("Milliseconds",3),EEEE:Wb("Day"),EEE:Wb("Day",!0),a:Yb,Z:Xb},Bd=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Cd=/^\-?\d+$/;Zb.$inject=["$locale"];var Dd=q(oc),Ed=q(qc);ac.$inject=["$parse"];var Fd=q({restrict:"E",compile:function(a,c){if(tc<=8&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),!c.href&&!c.xlinkHref&&!c.name)return function(a,b){var c="[object SVGAnimatedString]"===Ac.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Gd={};f(Wc,function(a,b){if("multiple"!=a){var c=Pa("ng-"+b);Gd[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(["src","srcset","href"],function(a){var b=Pa("ng-"+a);Gd[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Ac.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){if(!b)return void("href"===a&&e.$set(g,null));e.$set(g,b),tc&&f&&d.prop(f,e[g])})}}}});var Hd={$addControl:o,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o};cc.$inject=["$element","$attrs","$scope","$animate"];var Id=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:cc,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Lc(d[0],"submit",g),d.on("$destroy",function(){b(function(){Mc(d[0],"submit",g)},0,!1)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;i&&ub(a,i,f,i),h&&d.on("$destroy",function(){h.$removeControl(f),i&&ub(a,i,c,i),l(f,Hd)})}}}}}]},Jd=Id(),Kd=Id(!0),Ld=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Md=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Nd=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Od={text:gc,number:hc,url:ic,email:jc,radio:kc,checkbox:lc,hidden:o,button:o,submit:o,reset:o,file:o},Pd=["badInput"],Qd=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(Od[oc(e.type)]||Od.text)(c,d,e,f,b,a)}}}],Rd="ng-valid",Sd="ng-invalid",Td="ng-pristine",Ud="ng-dirty",Vd=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,c,e,g,h){function i(a,b){b=b?"-"+_(b,"-"):"",h.removeClass(e,(a?Sd:Rd)+b),h.addClass(e,(a?Rd:Sd)+b)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=c.name;var j=g(c.ngModel),k=j.assign;if(!k)throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,T(e));this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||Hd,m=0,n=this.$error={};e.addClass(Td),i(!0),this.$setValidity=function(a,b){n[a]!==!b&&(b?(n[a]&&m--,m||(i(!0),this.$valid=!0,this.$invalid=!1)):(i(!1),this.$invalid=!0,this.$valid=!1,m++),n[a]=!b,i(b,a),l.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,h.removeClass(e,Ud),h.addClass(e,Td)},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,h.removeClass(e,Td),h.addClass(e,Ud),l.$setDirty()),f(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,k(a,c),f(this.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}}))};var p=this;a.$watch(function(){var b=j(a);if(p.$modelValue!==b){var c=p.$formatters,d=c.length;for(p.$modelValue=b;d--;)b=c[d](b);p.$viewValue!==b&&(p.$viewValue=b,p.$render())}return b})}],Wd=function(){return{require:["ngModel","^?form"],controller:Vd,link:function(a,b,c,d){var e=d[0],f=d[1]||Hd;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},Xd=q({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Yd=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},Zd=function(){return{require:"ngModel",link:function(a,b,d,e){var g=/\/(.*)\//.exec(d.ngList),h=g&&new RegExp(g[1])||d.ngList||",",i=function(a){if(!r(a)){var b=[];return a&&f(a.split(h),function(a){a&&b.push(Fc(a))}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Ec(a)?a.join(", "):c}),e.$isEmpty=function(a){return!a||!a.length}}}},$d=/^(true|false|\d+)$/,_d=function(){return{priority:100,compile:function(a,b){return $d.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},ae=bc({compile:function(a){return a.addClass("ng-binding"),function(a,b,d){b.data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}}}),be=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],ce=["$sce","$parse",function(a,b){return{compile:function(c){return c.addClass("ng-binding"),function(c,d,e){function f(){return(g(c)||"").toString()}d.data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(f,function(b){d.html(a.getTrustedHtml(g(c))||"")})}}}}],de=mc("",!0),ee=mc("Odd",0),fe=mc("Even",1),ge=bc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),he=[function(){return{scope:!0,controller:"@",priority:500}}],ie={},je={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Pa("ng-"+a);ie[b]=["$parse","$rootScope",function(c,d){return{compile:function(e,f){var g=c(f[b],!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};je[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var ke=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(f){S(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=fa(h.clone),a.leave(j,function(){j=null}),h=null))})}}}],le=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Cc.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n,o,p,q=0,r=function(){o&&(o.remove(),o=null),n&&(n.$destroy(),n=null),p&&(d.leave(p,function(){o=null}),o=p,p=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!s(j)||j&&!f.$eval(j)||c()},k=++q;e?(a.get(e,{cache:b}).success(function(a){if(k===q){var b=f.$new();l.template=a;var c=m(b,function(a){r(),d.enter(a,null,g,h)});n=b,p=c,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===q&&r()}),f.$emit("$includeContentRequested")):(r(),l.template=null)})}}}}],me=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],ne=bc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),oe=bc({terminal:!0,priority:1e3}),pe=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;f(g,function(a,b){o.test(b)&&(k[oc(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))}),f(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,e,!0))},function(a){e.text(a)})}}}],qe=["$parse","$animate",function(a,c){function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}var i="$$NG_REMOVED",j=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(d,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=l.ngRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),z={$id:Ea};if(!y)throw j("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(t=y[1],u=y[2],o=y[3],o?(p=a(o),q=function(a,b,c){return w&&(z[w]=a),z[v]=b,z.$index=c,p(d,z)}):(r=function(a,b){return Ea(b)},s=function(a){return a}),!(y=t.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw j("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",t);v=y[3]||y[1],w=y[2];var A={};d.$watchCollection(u,function(a){var l,m,o,p,t,u,y,z,B,C,D,E,F=k[0],G={},H=[];if(e(a))C=a,B=q||r;else{B=q||s,C=[];for(u in a)a.hasOwnProperty(u)&&"$"!=u.charAt(0)&&C.push(u);C.sort()}for(p=C.length,m=H.length=C.length,l=0;l<m;l++)if(u=a===C?l:C[l],y=a[u],z=B(u,y,l),da(z,"`track by` id"),A.hasOwnProperty(z))D=A[z],delete A[z],G[z]=D,H[l]=D;else{if(G.hasOwnProperty(z))throw f(H,function(a){a&&a.scope&&(A[a.id]=a)}),j("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",x,z,Q(y));H[l]={id:z},G[z]=!1}for(u in A)A.hasOwnProperty(u)&&(D=A[u],E=fa(D.clone),c.leave(E),f(E,function(a){a[i]=!0}),D.scope.$destroy());for(l=0,m=C.length;l<m;l++){if(u=a===C?l:C[l],y=a[u],D=H[l],H[l-1]&&(F=h(H[l-1])),D.scope){t=D.scope,o=F;do{o=o.nextSibling}while(o&&o[i]);g(D)!=o&&c.move(fa(D.clone),null,uc(F)),F=h(D)}else t=d.$new();t[v]=y,w&&(t[w]=u),t.$index=l,t.$first=0===l,t.$last=l===p-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&l)),D.scope||n(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+x+" "),c.enter(a,null,uc(F)),F=a,D.scope=t,D.clone=a,G[D.id]=D})}A=G})}}}],re=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[S(b)?"removeClass":"addClass"](c,"ng-hide")})}}],se=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[S(b)?"addClass":"removeClass"](c,"ng-hide")})}}],te=bc(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),ue=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var g=d.ngSwitch||d.on,h=[],i=[],j=[],k=[];b.$watch(g,function(c){var g,l;for(g=0,l=j.length;g<l;++g)j[g].remove();for(j.length=0,g=0,l=k.length;g<l;++g){var m=i[g];k[g].$destroy(),j[g]=m,a.leave(m,function(){j.splice(g,1)})}i.length=0,k.length=0,(h=e.cases["!"+c]||e.cases["?"])&&(b.$eval(d.change),f(h,function(c){var d=b.$new();k.push(d),c.transclude(d,function(b){var d=c.element;i.push(b),a.enter(b,d.parent(),d)})}))})}}}],ve=bc({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),we=bc({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),xe=bc({link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),ye=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],ze=d("ngOptions"),Ae=q({terminal:!0}),Be=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b){da(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove())},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue==a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Ea(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(y.parent()&&y.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){y.parent()&&y.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Fa(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){L(d,c.$viewValue)||(d=K(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,f,h){function i(){var a=!1;if(t){var c=h.$modelValue;if(z&&Ec(c)){a=new Fa([]);for(var d={},e=0;e<c.length;e++)d[m]=c[e],a.put(z(b,d),c[e])}else a=new Fa(c)}return a}function j(){var a,c,d,e,j,k,u,y,B,C,D,E,F,G,H,I={"":[]},J=[""],K=h.$modelValue,L=r(b)||[],M=n?g(L):L,N={},O=i();for(D=0;B=M.length,D<B;D++){if(u=D,n){if(u=M[D],"$"===u.charAt(0))continue;N[n]=u}if(N[m]=L[u],a=o(b,N)||"",(c=I[a])||(c=I[a]=[],J.push(a)),t)E=s(O.remove(z?z(b,N):q(b,N)));else{if(z){var P={};P[m]=K,E=z(b,P)===z(b,N)}else E=K===q(b,N);O=O||E}H=l(b,N),H=s(H)?H:"",c.push({id:z?z(b,N):n?M[D]:D,label:H,selected:E})}for(t||(v||null===K?I[""].unshift({id:"",label:"",selected:!O}):O||I[""].unshift({id:"?",label:"",selected:!0})),C=0,y=J.length;C<y;C++){for(a=J[C],c=I[a],A.length<=C?(e={element:x.clone().attr("label",a),label:c.label},j=[e],A.push(j),f.append(e.element)):(j=A[C],e=j[0],e.label!=a&&e.element.attr("label",e.label=a)),F=null,D=0,B=c.length;D<B;D++)d=c[D],(k=j[D+1])?(F=k.element,k.label!==d.label&&(F.text(k.label=d.label),F.prop("label",k.label)),k.id!==d.id&&F.val(k.id=d.id),F[0].selected!==d.selected&&(F.prop("selected",k.selected=d.selected),tc&&F.prop("selected",k.selected))):(""===d.id&&v?G=v:(G=w.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),j.push(k={element:G,label:d.label,id:d.id,selected:d.selected}),p.addOption(d.label,G),F?F.after(G):e.element.append(G),F=G);for(D++;j.length>D;)d=j.pop(),p.removeOption(d.label),d.element.remove()}for(;A.length>C;)A.pop()[0].element.remove()}var k;if(!(k=u.match(e)))throw ze("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(f));var l=d(k[2]||k[1]),m=k[4]||k[6],n=k[5],o=d(k[3]||""),q=d(k[2]?k[1]:m),r=d(k[7]),y=k[8],z=y?d(k[8]):null,A=[[{element:f,label:""}]];v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),f.empty(),f.on("change",function(){b.$apply(function(){var a,d,e,g,i,k,l,o,p,s=r(b)||[],u={};if(t){for(e=[],k=0,o=A.length;k<o;k++)for(a=A[k],i=1,l=a.length;i<l;i++)if((g=a[i].element)[0].selected){if(d=g.val(),n&&(u[n]=d),z)for(p=0;p<s.length&&(u[m]=s[p],z(b,u)!=d);p++);else u[m]=s[d];e.push(q(b,u))}}else if("?"==(d=f.val()))e=c;else if(""===d)e=null;else if(z){for(p=0;p<s.length;p++)if(u[m]=s[p],z(b,u)==d){e=q(b,u);break}}else u[m]=s[d],n&&(u[n]=d),e=q(b,u);h.$setViewValue(e),j()})}),h.$render=j,b.$watchCollection(r,j),b.$watchCollection(function(){var a={},c=r(b);if(c){for(var d=new Array(c.length),e=0,f=c.length;e<f;e++)a[m]=c[e],d[e]=l(b,a);return d}},j),t&&b.$watchCollection(function(){return h.$modelValue},j)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=uc(b.createElement("option")),x=uc(b.createElement("optgroup")),y=w.clone(),z=0,A=i.children(),B=A.length;z<B;z++)if(""===A[z].value){o=v=A.eq(z);break}p.init(q,v,y),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],Ce=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound?c.prop("selected",!1):h=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&h.removeOption(b),h.addOption(a)}):h.addOption(d.value),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],De=q({restrict:"E",terminal:!0});if(a.angular.bootstrap)return void console.log("WARNING: Tried to load angular more than once.");aa(),ha(Cc),uc(b).ready(function(){Z(b,$)})}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.MessageFormat=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){"use strict";function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,c,d,e){this.message=a,this.expected=c,this.found=d,this.location=e,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}function c(a){function c(b){var c,d,e=Ta[b];if(e)return e;for(c=b-1;!Ta[c];)c--;for(e=Ta[c],e={line:e.line,column:e.column,seenCR:e.seenCR};c<b;)d=a.charAt(c),"\n"===d?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1),c++;return Ta[b]=e,e}function d(a,b){var d=c(a),e=c(b);return{start:{offset:a,line:d.line,column:d.column},end:{offset:b,line:e.line,column:e.column}}}function e(a){Ra<Ua||(Ra>Ua&&(Ua=Ra,Va=[]),Va.push(a))}function f(a,c,d,e){function f(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function g(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}return null!==c&&f(c),new b(null!==a?a:g(c,d),c,d,e)}function g(){return h()}function h(){var a,b,c;for(a=Ra,b=[],c=i(),c===C&&(c=s())===C&&(c=r());c!==C;)b.push(c),(c=i())===C&&(c=s())===C&&(c=r());return b!==C&&(Sa=a,b=F(b)),a=b}function i(){var b,c,d,f,g,h,i;return b=Ra,123===a.charCodeAt(Ra)?(c=G,Ra++):(c=C,0===Wa&&e(H)),c!==C?(d=y(),d!==C?(f=t(),f!==C?(g=Ra,44===a.charCodeAt(Ra)?(h=I,Ra++):(h=C,0===Wa&&e(J)),h!==C?(i=j(),i!==C?(h=[h,i],g=h):(Ra=g,g=C)):(Ra=g,g=C),g===C&&(g=null),g!==C?(h=y(),h!==C?(125===a.charCodeAt(Ra)?(i=K,Ra++):(i=C,0===Wa&&e(L)),i!==C?(Sa=b,c=M(f,g),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b}function j(){var b,c,d,f,g,h,i,j;if(b=Ra,c=y(),c!==C?(a.substr(Ra,6)===N?(d=N,Ra+=6):(d=C,0===Wa&&e(O)),d!==C?(f=y(),f!==C?(44===a.charCodeAt(Ra)?(g=I,Ra++):(g=C,0===Wa&&e(J)),g!==C?(h=y(),h!==C?(i=k(),i!==C?(j=y(),j!==C?(Sa=b,c=P(d,i),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b===C&&(b=Ra,c=y(),c!==C?(a.substr(Ra,13)===Q?(d=Q,Ra+=13):(d=C,0===Wa&&e(R)),d!==C?(f=y(),f!==C?(44===a.charCodeAt(Ra)?(g=I,Ra++):(g=C,0===Wa&&e(J)),g!==C?(h=y(),h!==C?(i=k(),i!==C?(j=y(),j!==C?(Sa=b,c=P(d,i),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b===C&&(b=Ra,c=y(),c!==C?(a.substr(Ra,6)===S?(d=S,Ra+=6):(d=C,0===Wa&&e(T)),d!==C?(f=y(),f!==C?(44===a.charCodeAt(Ra)?(g=I,Ra++):(g=C,0===Wa&&e(J)),g!==C?(h=y(),h!==C?(i=o(),i!==C?(j=y(),j!==C?(Sa=b,c=P(d,i),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b===C)))if(b=Ra,(c=y())!==C)if((d=t())!==C){for(f=[],g=q();g!==C;)f.push(g),g=q();f!==C?(Sa=b,c=U(d,f),b=c):(Ra=b,b=C)}else Ra=b,b=C;else Ra=b,b=C;return b}function k(){var a,b,c,d;if(a=Ra,b=l(),b===C&&(b=null),b!==C){if(c=[],(d=m())!==C)for(;d!==C;)c.push(d),d=m();else c=C;c!==C?(Sa=a,b=V(b,c),a=b):(Ra=a,a=C)}else Ra=a,a=C;return a}function l(){var b,c,d,f,g,h,i,j;return b=Ra,c=y(),c!==C?(a.substr(Ra,6)===W?(d=W,Ra+=6):(d=C,0===Wa&&e(X)),d!==C?(f=y(),f!==C?(58===a.charCodeAt(Ra)?(g=Y,Ra++):(g=C,0===Wa&&e(Z)),g!==C?(h=y(),h!==C?(i=w(),i!==C?(j=y(),j!==C?(Sa=b,c=$(i),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b}function m(){var b,c,d,f,g,i,j,k,l;return b=Ra,c=y(),c!==C?(d=n(),d!==C?(f=y(),f!==C?(123===a.charCodeAt(Ra)?(g=G,Ra++):(g=C,0===Wa&&e(H)),g!==C?(i=y(),i!==C?(j=h(),j!==C?(k=y(),k!==C?(125===a.charCodeAt(Ra)?(l=K,Ra++):(l=C,0===Wa&&e(L)),l!==C?(Sa=b,c=_(d,j),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b}function n(){var b,c,d;return b=Ra,c=t(),c!==C&&(Sa=b,c=aa(c)),b=c,b===C&&(b=Ra,61===a.charCodeAt(Ra)?(c=ba,Ra++):(c=C,0===Wa&&e(ca)),c!==C?(d=w(),d!==C?(Sa=b,c=$(d),b=c):(Ra=b,b=C)):(Ra=b,b=C)),b}function o(){var a,b,c;if(a=Ra,b=[],(c=p())!==C)for(;c!==C;)b.push(c),c=p();else b=C;return b!==C&&(Sa=a,b=da(b)),a=b}function p(){var b,c,d,f,g,i,j,k,l;return b=Ra,c=y(),c!==C?(d=t(),d!==C?(f=y(),f!==C?(123===a.charCodeAt(Ra)?(g=G,Ra++):(g=C,0===Wa&&e(H)),g!==C?(i=y(),i!==C?(j=h(),j!==C?(k=y(),k!==C?(125===a.charCodeAt(Ra)?(l=K,Ra++):(l=C,0===Wa&&e(L)),l!==C?(Sa=b,c=_(d,j),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b}function q(){var b,c,d,f,g,h;return b=Ra,c=y(),c!==C?(44===a.charCodeAt(Ra)?(d=I,Ra++):(d=C,0===Wa&&e(J)),d!==C?(f=y(),f!==C?(g=t(),g!==C?(h=y(),h!==C?(Sa=b,c=ea(g),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C),b}function r(){var b,c;return b=Ra,35===a.charCodeAt(Ra)?(c=fa,Ra++):(c=C,0===Wa&&e(ga)),c!==C&&(Sa=b,c=ha()),b=c}function s(){var a,b,c;if(a=Ra,b=[],c=u(),c===C&&(c=z()),c!==C)for(;c!==C;)b.push(c),(c=u())===C&&(c=z());else b=C;return b!==C&&(Sa=a,b=ia(b)),a=b}function t(){var b,c,d,f,g,h,i;if(Wa++,b=Ra,(c=y())!==C){if(d=Ra,f=Ra,ka.test(a.charAt(Ra))?(g=a.charAt(Ra),Ra++):(g=C,0===Wa&&e(la)),g!==C){for(h=[],ma.test(a.charAt(Ra))?(i=a.charAt(Ra),Ra++):(i=C,0===Wa&&e(na));i!==C;)h.push(i),ma.test(a.charAt(Ra))?(i=a.charAt(Ra),Ra++):(i=C,0===Wa&&e(na));h!==C?(g=[g,h],f=g):(Ra=f,f=C)}else Ra=f,f=C;d=f!==C?a.substring(d,Ra):f,d!==C?(f=y(),f!==C?(Sa=b,c=oa(d),b=c):(Ra=b,b=C)):(Ra=b,b=C)}else Ra=b,b=C;return Wa--,b===C&&(c=C,0===Wa&&e(ja)),b}function u(){var a,b,c;if(a=Ra,b=[],(c=v())!==C)for(;c!==C;)b.push(c),c=v();else b=C;return b!==C&&(Sa=a,b=pa(b)),a=b}function v(){var b,c,d,f,g,h;return b=Ra,qa.test(a.charAt(Ra))?(c=a.charAt(Ra),Ra++):(c=C,0===Wa&&e(ra)),c!==C&&(Sa=b,c=sa(c)),b=c,b===C&&(b=Ra,a.substr(Ra,2)===ta?(c=ta,Ra+=2):(c=C,0===Wa&&e(ua)),c!==C&&(Sa=b,c=va()),(b=c)===C&&(b=Ra,a.substr(Ra,2)===wa?(c=wa,Ra+=2):(c=C,0===Wa&&e(xa)),c!==C&&(Sa=b,c=ya()),(b=c)===C&&(b=Ra,a.substr(Ra,2)===za?(c=za,Ra+=2):(c=C,0===Wa&&e(Aa)),c!==C&&(Sa=b,c=Ba()),(b=c)===C&&(b=Ra,a.substr(Ra,2)===Ca?(c=Ca,Ra+=2):(c=C,0===Wa&&e(Da)),c!==C&&(Sa=b,c=Ea()),(b=c)===C&&(b=Ra,a.substr(Ra,2)===Fa?(c=Fa,Ra+=2):(c=C,0===Wa&&e(Ga)),c!==C?(d=x(),d!==C?(f=x(),f!==C?(g=x(),g!==C?(h=x(),h!==C?(Sa=b,c=Ha(d,f,g,h),b=c):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)):(Ra=b,b=C)))))),b}function w(){var b,c,d;if(b=Ra,c=[],Ia.test(a.charAt(Ra))?(d=a.charAt(Ra),Ra++):(d=C,0===Wa&&e(Ja)),d!==C)for(;d!==C;)c.push(d),Ia.test(a.charAt(Ra))?(d=a.charAt(Ra),Ra++):(d=C,0===Wa&&e(Ja));else c=C;return c!==C&&(Sa=b,c=Ka(c)),b=c}function x(){var b;return La.test(a.charAt(Ra))?(b=a.charAt(Ra),Ra++):(b=C,0===Wa&&e(Ma)),b}function y(){var a,b,c;for(Wa++,a=Ra,b=[],c=z();c!==C;)b.push(c),c=z();return b!==C&&(Sa=a,b=Oa(b)),a=b,Wa--,a===C&&(b=C,0===Wa&&e(Na)),a}function z(){var b;return Pa.test(a.charAt(Ra))?(b=a.charAt(Ra),Ra++):(b=C,0===Wa&&e(Qa)),b}var A,B=arguments.length>1?arguments[1]:{},C={},D={start:g},E=g,F=function(a){return{type:"messageFormatPattern",statements:a}},G="{",H={type:"literal",value:"{",description:'"{"'},I=",",J={type:"literal",value:",",description:'","'},K="}",L={type:"literal",value:"}",description:'"}"'},M=function(a,b){var c={type:"messageFormatElement",argumentIndex:a};return b&&b.length?c.elementFormat=b[1]:c.output=!0,c},N="plural",O={type:"literal",value:"plural",description:'"plural"'},P=function(a,b){return{type:"elementFormat",key:a,val:b}},Q="selectordinal",R={type:"literal",value:"selectordinal",description:'"selectordinal"'},S="select",T={type:"literal",value:"select",description:'"select"'},U=function(a,b){return{type:"elementFormat",key:a,val:b}},V=function(a,b){return{type:"pluralFormatPattern",pluralForms:b,offset:a||0}},W="offset",X={type:"literal",value:"offset",description:'"offset"'},Y=":",Z={type:"literal",value:":",description:'":"'},$=function(a){return a},_=function(a,b){return{key:a,val:b}},aa=function(a){return a},ba="=",ca={type:"literal",value:"=",description:'"="'},da=function(a){return{type:"selectFormatPattern",pluralForms:a}},ea=function(a){return a},fa="#",ga={type:"literal",value:"#",description:'"#"'},ha=function(){return{type:"octothorpe"}},ia=function(a){return{type:"string",val:a.join("")}},ja={type:"other",description:"identifier"},ka=/^[0-9a-zA-Z$_]/,la={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},ma=/^[^ \t\n\r,.+={}]/,na={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},oa=function(a){return a},pa=function(a){return a.join("")},qa=/^[^{}#\\\0-\x1F \t\n\r]/,ra={type:"class",value:"[^{}#\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},sa=function(a){return a},ta="\\\\",ua={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},va=function(){return"\\"},wa="\\#",xa={type:"literal",value:"\\#",description:'"\\\\#"'},ya=function(){return"#"},za="\\{",Aa={type:"literal",value:"\\{",description:'"\\\\{"'},Ba=function(){return"{"},Ca="\\}",Da={type:"literal",value:"\\}",description:'"\\\\}"'},Ea=function(){return"}"},Fa="\\u",Ga={type:"literal",value:"\\u",description:'"\\\\u"'},Ha=function(a,b,c,d){return String.fromCharCode(parseInt("0x"+a+b+c+d))},Ia=/^[0-9]/,Ja={type:"class",value:"[0-9]",description:"[0-9]"},Ka=function(a){return parseInt(a.join(""),10)},La=/^[0-9a-fA-F]/,Ma={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Na={type:"other",description:"whitespace"},Oa=function(a){return a.join("")},Pa=/^[ \t\n\r]/,Qa={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Ra=0,Sa=0,Ta=[{line:1,column:1,seenCR:!1}],Ua=0,Va=[],Wa=0;if("startRule"in B){if(!(B.startRule in D))throw new Error("Can't start parsing from rule \""+B.startRule+'".');E=D[B.startRule]}if((A=E())!==C&&Ra===a.length)return A;throw A!==C&&Ra<a.length&&e({type:"end",description:"end of input"}),f(null,Va,Ua<a.length?a.charAt(Ua):null,Ua<a.length?d(Ua,Ua+1):d(Ua,Ua))}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],2:[function(a,b,c){function d(a,b){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(a)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(a)<0)return b?b+"."+a:a;var c=JSON.stringify(a);return b?b+"["+c+"]":c}function e(a,b){function c(a){var b=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"];return new RegExp("^"+b.join("|^")).test(a)}var d=JSON.stringify(c(b)?"‏":"‎");return d+" + "+a+" + "+d}function f(a,b,c){if(a)if("string"==typeof a){this.lc=[];for(var d=a;d;d=d.replace(/[-_]?[^-_]*$/,""))this.lc.push(d)}else this.lc=a;else this.lc=["en"];if(!b&&this.lc.every(function(a){return!(b=f.plurals[a])}))throw new Error("Plural function for locale `"+this.lc.join(",")+"` not found");this.runtime=new g(this.lc[0],b,c)}function g(a,b,c){if(this.pluralFuncs={},this.pluralFuncs[a]=b,this.fmt={},c)for(var d in c)this.fmt[d]=c[d]}b.exports=f,f._parse=a("./messageformat-parser").parse,f.plurals=a("make-plural/plurals"),f.formatters={number:function(a){return new Function("v,lc,p","return Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(a.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(a,b,c){var d={day:"numeric",month:"short",year:"numeric"};switch(c){case"full":d.weekday="long";case"long":d.month="long";break;case"short":d.month="numeric"}return new Date(a).toLocaleDateString(b,d)},time:function(a,b,c){var d={second:"numeric",minute:"numeric",hour:"numeric"};switch(c){case"full":case"long":d.timeZoneName="short";break;case"short":delete d.minute}return new Date(a).toLocaleTimeString(b,d)}},f.prototype.setBiDiSupport=function(a){return this.bidiSupport=!!a||void 0===a,this},f.prototype.setIntlSupport=function(a){return this.withIntlSupport=!!a||void 0===a,this},g.prototype={number:function(a,b){if(isNaN(a))throw new Error("'"+a+"' isn't a number.");return a-(b||0)},plural:function(a,b,c,d,e){if({}.hasOwnProperty.call(d,a))return d[a]();b&&(a-=b);var f=c(a,e);return f in d?d[f]():d.other()},select:function(a,b){return{}.hasOwnProperty.call(b,a)?b[a]():b.other()},toString:function(){var a=function(b,c){if("object"!=typeof b){var e=b.toString().replace(/^(function )\w*/,"$1"),f=/([ \t]*)\S.*$/.exec(e);return f?e.replace(new RegExp("^"+f[1],"mg"),""):e}var g=[];for(var h in b)"toString"!=h&&(0==c?g.push("var "+h+" = "+a(b[h],c+1)+";\n"):g.push(d(h)+": "+a(b[h],c+1)));if(0==c)return g.join("");if(0==g.length)return"{}";for(var f="  ";--c;)f+="  ";return"{\n"+g.join(",\n").replace(/^/gm,f)+"\n}"};return a(this,0)}},f.prototype._precompile=function(a,b){b=b||{keys:{},offset:{}};var c,g,h=[],i=[];switch(a.type){case"messageFormatPattern":for(c=0;c<a.statements.length;++c)h.push(this._precompile(a.statements[c],b));return g=h.join(" + ")||'""',b.pf_count?g:"function(d) { return "+g+"; }";case"messageFormatElement":if(b.pf_count=b.pf_count||0,a.output){var j=d(a.argumentIndex,"d");return this.bidiSupport?e(j,this.lc):j}return b.keys[b.pf_count]=a.argumentIndex,this._precompile(a.elementFormat,b);case"elementFormat":switch(i=[d(b.keys[b.pf_count],"d")],a.key){case"select":return i.push(this._precompile(a.val,b)),"select("+i.join(", ")+")";case"selectordinal":return i=i.concat([0,d(this.lc[0],"pluralFuncs"),this._precompile(a.val,b),1]),"plural("+i.join(", ")+")";case"plural":return b.offset[b.pf_count||0]=a.val.offset||0,i=i.concat([b.offset[b.pf_count]||0,d(this.lc[0],"pluralFuncs"),this._precompile(a.val,b)]),"plural("+i.join(", ")+")";default:return this.withIntlSupport&&!(a.key in this.runtime.fmt)&&a.key in f.formatters&&(g=f.formatters[a.key],this.runtime.fmt[a.key]="function"==typeof g(this)?g(this):g),i.push(JSON.stringify(this.lc)),a.val&&a.val.length&&i.push(JSON.stringify(1==a.val.length?a.val[0]:a.val)),"fmt."+a.key+"("+i.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":b.pf_count=b.pf_count||0,"selectFormatPattern"==a.type&&(b.offset[b.pf_count]=0);var k=!0;for(c=0;c<a.pluralForms.length;++c){var l=a.pluralForms[c].key;"other"===l&&(k=!1);var m=JSON.parse(JSON.stringify(b));m.pf_count++,h.push(d(l)+": function() { return "+this._precompile(a.pluralForms[c].val,m)+";}")}if(k)throw new Error("No 'other' form found in "+a.type+" "+b.pf_count);return"{ "+h.join(", ")+" }";case"string":return JSON.stringify(a.val||"");case"octothorpe":return b.pf_count?(i=[d(b.keys[b.pf_count-1],"d")],b.offset[b.pf_count-1]&&i.push(b.offset[b.pf_count-1]),"number("+i.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+a.type)}},f.prototype.compile=function(a,b){var c={},e=this.lc,g=function(a,b){try{var c=f._parse(b);return a._precompile(c)}catch(a){throw new Error((c?"Precompiler":"Parser")+" error: "+a.toString())}},h=function(a,b){if(b||(b=0),"object"!=typeof a)return a;for(var c=[],e="",f=0;f<b;++f)e+="  ";for(var g in a)c.push("\n"+e+"  "+d(g)+": "+h(a[g],b+1));return"{"+c.join(",")+"\n"+e+"}"};if("string"==typeof a){return new Function("number, plural, select, pluralFuncs, fmt","return "+g(this,a))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt)}b=b||{};for(var i in a)if(b.locale&&(this.lc=b.locale[i]&&[].concat(b.locale[i])||e),"string"==typeof a[i])try{c[i]=g(this,a[i])}catch(a){throw a.message=a.message.replace(":"," with `"+i+"`:"),a}else{c[i]={};for(var j in a[i])try{c[i][j]=g(this,a[i][j])}catch(a){throw a.message=a.message.replace(":"," with `"+j+"` in `"+i+"`:"),a}}this.lc=e;var k=this.runtime.toString()+"\n";switch(b.global||""){case"exports":var l=[];for(var m in c)l.push(d(m,"exports")+" = "+h(c[m]));return new Function(k+l.join(";\n"));case"module.exports":return new Function(k+"module.exports = "+h(c));case"":return new Function(k+"return "+h(c));default:return new Function("G",k+d(b.global,"G")+" = "+h(c))}}},{"./messageformat-parser":1,"make-plural/plurals":3}],3:[function(b,c,d){var e=[function(a,b){return"other"},function(a,b){return b?"other":1==a?"one":"other"},function(a,b){return b?"other":0==a||1==a?"one":"other"},function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"}];!function(b,e){"function"==typeof a&&a.amd?a(e):"object"==typeof d?c.exports=e:b.plurals=e}(this,{af:e[1],ak:e[2],am:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ar:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&e<=10?"few":e>=11&&e<=99?"many":"other"},as:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},asa:e[1],ast:e[3],az:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-1),f=d.slice(-2),g=d.slice(-3);return b?1==e||2==e||5==e||7==e||8==e||20==f||50==f||70==f||80==f?"one":3==e||4==e||100==g||200==g||300==g||400==g||500==g||600==g||700==g||800==g||900==g?"few":0==d||6==e||40==f||60==f||90==f?"many":"other":1==a?"one":"other"},be:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?2!=e&&3!=e||12==f||13==f?"other":"few":1==e&&11!=f?"one":e>=2&&e<=4&&(f<12||f>14)?"few":d&&0==e||e>=5&&e<=9||f>=11&&f<=14?"many":"other"},bem:e[1],bez:e[1],bg:e[1],bh:e[2],bm:e[0],bn:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},bo:e[0],br:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2),g=d&&c[0].slice(-6);return b?"other":1==e&&11!=f&&71!=f&&91!=f?"one":2==e&&12!=f&&72!=f&&92!=f?"two":(3==e||4==e||9==e)&&(f<10||f>19)&&(f<70||f>79)&&(f<90||f>99)?"few":0!=a&&d&&0==g?"many":"other"},brx:e[1],bs:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},ca:function(a,b){var c=String(a).split("."),d=!c[1];return b?1==a||3==a?"one":2==a?"two":4==a?"few":"other":1==a&&d?"one":"other"},ce:e[1],cgg:e[1],chr:e[1],ckb:e[1],cs:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&d<=4&&e?"few":e?"other":"many"},cy:function(a,b){return b?0==a||7==a||8==a||9==a?"zero":1==a?"one":2==a?"two":3==a||4==a?"few":5==a||6==a?"many":"other":0==a?"zero":1==a?"one":2==a?"two":3==a?"few":6==a?"many":"other"},da:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a;return b?"other":1!=a&&(e||0!=d&&1!=d)?"other":"one"},de:e[3],dsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},dv:e[1],dz:e[0],ee:e[1],el:e[1],en:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},eo:e[1],es:e[1],et:e[3],eu:e[1],fa:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ff:function(a,b){return b?"other":a>=0&&a<2?"one":"other"},fi:e[3],fil:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},fo:e[1],fr:function(a,b){return b?1==a?"one":"other":a>=0&&a<2?"one":"other"},fur:e[1],fy:e[3],ga:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a?"one":"other":1==a?"one":2==a?"two":d&&a>=3&&a<=6?"few":d&&a>=7&&a<=10?"many":"other"},gd:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":1==a||11==a?"one":2==a||12==a?"two":d&&a>=3&&a<=10||d&&a>=13&&a<=19?"few":"other"},gl:e[3],gsw:e[1],gu:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},guw:e[2],gv:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":!e||0!=g&&20!=g&&40!=g&&60!=g&&80!=g?e?"other":"many":"few"},ha:e[1],haw:e[1],he:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(a<0||a>10)&&f&&0==g?"many":"other"},hi:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},hr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},hsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},hu:function(a,b){return b?1==a||5==a?"one":"other":1==a?"one":"other"},hy:function(a,b){return b?1==a?"one":"other":a>=0&&a<2?"one":"other"},id:e[0],ig:e[0],ii:e[0],in:e[0],is:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a,f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g||!e?"one":"other"},it:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},iu:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},iw:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(a<0||a>10)&&f&&0==g?"many":"other"},ja:e[0],jbo:e[0],jgo:e[1],ji:e[3],jmc:e[1],jv:e[0],jw:e[0],ka:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-2);return b?1==d?"one":0==d||e>=2&&e<=20||40==e||60==e||80==e?"many":"other":1==a?"one":"other"},kab:function(a,b){return b?"other":a>=0&&a<2?"one":"other"},kaj:e[1],kcg:e[1],kde:e[0],kea:e[0],kk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||d&&0==e&&0!=a?"many":"other":1==a?"one":"other"},kkj:e[1],kl:e[1],km:e[0],kn:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ko:e[0],ks:e[1],ksb:e[1],ksh:function(a,b){return b?"other":0==a?"zero":1==a?"one":"other"},ku:e[1],kw:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},ky:e[1],lag:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==a?"zero":0!=d&&1!=d||0==a?"other":"one"},lb:e[1],lg:e[1],lkt:e[0],ln:e[2],lo:function(a,b){return b&&1==a?"one":"other"},lt:function(a,b){var c=String(a).split("."),d=c[1]||"",e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?"other":1==f&&(g<11||g>19)?"one":f>=2&&f<=9&&(g<11||g>19)?"few":0!=d?"many":"other"},lv:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&h<=19||2==e&&i>=11&&i<=19?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},mas:e[1],mg:e[2],mgo:e[1],mk:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1);return b?1==g&&11!=h?"one":2==g&&12!=h?"two":7!=g&&8!=g||17==h||18==h?"other":"many":f&&1==g||1==i?"one":"other"},ml:e[1],mn:e[1],mo:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&f<=19?"few":"other"},mr:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":"other":a>=0&&a<=1?"one":"other"},ms:function(a,b){return b&&1==a?"one":"other"},mt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":1==a?"one":0==a||e>=2&&e<=10?"few":e>=11&&e<=19?"many":"other"},my:e[0],nah:e[1],naq:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},nb:e[1],nd:e[1],ne:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?d&&a>=1&&a<=4?"one":"other":1==a?"one":"other"},nl:e[3],nn:e[1],nnh:e[1],no:e[1],nqo:e[0],nr:e[1],nso:e[2],ny:e[1],nyn:e[1],om:e[1],or:e[1],os:e[1],pa:e[2],pap:e[1],pl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":1==a&&e?"one":e&&f>=2&&f<=4&&(g<12||g>14)?"few":e&&1!=d&&(0==f||1==f)||e&&f>=5&&f<=9||e&&g>=12&&g<=14?"many":"other"},prg:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&h<=19||2==e&&i>=11&&i<=19?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},ps:e[1],pt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":d&&a>=0&&a<=2&&2!=a?"one":"other"},"pt-PT":e[3],rm:e[1],ro:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&f<=19?"few":"other"},rof:e[1],root:e[0],ru:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g?"one":e&&f>=2&&f<=4&&(g<12||g>14)?"few":e&&0==f||e&&f>=5&&f<=9||e&&g>=11&&g<=14?"many":"other"},rwk:e[1],sah:e[0],saq:e[1],sdh:e[1],se:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},seh:e[1],ses:e[0],sg:e[0],sh:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},shi:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":a>=0&&a<=1?"one":d&&a>=2&&a<=10?"few":"other"},si:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"";return b?"other":0==a||1==a||0==d&&1==e?"one":"other"},sk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&d<=4&&e?"few":e?"other":"many"},sl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":e&&(3==f||4==f)||!e?"few":"other"},sma:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smi:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smj:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smn:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sms:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sn:e[1],so:e[1],sq:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?1==a?"one":4==e&&14!=f?"many":"other":1==a?"one":"other"},sr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},ss:e[1],ssy:e[1],st:e[1],sv:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1!=f&&2!=f||11==g||12==g?"other":"one":1==a&&d?"one":"other"},sw:e[3],syr:e[1],ta:e[1],te:e[1],teo:e[1],th:e[0],ti:e[2],tig:e[1],tk:e[1],tl:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},tn:e[1],to:e[0],tr:e[1],ts:e[1],tzm:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":0==a||1==a||d&&a>=11&&a<=99?"one":"other"},ug:e[1],uk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-1),j=d.slice(-2);return b?3==g&&13!=h?"few":"other":e&&1==i&&11!=j?"one":e&&i>=2&&i<=4&&(j<12||j>14)?"few":e&&0==i||e&&i>=5&&i<=9||e&&j>=11&&j<=14?"many":"other"},ur:e[3],uz:e[1],ve:e[1],vi:function(a,b){return b&&1==a?"one":"other"},vo:e[1],vun:e[1],wa:e[2],wae:e[1],wo:e[0],xh:e[1],xog:e[1],yi:e[3],yo:e[0],zh:e[0],zu:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"}})},{}]},{},[2])(2)}),function(a,b){"use strict";function c(a){a.decorator("$exceptionHandler",["RavenConfig","$delegate",d])}function d(b,c){if(!b)throw new Error("RavenConfig must be set before using this");return a.config(b.dsn,b.config).install(),function(b,d){c(b,d),a.captureException(b,{extra:{cause:d}})}}b&&b.module("ngRaven",[]).config(["$provide",c]).value("Raven",a)}(window.Raven,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});c[0].offsetWidth;c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){(angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers)&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);d&&!angular.isDefined(c.uncheckable)||a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);e.$element[0].offsetWidth;angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;if(!a.$currentTransition)return i.select(j[b],"next")},a.prev=function(){var b=k-1<0?j.length-1:k-1;if(!a.$currentTransition)return i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?b>=j.length?i.select(j[b-1]):i.select(j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4==0&&a%100!=0||a%400==0):3!==b&&5!==b&&8!==b&&10!==b||c<31}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;l<m;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?e<8?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!=0||a%100==0&&a%400!=0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);e<b;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(1-j);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;f<12;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());c<f;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a,b){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b,c){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top())&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")}))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&k<b;f&&(l?(d=Math.max(a-Math.floor(k/2),1),(e=d+k-1)>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;h<=e;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(e<b){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m;return{show:b,hide:c[b]||b}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(a,b){var c=f(s);return function(a,b,d){function f(){a.tt_isOpen?m():k()}function k(){y&&!a.$eval(d[l+"Enable"])||(a.tt_popupDelay?v||(v=g(p,a.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){a.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),a.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):b.after(t),z(),a.tt_isOpen=!0,a.$digest(),z):angular.noop}function q(){a.tt_isOpen=!1,g.cancel(v),v=null,a.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=c(a,function(){}),a.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=!!angular.isDefined(o.appendToBody)&&o.appendToBody,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var c=j.positionElements(b,t,a.tt_placement,w);c.top+="px",c.left+="px",t.css(c)};a.tt_isOpen=!1,d.$observe(e,function(b){a.tt_content=b,!b&&a.tt_isOpen&&q()}),d.$observe(l+"Title",function(b){a.tt_title=b}),d.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),d.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){b.unbind(x.show,k),b.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?b.bind(x.show,f):(b.bind(x.show,k),b.bind(x.hide,m))});var B=a.$eval(d[l+"Animation"]);a.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10);if(a.showMeridian?b>0&&b<13:b>=0&&b<24)return a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b}function h(){var b=parseInt(a.minutes,10);return b>=0&&b<60?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1);(angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel)&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=!1!==i.$eval(k.typeaheadEditable),q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=!!k.typeaheadAppendToBody&&i.$eval(k.typeaheadAppendToBody),u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){a<0?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(a){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return I(new(I(function(){},{prototype:a})),b)}function e(a){return H(arguments,function(b){b!==a&&H(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function h(a,b,c,d){var e,h=f(c,d),i={},j=[];for(var k in h)if(h[k].params&&h[k].params.length){e=h[k].params;for(var l in e)g(j,e[l])>=0||(j.push(e[l]),i[e[l]]=a[e[l]])}return I({},i,b)}function i(a,b){var c={};return H(a,function(a){var d=b[a];c[a]=null!=d?String(d):null}),c}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return H(a,function(a){c[a]=b[a]}),c}function l(a,b){var d=1,f=2,g={},h=[],i=g,j=I(a.when(g),{$$promises:g,$$values:g});this.study=function(g){function k(a,c){if(o[c]!==f){if(n.push(c),o[c]===d)throw n.splice(0,n.indexOf(c)),new Error("Cyclic dependency: "+n.join(" -> "));if(o[c]=d,E(a))m.push(c,[function(){return b.get(a)}],h);else{var e=b.annotate(a);H(e,function(a){a!==c&&g.hasOwnProperty(a)&&k(g[a],a)}),m.push(c,a,e)}n.pop(),o[c]=f}}function l(a){return F(a)&&a.then&&a.$$promises}if(!F(g))throw new Error("'invocables' must be an object");var m=[],n=[],o={};return H(g,k),g=n=o=null,function(d,f,g){function h(){--s||(t||e(r,f.$$values),p.$$values=r,p.$$promises=!0,o.resolve(r))}function k(a){p.$$failure=a,o.reject(a)}function n(c,e,f){function i(a){l.reject(a),k(a)}function j(){if(!C(p.$$failure))try{l.resolve(b.invoke(e,g,r)),l.promise.then(function(a){r[c]=a,h()},i)}catch(a){i(a)}}var l=a.defer(),m=0;H(f,function(a){q.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,q[a].then(function(b){r[a]=b,--m||j()},i))}),m||j(),q[c]=l.promise}if(l(d)&&g===c&&(g=f,f=d,d=null),d){if(!F(d))throw new Error("'locals' must be an object")}else d=i;if(f){if(!l(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=j;var o=a.defer(),p=o.promise,q=p.$$promises={},r=I({},d),s=1+m.length/3,t=!1;if(C(f.$$failure))return k(f.$$failure),p;f.$$values?(t=e(r,f.$$values),h()):(I(q,f.$$promises),f.then(h,k));for(var u=0,v=m.length;u<v;u+=3)d.hasOwnProperty(m[u])?h():n(m[u],m[u+1],m[u+2]);return p}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function m(a,b,c){this.fromConfig=function(a,b,c){return C(a.template)?this.fromString(a.template,b):C(a.templateUrl)?this.fromUrl(a.templateUrl,b):C(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return D(a)?a(b):a},this.fromUrl=function(c,d){return D(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function n(a){function b(b){if(!/^\w+(-+\w+)*$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(f[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");f[b]=!0,j.push(b)}function c(a){return a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var d,e=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f={},g="^",h=0,i=this.segments=[],j=this.params=[];this.source=a;for(var k,l,m;(d=e.exec(a))&&(k=d[2]||d[3],l=d[4]||("*"==d[1]?".*":"[^/]*"),m=a.substring(h,d.index),!(m.indexOf("?")>=0));)g+=c(m)+"("+l+")",b(k),i.push(m),h=e.lastIndex;m=a.substring(h);var n=m.indexOf("?");if(n>=0){var o=this.sourceSearch=m.substring(n);m=m.substring(0,n),this.sourcePath=a.substring(0,h+n),H(o.substring(1).split(/[&?]/),b)}else this.sourcePath=a,this.sourceSearch="";g+=c(m)+"$",i.push(m),this.regexp=new RegExp(g),this.prefix=i[0]}function o(){this.compile=function(a){return new n(a)},this.isMatcher=function(a){return F(a)&&D(a.exec)&&D(a.format)&&D(a.concat)},this.$get=function(){return this}}function p(a){function b(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function c(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function d(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!C(d)||d}var e=[],f=null;this.rule=function(a){if(!D(a))throw new Error("'rule' must be a function");return e.push(a),this},this.otherwise=function(a){if(E(a)){var b=a;a=function(){return b}}else if(!D(a))throw new Error("'rule' must be a function");return f=a,this},this.when=function(e,f){var g,h=E(f);if(E(e)&&(e=a.compile(e)),!h&&!D(f)&&!G(f))throw new Error("invalid 'handler' in when()");var i={matcher:function(b,c){return h&&(g=a.compile(c),c=["$match",function(a){return g.format(a)}]),I(function(a,e){return d(a,c,b.exec(e.path(),e.search()))},{prefix:E(b.prefix)?b.prefix:""})},regex:function(a,e){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(g=e,e=["$match",function(a){return c(g,a)}]),I(function(b,c){return d(b,e,a.exec(c.path()))},{prefix:b(a)})}},j={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](e,f));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(a,b,c){function d(b){function d(b){var d=b(c,a);return!!d&&(E(d)&&a.replace().url(d),!0)}if(!b||!b.defaultPrevented){var g,h=e.length;for(g=0;g<h;g++)if(d(e[g]))return;f&&d(f)}}return b.$on("$locationChangeSuccess",d),{sync:function(){d()}}}]}function q(a,e,f){function g(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){var d=E(a),e=d?a:a.name;if(g(e)){if(!b)throw new Error("No reference point given for path '"+e+"'");for(var f=e.split("."),h=0,i=f.length,j=b;h<i;h++)if(""!==f[h]||0!==h){if("^"!==f[h])break;if(!j.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");j=j.parent}else j=b;f=f.slice(h).join("."),e=j.name+(j.name&&f?".":"")+f}var k=w[e];return!k||!d&&(d||k!==a&&k.self!==a)?c:k}function m(a,b){x[a]||(x[a]=[]),x[a].push(b)}function n(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!E(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):E(b.parent)?b.parent:"";if(e&&!w[e])return m(e,b.self);for(var f in z)D(z[f])&&(b[f]=z[f](b,z.$delegates[f]));if(w[c]=b,!b[y]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){v.$current.navigable==b&&j(a,c)||v.transitionTo(b,a,{location:!1})}]),x[c])for(var g=0;g<x[c].length;g++)n(x[c][g]);return b}function o(a){return a.indexOf("*")>-1}function p(a){var b=a.split("."),c=v.$current.name.split(".");if("**"===b[0]&&(c=c.slice(c.indexOf(b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(c.indexOf(b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;d<e;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function q(a,b){return E(a)&&!C(b)?z[a]:D(b)&&E(a)?(z[a]&&!z.$delegates[a]&&(z.$delegates[a]=z[a]),z[a]=b,this):this}function r(a,b){return F(a)?b=a:b.name=a,n(b),this}function s(a,e,g,m,n,q,r,s,x){function z(){r.url()!==M&&(r.url(M),r.replace())}function A(a,c,d,f,h){var i=d?c:k(a.params,c),j={$stateParams:i};h.resolve=n.resolve(a.resolve,j,h.resolve,a);var l=[h.resolve.then(function(a){h.globals=a})];return f&&l.push(f),H(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return g.load(d,{view:c,locals:j,params:i,notify:!1})||""}],l.push(n.resolve(e,j,h.resolve,a).then(function(f){if(D(c.controllerProvider)||G(c.controllerProvider)){var g=b.extend({},e,j);f.$$controller=m.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,h[d]=f}))}),e.all(l).then(function(a){return h})}var B=e.reject(new Error("transition superseded")),F=e.reject(new Error("transition prevented")),K=e.reject(new Error("transition aborted")),L=e.reject(new Error("transition failed")),M=r.url(),N=x.baseHref();return u.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:u.self,$current:u,transition:null},v.reload=function(){v.transitionTo(v.current,q,{reload:!0,inherit:!1,notify:!1})},v.go=function(a,b,c){return this.transitionTo(a,b,I({inherit:!0,relative:v.$current},c))},v.transitionTo=function(b,c,f){c=c||{},f=I({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,k=v.$current,n=v.params,o=k.path,p=l(b,f.relative);if(!C(p)){var s={to:b,toParams:c,options:f};if(g=a.$broadcast("$stateNotFound",s,k.self,n),g.defaultPrevented)return z(),K;if(g.retry){if(f.$retry)return z(),L;var w=v.transition=e.when(g.retry);return w.then(function(){return w!==v.transition?B:(s.options.$retry=!0,v.transitionTo(s.to,s.toParams,s.options))},function(){return K}),z(),w}if(b=s.to,c=s.toParams,f=s.options,p=l(b,f.relative),!C(p)){if(f.relative)throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'");throw new Error("No such state '"+b+"'")}}if(p[y])throw new Error("Cannot transition to abstract state '"+b+"'");f.inherit&&(c=h(q,c||{},v.$current,p)),b=p;var x,D,E=b.path,G=u.locals,H=[];for(x=0,D=E[x];D&&D===o[x]&&j(c,n,D.ownParams)&&!f.reload;x++,D=E[x])G=H[x]=D.locals;if(t(b,k,G,f))return!1!==b.self.reloadOnSearch&&z(),v.transition=null,e.when(v.current);if(c=i(b.params,c||{}),f.notify&&(g=a.$broadcast("$stateChangeStart",b.self,c,k.self,n),g.defaultPrevented))return z(),F;for(var N=e.when(G),O=x;O<E.length;O++,D=E[O])G=H[O]=d(G),N=A(D,c,D===b,N,G);var P=v.transition=N.then(function(){var d,e,g;if(v.transition!==P)return B;for(d=o.length-1;d>=x;d--)g=o[d],g.self.onExit&&m.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=x;d<E.length;d++)e=E[d],e.locals=H[d],e.self.onEnter&&m.invoke(e.self.onEnter,e.self,e.locals.globals);if(v.transition!==P)return B;v.$current=b,v.current=b.self,v.params=c,J(v.params,q),v.transition=null;var h=b.navigable;return f.location&&h&&(r.url(h.url.format(h.locals.globals.$stateParams)),"replace"===f.location&&r.replace()),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,k.self,n),M=r.url(),v.current},function(d){return v.transition!==P?B:(v.transition=null,a.$broadcast("$stateChangeError",b.self,c,k.self,n,d),z(),e.reject(d))});return P},v.is=function(a,d){var e=l(a);return C(e)?v.$current===e&&(!C(d)||null===d||b.equals(q,d)):c},v.includes=function(a,d){if(E(a)&&o(a)){if(!p(a))return!1;a=v.$current.name}var e=l(a);if(!C(e))return c;if(!C(v.$current.includes[e.name]))return!1;var f=!0;return b.forEach(d,function(a,b){C(q[b])&&q[b]===a||(f=!1)}),f},v.href=function(a,b,c){c=I({lossy:!0,inherit:!1,absolute:!1,relative:v.$current},c||{});var d=l(a,c.relative);if(!C(d))return null;b=h(q,b||{},v.$current,d);var e=d&&c.lossy?d.navigable:d,g=e&&e.url?e.url.format(i(d.params,b||{})):null;return!f.html5Mode()&&g&&(g="#"+f.hashPrefix()+g),"/"!==N&&(f.html5Mode()?g=N.slice(0,-1)+g:c.absolute&&(g=N.slice(1)+g)),c.absolute&&g&&(g=r.protocol()+"://"+r.host()+(80==r.port()||443==r.port()?"":":"+r.port())+(!f.html5Mode()&&g?"/":"")+g),g},v.get=function(a,b){if(!C(a)){var c=[];return H(w,function(a){c.push(a.self)}),c}var d=l(a,b);return d&&d.self?d.self:null},v}function t(a,b,c,d){if(a===b&&(c===b.locals&&!d.reload||!1===a.self.reloadOnSearch))return!0}var u,v,w={},x={},y="abstract",z={parent:function(a){if(C(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):u},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=I({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url;if(E(b))return"^"==b.charAt(0)?e.compile(b.substring(1)):(a.parent.navigable||u).url.concat(b);if(e.isMatcher(b)||null==b)return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},params:function(a){if(!a.params)return a.url?a.url.parameters():a.parent.params;if(!G(a.params))throw new Error("Invalid params in state '"+a+"'");if(a.url)throw new Error("Both params and url specicified in state '"+a+"'");return a.params},views:function(a){var b={};return H(C(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},ownParams:function(a){if(!a.parent)return a.params;var b={};H(a.params,function(a){b[a]=!0}),H(a.parent.params,function(c){if(!b[c])throw new Error("Missing required parameter '"+c+"' in state '"+a.name+"'");b[c]=!1});var c=[];return H(b,function(a,b){a&&c.push(b)}),c},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?I({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};u=n({name:"",url:"^",views:null,abstract:!0}),u.navigable=null,this.decorator=q,this.state=r,this.$get=s,s.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function r(){function a(a,b){return{load:function(c,d){var e;return d=I({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function s(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function t(a,c,d){function e(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}function f(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(i)return{enter:function(a,b,c){i.enter(a,null,b,c)},leave:function(a,b){i.leave(a,b)}};if(h){var d=h&&h(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var g=e(),h=g("$animator"),i=g("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,e,g){return function(c,e,h){function i(){k&&(k.remove(),k=null),m&&(m.$destroy(),m=null),l&&(q.leave(l,function(){k=null}),k=l,l=null)}function j(f){var h=c.$new(),j=l&&l.data("$uiViewName"),k=j&&a.$current&&a.$current.locals[j];if(f||k!==n){var r=g(h,function(a){q.enter(a,e,function(){(b.isDefined(p)&&!p||c.$eval(p))&&d(a)}),i()});n=a.$current.locals[r.data("$uiViewName")],l=r,m=h,m.$emit("$viewContentLoaded"),m.$eval(o)}}var k,l,m,n,o=h.onload||"",p=h.autoscroll,q=f(h,c);c.$on("$stateChangeSuccess",function(){j(!1)}),c.$on("$viewContentLoading",function(){j(!1)}),j(!0)}}}}function u(a,b,c){return{restrict:"ECA",priority:-400,compile:function(d){var e=d.html();return function(d,f,g){var h=g.uiView||g.name||"",i=f.inheritedData("$uiView");h.indexOf("@")<0&&(h=h+"@"+(i?i.state.name:"")),f.data("$uiViewName",h);var j=c.$current,k=j&&j.locals[h];if(k){f.data("$uiView",{name:h,state:k.$$state}),f.html(k.$template?k.$template:e);var l=a(f.contents());if(k.$$controller){k.$scope=d;var m=b(k.$$controller,k);k.$$controllerAs&&(d[k.$$controllerAs]=m),f.data("$ngControllerController",m),f.children().data("$ngControllerController",m)}l(d)}}}}}function v(a){var b=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!b||4!==b.length)throw new Error("Invalid state ref '"+a+"'");return{state:b[1],paramExpr:b[3]||null}}function w(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function x(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(e,f,g,h){var i=v(g.uiSref),j=null,k=w(f)||a.$current,l="FORM"===f[0].nodeName,m=l?"action":"href",n=!0,o={relative:k},p=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in p&&(o[a]=p[a])});var q=function(b){if(b&&(j=b),n){var c=a.href(i.state,j,o);if(h&&h.$$setStateInfo(i.state,j),!c)return n=!1,!1;f[0][m]=c}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&q(a)},!0),j=e.$eval(i.paramExpr)),q(),l||f.bind("click",function(b){(b.which||b.button)>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target")||(c(function(){a.go(i.state,j,o)}),b.preventDefault())})}}}function y(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(d,e,f){function g(){a.$current.self===i&&h()?e.addClass(l):e.removeClass(l)}function h(){return!k||j(k,b)}var i,k,l;l=c(f.uiSrefActive||"",!1)(d),this.$$setStateInfo=function(b,c){i=a.get(b,w(e)),k=c,g()},d.$on("$stateChangeSuccess",g)}]}}function z(a){return function(b){return a.is(b)}}function A(a){return function(b){return a.includes(b)}}function B(a,b){function e(a){this.locals=a.locals.globals,this.params=this.locals.$stateParams}function f(){this.locals=null,this.params=null}function g(c,g){if(null!=g.redirectTo){var h,j=g.redirectTo;if(E(j))h=j;else{if(!D(j))throw new Error("Invalid 'redirectTo' in when()");h=function(a,b){return j(a,b.path(),b.search())}}b.when(c,h)}else a.state(d(g,{parent:null,name:"route:"+encodeURIComponent(c),url:c,onEnter:e,onExit:f}));return i.push(g),this}function h(a,b,d){function e(a){return""!==a.name?a:c}var f={routes:i,params:d,current:c};return b.$on("$stateChangeStart",function(a,c,d,f,g){b.$broadcast("$routeChangeStart",e(c),e(f))}),b.$on("$stateChangeSuccess",function(a,c,d,g,h){f.current=e(c),b.$broadcast("$routeChangeSuccess",e(c),e(g)),J(d,f.params)}),b.$on("$stateChangeError",function(a,c,d,f,g,h){b.$broadcast("$routeChangeError",e(c),e(f),h)}),f}var i=[];e.$inject=["$$state"],this.when=g,this.$get=h,h.$inject=["$state","$rootScope","$routeParams"]}var C=b.isDefined,D=b.isFunction,E=b.isString,F=b.isObject,G=b.isArray,H=b.forEach,I=b.extend,J=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),l.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",l),m.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",m),n.prototype.concat=function(a){return new n(this.sourcePath+a+this.sourceSearch)},n.prototype.toString=function(){return this.source},n.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;var d,e=this.params,f=e.length,g=this.segments.length-1,h={};if(g!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(d=0;d<g;d++)h[e[d]]=c[d+1];for(;d<f;d++)h[e[d]]=b[e[d]];return h},n.prototype.parameters=function(){return this.params},n.prototype.format=function(a){var b=this.segments,c=this.params;if(!a)return b.join("");var d,e,f,g=b.length-1,h=c.length,i=b[0];for(d=0;d<g;d++)f=a[c[d]],null!=f&&(i+=encodeURIComponent(f)),i+=b[d+1];for(;d<h;d++)null!=(f=a[c[d]])&&(i+=(e?"&":"?")+c[d]+"="+encodeURIComponent(f),e=!0);return i},b.module("ui.router.util").provider("$urlMatcherFactory",o),p.$inject=["$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",p),q.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",q),r.$inject=[],b.module("ui.router.state").provider("$view",r),b.module("ui.router.state").provider("$uiViewScroll",s),t.$inject=["$state","$injector","$uiViewScroll"],u.$inject=["$compile","$controller","$state"],b.module("ui.router.state").directive("uiView",t),b.module("ui.router.state").directive("uiView",u),x.$inject=["$state","$timeout"],y.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",x).directive("uiSrefActive",y),z.$inject=["$state"],A.$inject=["$state"],b.module("ui.router.state").filter("isState",z).filter("includedByState",A),B.$inject=["$stateProvider","$urlRouterProvider"],b.module("ui.router.compat").provider("$route",B).directive("ngView",t)}(window,window.angular),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(a,b){b=b||{},angular.forEach(b,function(b,c){angular.isString(b)&&(b={replace:!0,template:b}),a.directive(c,function(){return b})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){var c=Array.prototype.slice.call(arguments);c=c.splice(1),f(b,{$event:a,$params:c}),b.$$phase||b.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(a,b){var c=a;if(angular.isString(c)&&void 0!==b)if(angular.isArray(b)||angular.isObject(b)||(b=[b]),angular.isArray(b)){var d=b.length,e=function(a,c){return c=parseInt(c,10),c>=0&&c<d?b[c]:a};c=c.replace(/\$([0-9]+)/g,e)}else angular.forEach(b,function(a,b){c=c.split(":"+b).join(a)});return c}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(a,b,c){return b||angular.isNumber(b)?(a=a.toString(),b=b.toString(),c?a.split(b).join('<span class="ui-match">'+b+"</span>"):a.replace(new RegExp(b,"gi"),'<span class="ui-match">$&</span>')):a}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(a,b,c,d){return{restrict:"ECA",terminal:!0,compile:function(e,f){var g=f.uiInclude||f.src,h=f.fragment||"",i=f.onload||"",j=f.autoscroll;return function(e,f){function k(){var k=++m,o=e.$eval(g),p=e.$eval(h);o?a.get(o,{cache:b}).success(function(a){if(k===m){l&&l.$destroy(),l=e.$new();var b;b=p?angular.element("<div/>").html(a).find(p):angular.element("<div/>").html(a).contents(),f.html(b),d(b)(l),!angular.isDefined(j)||j&&!e.$eval(j)||c(),l.$emit("$includeContentLoaded"),e.$eval(i)}}).error(function(){k===m&&n()}):n()}var l,m=0,n=function(){l&&(l.$destroy(),l=null),f.html("")};e.$watch(h,k),e.$watch(g,k)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(a,b){return b.type&&"checkbox"===b.type.toLowerCase()?function(a,b,c){a.$watch(c.uiIndeterminate,function(a){b[0].indeterminate=!!a})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function a(a){return a.replace(/^([a-z])|\s+([a-z])/g,function(a){return a.toUpperCase()})}function b(a,b){return a.replace(/[A-Z]/g,function(a){return b+a})}var c={humanize:function(c){return a(b(c," ").split("_").join(" "))},underscore:function(a){return a.substr(0,1).toLowerCase()+b(a.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(b){return b=b.substr(0,1).toLowerCase()+a(b.split("_").join(" ")).substr(1).split(" ").join("")}};return function(a,b){return!1!==b&&angular.isString(a)?(b=b||"humanize",c[b](a)):a}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(a,b){return{restrict:"A",compile:function(c,d){if(!angular.isFunction(c[d.uiJq]))throw new Error('ui-jq: The "'+d.uiJq+'" function does not exist');var e=a&&a[d.uiJq];return function(a,c,d){function f(){b(function(){c[d.uiJq].apply(c,g)},0,!1)}var g=[];d.uiOptions?(g=a.$eval("["+d.uiOptions+"]"),angular.isObject(e)&&angular.isObject(g[0])&&(g[0]=angular.extend({},e,g[0]))):e&&(g=[e]),d.ngModel&&c.is("select,input,textarea")&&c.bind("change",function(){c.trigger("input")}),d.uiRefresh&&a.$watch(d.uiRefresh,function(){f()}),f()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(a){var b={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},c=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};return function(d,e,f,g){var h,i=[];h=e.$eval(g["ui"+c(d)]),angular.forEach(h,function(b,c){var d,e;e=a(b),angular.forEach(c.split(" "),function(a){d={expression:e,keys:{}},angular.forEach(a.split("-"),function(a){d.keys[a]=!0}),i.push(d)})}),f.bind(d,function(a){var c=!(!a.metaKey||a.ctrlKey),f=!!a.altKey,g=!!a.ctrlKey,h=!!a.shiftKey,j=a.keyCode;"keypress"===d&&!h&&j>=97&&j<=122&&(j-=32),angular.forEach(i,function(d){var i=d.keys[b[j]]||d.keys[j.toString()],k=!!d.keys.meta,l=!!d.keys.alt,m=!!d.keys.ctrl,n=!!d.keys.shift;i&&k===c&&l===f&&m===g&&n===h&&e.$apply(function(){d.expression(e,{$event:a})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(a){return{link:function(b,c,d){a("keydown",b,c,d)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(a){return{link:function(b,c,d){a("keypress",b,c,d)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(a){return{link:function(b,c,d){a("keyup",b,c,d)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(a){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var b=a;return function(a,c,d,e){function f(a){return angular.isDefined(a)?(s(a),N?(k(),l(),!0):j()):j()}function g(a){angular.isDefined(a)&&(D=a,N&&w())}function h(a){return N?(G=o(a||""),I=n(G),e.$setValidity("mask",I),I&&G.length?p(G):void 0):a}function i(a){return N?(G=o(a||""),I=n(G),e.$viewValue=G.length?p(G):"",e.$setValidity("mask",I),""===G&&void 0!==e.$error.required&&e.$setValidity("required",!1),I?G:void 0):a}function j(){return N=!1,m(),angular.isDefined(P)?c.attr("placeholder",P):c.removeAttr("placeholder"),angular.isDefined(Q)?c.attr("maxlength",Q):c.removeAttr("maxlength"),c.val(e.$modelValue),e.$viewValue=e.$modelValue,!1}function k(){G=K=o(e.$modelValue||""),H=J=p(G),I=n(G);var a=I&&G.length?H:"";d.maxlength&&c.attr("maxlength",2*B[B.length-1]),c.attr("placeholder",D),c.val(a),e.$viewValue=a}function l(){O||(c.bind("blur",t),c.bind("mousedown mouseup",u),c.bind("input keyup click focus",w),O=!0)}function m(){O&&(c.unbind("blur",t),c.unbind("mousedown",u),c.unbind("mouseup",u),c.unbind("input",w),c.unbind("keyup",w),c.unbind("click",w),c.unbind("focus",w),O=!1)}function n(a){return!a.length||a.length>=F}function o(a){var b="",c=C.slice();return a=a.toString(),angular.forEach(E,function(b){a=a.replace(b,"")}),angular.forEach(a.split(""),function(a){c.length&&c[0].test(a)&&(b+=a,c.shift())}),b}function p(a){var b="",c=B.slice();return angular.forEach(D.split(""),function(d,e){a.length&&e===c[0]?(b+=a.charAt(0)||"_",a=a.substr(1),c.shift()):b+=d}),b}function q(a){var b=d.placeholder;return void 0!==b&&b[a]?b[a]:"_"}function r(){return D.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function s(a){var b=0;if(B=[],C=[],D="","string"==typeof a){F=0;var c=!1,d=a.split("");angular.forEach(d,function(a,d){R.maskDefinitions[a]?(B.push(b),D+=q(d),C.push(R.maskDefinitions[a]),b++,c||F++):"?"===a?c=!0:(D+=a,b++)})}B.push(B.slice().pop()+1),E=r(),N=B.length>1}function t(){L=0,M=0,I&&0!==G.length||(H="",c.val(""),a.$apply(function(){e.$setViewValue("")}))}function u(a){"mousedown"===a.type?c.bind("mouseout",v):c.unbind("mouseout",v)}function v(){M=A(this),c.unbind("mouseout",v)}function w(b){b=b||{};var d=b.which,f=b.type;if(16!==d&&91!==d){var g,h=c.val(),i=J,j=o(h),k=K,l=!1,m=y(this)||0,n=L||0,q=m-n,r=B[0],s=B[j.length]||B.slice().shift(),t=M||0,u=A(this)>0,v=t>0,w=h.length>i.length||t&&h.length>i.length-t,C=h.length<i.length||t&&h.length===i.length-t,D=d>=37&&d<=40&&b.shiftKey,E=37===d,F=8===d||"keyup"!==f&&C&&-1===q,G=46===d||"keyup"!==f&&C&&0===q&&!v,H=(E||F||"click"===f)&&m>r;if(M=A(this),!D&&(!u||"click"!==f&&"keyup"!==f)){if("input"===f&&C&&!v&&j===k){for(;F&&m>r&&!x(m);)m--;for(;G&&m<s&&-1===B.indexOf(m);)m++;var I=B.indexOf(m);j=j.substring(0,I)+j.substring(I+1),l=!0}for(g=p(j),J=g,K=j,c.val(g),l&&a.$apply(function(){e.$setViewValue(j)}),w&&m<=r&&(m=r+1),H&&m--,m=m>s?s:m<r?r:m;!x(m)&&m>r&&m<s;)m+=H?-1:1;(H&&m<s||w&&!x(n))&&m++,L=m,z(this,m)}}}function x(a){return B.indexOf(a)>-1}function y(a){if(!a)return 0;if(void 0!==a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();return b.moveStart("character",-a.value.length),b.text.length}return 0}function z(a,b){if(!a)return 0;if(0!==a.offsetWidth&&0!==a.offsetHeight)if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}function A(a){return a?void 0!==a.selectionStart?a.selectionEnd-a.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var B,C,D,E,F,G,H,I,J,K,L,M,N=!1,O=!1,P=d.placeholder,Q=d.maxlength,R={};d.uiOptions?(R=a.$eval("["+d.uiOptions+"]"),angular.isObject(R[0])&&(R=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]?angular.extend(b[c],a[c]):b[c]=angular.copy(a[c]));return b}(b,R[0]))):R=b,d.$observe("uiMask",f),d.$observe("placeholder",g),e.$formatters.push(h),e.$parsers.push(i),c.bind("mousedown mouseup",u),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(a){var b=null;return void 0!==a&&(b=a),{require:"ngModel",link:function(a,c,d,e){var f;f=angular.element('<a class="ui-reset" />'),c.wrap('<span class="ui-resetwrap" />').after(f),f.bind("click",function(c){c.preventDefault(),a.$apply(function(){d.uiReset?e.$setViewValue(a.$eval(d.uiReset)):e.$setViewValue(b),e.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(a,b){return{restrict:"AC",scope:!0,compile:function(c,d){var e;if(d.uiRoute)e="uiRoute";else if(d.ngHref)e="ngHref";else{if(!d.href)throw new Error("uiRoute missing a route or href property on "+c[0]);e="href"}return function(c,d,f){function g(b){var d=b.indexOf("#");d>-1&&(b=b.substr(d+1)),(j=function(){i(c,a.path().indexOf(b)>-1)})()}function h(b){var d=b.indexOf("#");d>-1&&(b=b.substr(d+1)),(j=function(){var d=new RegExp("^"+b+"$",["i"]);i(c,d.test(a.path()))})()}var i=b(f.ngModel||f.routeModel||"$uiRoute").assign,j=angular.noop;switch(e){case"uiRoute":f.uiRoute?h(f.uiRoute):f.$observe("uiRoute",h);break;case"ngHref":f.ngHref?g(f.ngHref):f.$observe("ngHref",g);break;case"href":g(f.href)}c.$on("$routeChangeSuccess",function(){j()}),c.$on("$stateChangeSuccess",function(){j()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(a,b){return{registerFor:function(a){var c,d,e,f,g,h,i;return d=angular.element.prototype.css,a.prototype.css=function(a,b){var c,e;if(e=this,(c=e[0])&&3!==c.nodeType&&8!==c.nodeType&&c.style)return d.call(e,a,b)},h=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},i=function(a,b,c){var d,e,f,g,i;return d=a[0],i={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[b],e=i[0],g=i[1],f=i[2],h(d)?angular.isDefined(c)?d.scrollTo(a[f].call(a),c):g in d?d[g]:d.document.documentElement[e]:angular.isDefined(c)?d[e]=c:d[e]},b.getComputedStyle?(f=function(a){return b.getComputedStyle(a,null)},c=function(a,b){return parseFloat(b)}):(f=function(a){return a.currentStyle},c=function(a,b){var c,d,e,f,g,h,i;return c=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,f=new RegExp("^("+c+")(?!px)[a-z%]+$","i"),f.test(b)?(i=a.style,d=i.left,g=a.runtimeStyle,h=g&&g.left,g&&(g.left=i.left),i.left=b,e=i.pixelLeft,i.left=d,h&&(g.left=h),e):parseFloat(b)}),e=function(a,b){var d,e,g,i,j,k,l,m,n,o,p,q,r;return h(a)?(d=document.documentElement[{height:"clientHeight",width:"clientWidth"}[b]],{base:d,padding:0,border:0,margin:0}):(r={width:[a.offsetWidth,"Left","Right"],height:[a.offsetHeight,"Top","Bottom"]}[b],d=r[0],l=r[1],m=r[2],k=f(a),p=c(a,k["padding"+l])||0,q=c(a,k["padding"+m])||0,e=c(a,k["border"+l+"Width"])||0,g=c(a,k["border"+m+"Width"])||0,i=k["margin"+l],j=k["margin"+m],n=c(a,i)||0,o=c(a,j)||0,{base:d,padding:p+q,border:e+g,margin:n+o})},g=function(a,b,c){var d,g,h;return g=e(a,b),g.base>0?{base:g.base-g.padding-g.border,outer:g.base,outerfull:g.base+g.margin}[c]:(d=f(a),h=d[b],(h<0||null===h)&&(h=a.style[b]||0),h=parseFloat(h)||0,{base:h-g.padding-g.border,outer:h,outerfull:h+g.padding+g.border+g.margin}[c])},angular.forEach({before:function(a){var b,c,d,e,f,g,h;if(f=this,c=f[0],e=f.parent(),b=e.contents(),b[0]===c)return e.prepend(a);for(d=g=1,h=b.length-1;1<=h?g<=h:g>=h;d=1<=h?++g:--g)if(b[d]===c)return void angular.element(b[d-1]).after(a);throw new Error("invalid DOM structure "+c.outerHTML)},height:function(a){var b;return b=this,angular.isDefined(a)?(angular.isNumber(a)&&(a+="px"),d.call(b,"height",a)):g(this[0],"height","base")},outerHeight:function(a){return g(this[0],"height",a?"outerfull":"outer")},offset:function(a){var b,c,d,e,f,g;return f=this,arguments.length?void 0===a?f:a:(b={top:0,left:0},e=f[0],(c=e&&e.ownerDocument)?(d=c.documentElement,e.getBoundingClientRect&&(b=e.getBoundingClientRect()),g=c.defaultView||c.parentWindow,{top:b.top+(g.pageYOffset||d.scrollTop)-(d.clientTop||0),left:b.left+(g.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}):void 0)},scrollTop:function(a){return i(this,"top",a)},scrollLeft:function(a){return i(this,"left",a)}},function(b,c){if(!a.prototype[c])return a.prototype[c]=b})}}}]).run(["$log","$window","jqLiteExtras",function(a,b,c){if(!b.jQuery)return c.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("ngScrollViewport",["$log",function(){return{controller:["$scope","$element",function(a,b){return b}]}}]).directive("ngScroll",["$log","$injector","$rootScope","$timeout",function(a,b,c,d){return{require:["?^ngScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(e,f,g){return function(f,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;if(!(H=i.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/)))throw new Error('Expected ngScroll in form of "item_ in _datasource_" but got "'+i.ngScroll+'"');if(F=H[1],v=H[2],D=function(a){return angular.isObject(a)&&a.get&&angular.isFunction(a.get)},u=f[v],!D(u)&&(u=b.get(v),!D(u)))throw new Error(v+" is not a valid datasource");return r=Math.max(3,+i.bufferSize||10),q=function(){return T.height()*Math.max(.1,+i.padding||.1)},O=function(a){return a[0].scrollHeight||a[0].document.documentElement.scrollHeight},k=null,g(R=f.$new(),function(a){var b,c,d,f,g,h;if("dl"===(f=a[0].localName))throw new Error("ng-scroll directive does not support <"+a[0].localName+"> as a repeating tag: "+a[0].outerHTML);return"li"!==f&&"tr"!==f&&(f="div"),h=j[0]||angular.element(window),h.css({"overflow-y":"auto",display:"block"}),d=function(a){var b,c,d;switch(a){case"tr":return d=angular.element("<table><tr><td><div></div></td></tr></table>"),b=d.find("div"),c=d.find("tr"),c.paddingHeight=function(){return b.height.apply(b,arguments)},c;default:return c=angular.element("<"+a+"></"+a+">"),c.paddingHeight=c.height,c}},c=function(a,b,c){return b[{top:"before",bottom:"after"}[c]](a),{paddingHeight:function(){return a.paddingHeight.apply(a,arguments)},insert:function(b){return a[{top:"after",bottom:"before"}[c]](b)}}},g=c(d(f),e,"top"),b=c(d(f),e,"bottom"),R.$destroy(),k={viewport:h,topPadding:g.paddingHeight,bottomPadding:b.paddingHeight,append:b.insert,prepend:g.insert,bottomDataPos:function(){return O(h)-b.paddingHeight()},topDataPos:function(){return g.paddingHeight()}}}),T=k.viewport,B=1,I=1,p=[],J=[],x=!1,n=!1,G=u.loading||function(){},E=!1,L=function(a,b){var c,d;for(c=d=a;a<=b?d<b:d>b;c=a<=b?++d:--d)p[c].scope.$destroy(),p[c].element.remove();return p.splice(a,b-a)},K=function(){return B=1,I=1,L(0,p.length),k.topPadding(0),k.bottomPadding(0),J=[],x=!1,n=!1,l(!1)},o=function(){return T.scrollTop()+T.height()},S=function(){return T.scrollTop()},P=function(){return!x&&k.bottomDataPos()<o()+q()},s=function(){var b,c,d,e,f,g;for(b=0,e=0,c=f=g=p.length-1;(g<=0?f<=0:f>=0)&&(d=p[c].element.outerHeight(!0),k.bottomDataPos()-b-d>o()+q());c=g<=0?++f:--f)b+=d,e++,x=!1;if(e>0)return k.bottomPadding(k.bottomPadding()+b),L(p.length-e,p.length),I-=e,a.log("clipped off bottom "+e+" bottom padding "+k.bottomPadding())},Q=function(){return!n&&k.topDataPos()>S()-q()},t=function(){var b,c,d,e,f,g;for(e=0,d=0,f=0,g=p.length;f<g&&(b=p[f],c=b.element.outerHeight(!0),k.topDataPos()+e+c<S()-q());f++)e+=c,d++,n=!1;if(d>0)return k.topPadding(k.topPadding()+e),L(0,d),B+=d,a.log("clipped off top "+d+" top padding "+k.topPadding())},w=function(a,b){if(E||(E=!0,G(!0)),1===J.push(a))return z(b)},C=function(a,b){var c,d,e;return c=f.$new(),c[F]=b,d=a>B,c.$index=a,d&&c.$index--,e={scope:c},g(c,function(b){return e.element=b,d?a===I?(k.append(b),p.push(e)):(p[a-B].element.after(b),p.splice(a-B+1,0,e)):(k.prepend(b),p.unshift(e))}),{appended:d,wrapper:e}},m=function(a,b){var c;return a?k.bottomPadding(Math.max(0,k.bottomPadding()-b.element.outerHeight(!0))):(c=k.topPadding()-b.element.outerHeight(!0),c>=0?k.topPadding(c):T.scrollTop(T.scrollTop()+b.element.outerHeight(!0)))},l=function(b,c,e){var f;return f=function(){if(a.log("top {actual="+k.topDataPos()+" visible from="+S()+" bottom {visible through="+o()+" actual="+k.bottomDataPos()+"}"),P()?w(!0,b):Q()&&w(!1,b),e)return e()},c?d(function(){var a,b,d;for(b=0,d=c.length;b<d;b++)a=c[b],m(a.appended,a.wrapper);return f()}):f()},A=function(a,b){return l(a,b,function(){return J.shift(),0===J.length?(E=!1,G(!1)):z(a)})},z=function(b){var c;return c=J[0],c?p.length&&!P()?A(b):u.get(I,r,function(c){var d,e,f,g;if(e=[],0===c.length)x=!0,k.bottomPadding(0),a.log("appended: requested "+r+" records starting from "+I+" recieved: eof");else{for(t(),f=0,g=c.length;f<g;f++)d=c[f],e.push(C(++I,d));a.log("appended: requested "+r+" received "+c.length+" buffer size "+p.length+" first "+B+" next "+I)}return A(b,e)}):p.length&&!Q()?A(b):u.get(B-r,r,function(c){var d,e,f,g;if(e=[],0===c.length)n=!0,k.topPadding(0),a.log("prepended: requested "+r+" records starting from "+(B-r)+" recieved: bof");else{for(s(),d=f=g=c.length-1;g<=0?f<=0:f>=0;d=g<=0?++f:--f)e.unshift(C(--B,c[d]));a.log("prepended: requested "+r+" received "+c.length+" buffer size "+p.length+" first "+B+" next "+I)}return A(b,e)})},M=function(){if(!c.$$phase&&!E)return l(!1),f.$apply()},T.bind("resize",M),N=function(){if(!c.$$phase&&!E)return l(!0),f.$apply()},T.bind("scroll",N),f.$watch(u.revision,function(){return K()}),y=u.scope?u.scope.$new():f.$new(),f.$on("$destroy",function(){return y.$destroy(),T.unbind("resize",M),T.unbind("scroll",N)}),y.$on("update.items",function(a,b,c){var d,e,f,g,h;if(angular.isFunction(b))for(e=function(a){return b(a.scope)},f=0,g=p.length;f<g;f++)d=p[f],e(d);else 0<=(h=b-B-1)&&h<p.length&&(p[b-B-1].scope[F]=c);return null}),y.$on("delete.items",function(a,b){var c,d,e,f,g,h,i,j,k,m,n,o;if(angular.isFunction(b)){for(e=[],h=0,k=p.length;h<k;h++)d=p[h],e.unshift(d);for(g=function(a){if(b(a.scope))return L(e.length-1-c,e.length-c),I--},c=i=0,m=e.length;i<m;c=++i)f=e[c],g(f)}else 0<=(o=b-B-1)&&o<p.length&&(L(b-B-1,b-B),I--);for(c=j=0,n=p.length;j<n;c=++j)d=p[c],d.scope.$index=B+c;return l(!1)}),y.$on("insert.item",function(a,b,c){var d,e,f,g,h,i,j,k,m,n,o,q;if(e=[],angular.isFunction(b)){for(f=[],i=0,m=p.length;i<m;i++)c=p[i],f.unshift(c);for(h=function(a){var f,g,h,i,j;if(g=b(a.scope)){if(C=function(a,b){return C(a,b),I++},angular.isArray(g)){for(j=[],f=h=0,i=g.length;h<i;f=++h)c=g[f],j.push(e.push(C(d+f,c)));return j}return e.push(C(d,g))}},d=j=0,n=f.length;j<n;d=++j)g=f[d],h(g)}else 0<=(q=b-B-1)&&q<p.length&&(e.push(C(b,c)),I++);for(d=k=0,o=p.length;k<o;d=++k)c=p[d],c.scope.$index=B+d;return l(!1,e)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(a){return{require:"^?uiScrollfixTarget",link:function(b,c,d,e){function f(){var b;if(angular.isDefined(a.pageYOffset))b=a.pageYOffset;else{b=(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop}!c.hasClass("ui-scrollfix")&&b>d.uiScrollfix?c.addClass("ui-scrollfix"):c.hasClass("ui-scrollfix")&&b<d.uiScrollfix&&c.removeClass("ui-scrollfix")}var g=c[0].offsetTop,h=e&&e.$element||angular.element(a);d.uiScrollfix?"string"==typeof d.uiScrollfix&&("-"===d.uiScrollfix.charAt(0)?d.uiScrollfix=g-parseFloat(d.uiScrollfix.substr(1)):"+"===d.uiScrollfix.charAt(0)&&(d.uiScrollfix=g+parseFloat(d.uiScrollfix.substr(1)))):d.uiScrollfix=g,h.on("scroll",f),b.$on("$destroy",function(){h.off("scroll",f)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(a){this.$element=a}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(a,b,c){a.$watch(c.uiShow,function(a){a?b.addClass("ui-show"):b.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(a,b,c){a.$watch(c.uiHide,function(a){a?b.addClass("ui-hide"):b.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(a,b,c){a.$watch(c.uiToggle,function(a){a?b.removeClass("ui-hide").addClass("ui-show"):b.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(a){return function(b,c){if(!1===c)return b;if((c||angular.isUndefined(c))&&angular.isArray(b)){var d=[],e=angular.isString(c)?a(c):function(a){return a},f=function(a){return angular.isObject(a)?e(a):a};angular.forEach(b,function(a){for(var b=!1,c=0;c<d.length;c++)if(angular.equals(f(d[c]),f(a))){b=!0;break}b||d.push(a)}),b=d}return b}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){return angular.isString(b)?void a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})}):angular.isArray(b)?void angular.forEach(b,function(b){a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})})}):void(angular.isObject(b)&&angular.forEach(b,function(b,c){angular.isString(b)&&a.$watch(b,function(){g[c](d.$modelValue)}),angular.isArray(b)&&angular.forEach(b,function(b){a.$watch(b,function(){g[c](d.$modelValue)})})}))}var f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){f=function(e){var f=a.$eval(b,{$value:e});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),e)},g[c]=f,d.$formatters.push(f),d.$parsers.push(f)}),c.uiValidateWatch&&e(a.$eval(c.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),function(){angular.module("restangular",[]).provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,a.isSafe(g.method)?e[f]=function(){return b(_.extend(g,{url:c}))}:e[f]=function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.contains(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=!!_.isUndefined(b.absoluteUrl)||b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=!!_.isUndefined(b.encodeIds)||b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=!_.isUndefined(b.jsonp)&&b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.one]||!!a[b.restangularFields.all]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c,d){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=!_.isUndefined(b.useCannonicalId)&&b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId];return b.isValidId(c)?c:b.getIdFromElem(a)},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a,b,c,d,e,f){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.errorInterceptor=b.errorInterceptor||function(){},a.setErrorInterceptor=function(a){return b.errorInterceptor=a,this},b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.contains(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a==f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=!_.isUndefined(b.transformLocalElements)&&b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=!_.isUndefined(b.fullResponse)&&b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&-1===m.indexOf(this.config.suffix,m.length-this.config.suffix.length)&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a.replace(/\/$/,"")+"/"+e},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g;var i=[];return e(h,function(a,b){null!=a&&void 0!=a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(-1===g.indexOf("?")?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l),b.isValidId(m)&&b.setUrlToElem(o,m),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){if(_.isNumber(c)||_.isNumber(a)){var f="You're creating a Restangular entity with the number ";throw f+="instead of the route or the parent. You can't call .one(12)",new Error(f)}var g={};return b.setIdToElem(g,d),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c,d){var e=[];return e[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,e,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1);b[a].apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){if(_.extend(e,d),b.fullResponse)return a.resolve(_.extend(c,{data:d}));a.resolve(d)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(p(a))}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";return b.jsonp&&(p="jsonp"),P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)},function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):!1!==b.errorInterceptor(a,h)&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!=a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,f=c.config.params,g=x(d,a,m,n,c,j);g?"post"!==a||i[b.restangularFields.restangularCollection]?(data=s(i[b.restangularFields.parentResource],g,i[b.restangularFields.route],!0,null,f),data[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,data,u)):o(j,c,s(i,g,e,!0,null,f),u):o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):!1!==b.errorInterceptor(c,j)&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};b.isSafe(c)?this[a]=i:this[a]=function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,b){var c={},d=(b||O).all(a);return c.one=_.bind(g,b||O,b,a),c.post=_.bind(d.post,d),c.getList=_.bind(d.getList,d),c}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}(),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports["angular-file-upload"]=b():a["angular-file-upload"]=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=d(c(2)),f=d(c(3)),g=d(c(4)),h=d(c(5)),i=d(c(6)),j=d(c(7)),k=d(c(1)),l=d(c(8)),m=d(c(9)),n=d(c(10)),o=d(c(11)),p=d(c(12));angular.module(e.name,[]).value("fileUploaderOptions",f).factory("FileUploader",g).factory("FileLikeObject",h).factory("FileItem",i).factory("FileDirective",j).factory("FileSelect",k).factory("FileDrop",l).factory("FileOver",m).directive("nvFileSelect",n).directive("nvFileDrop",o).directive("nvFileOver",p).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver",function(a,b,c,d,e,f,g){a.FileLikeObject=b,a.FileItem=c,a.FileDirective=d,a.FileSelect=e,a.FileDrop=f,a.FileOver=g}])},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e&&e.writable)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},g=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},h=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},i=(d(c(2)),angular.extend);a.exports=function(a){return function(a){function b(a){h(this,b);var c=i(a,{events:{$destroy:"destroy",change:"onChange"},prop:"select"});f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,c),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}return g(b,a),e(b,{getOptions:{value:function(){}},getFilters:{value:function(){}},isEmptyAfterSelection:{value:function(){return!!this.element.attr("multiple")}},onChange:{value:function(){var a=this.uploader.isHTML5?this.element[0].files:this.element[0],b=this.getOptions(),c=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(a,b,c),this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(this.element=this.element.clone(!0)))}}}),b}(a)},a.exports.$inject=["FileDirective"]},function(a,b){a.exports={name:"angularFileUpload"}},function(a,b){"use strict";a.exports={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},g=(d(c(2)),angular.copy),h=angular.extend,i=angular.forEach,j=angular.isObject,k=angular.isNumber,l=angular.isDefined,m=angular.isArray,n=angular.element;a.exports=function(a,b,c,d,o,p){var q=d.File,r=d.FormData,s=function(){function d(b){f(this,d);var c=g(a);h(this,c,b,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return e(d,{addToQueue:{value:function(a,b,c){var d=this,e=this.isArrayLikeObject(a)?a:[a],f=this._getFilters(c),g=this.queue.length,h=[];i(e,function(a){var c=new o(a);if(d._isValidFile(c,f,b)){var e=new p(d,a,b);h.push(e),d.queue.push(e),d._onAfterAddingFile(e)}else{var g=f[d._failFilterIndex];d._onWhenAddingFileFailed(c,g,b)}}),this.queue.length!==g&&(this._onAfterAddingAll(h),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()}},removeFromQueue:{value:function(a){var b=this.getIndexOfItem(a),c=this.queue[b];c.isUploading&&c.cancel(),this.queue.splice(b,1),c._destroy(),this.progress=this._getTotalProgress()}},clearQueue:{value:function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}},uploadItem:{value:function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhrTransport":"_iframeTransport";c._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[d](c))}},cancelItem:{value:function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhr":"_form";c&&c.isUploading&&c[d].abort()}},uploadAll:{value:function(){var a=this.getNotUploadedItems().filter(function(a){return!a.isUploading});a.length&&(i(a,function(a){return a._prepareToUploading()}),a[0].upload())}},cancelAll:{value:function(){var a=this.getNotUploadedItems();i(a,function(a){return a.cancel()})}},isFile:{value:function(a){return this.constructor.isFile(a)}},isFileLikeObject:{value:function(a){return this.constructor.isFileLikeObject(a)}},isArrayLikeObject:{value:function(a){return this.constructor.isArrayLikeObject(a)}},getIndexOfItem:{value:function(a){return k(a)?a:this.queue.indexOf(a)}},getNotUploadedItems:{value:function(){return this.queue.filter(function(a){return!a.isUploaded})}},getReadyItems:{value:function(){return this.queue.filter(function(a){return a.isReady&&!a.isUploading}).sort(function(a,b){return a.index-b.index})}},destroy:{value:function(){var a=this;i(this._directives,function(b){i(a._directives[b],function(a){a.destroy()})})}},onAfterAddingAll:{value:function(a){}},onAfterAddingFile:{value:function(a){}},onWhenAddingFileFailed:{value:function(a,b,c){}},onBeforeUploadItem:{value:function(a){}},onProgressItem:{value:function(a,b){}},onProgressAll:{value:function(a){}},onSuccessItem:{value:function(a,b,c,d){}},onErrorItem:{value:function(a,b,c,d){}},onCancelItem:{value:function(a,b,c,d){}},onCompleteItem:{value:function(a,b,c,d){}},onCompleteAll:{value:function(){}},_getTotalProgress:{value:function(a){if(this.removeAfterUpload)return a||0;var b=this.getNotUploadedItems().length,c=b?this.queue.length-b:this.queue.length,d=100/this.queue.length,e=(a||0)*d/100;return Math.round(c*d+e)}},_getFilters:{value:function(a){if(!a)return this.filters;if(m(a))return a;var b=a.match(/[^\s,]+/g);return this.filters.filter(function(a){return-1!==b.indexOf(a.name)})}},_render:{value:function(){b.$$phase||b.$apply()}},_folderFilter:{value:function(a){return!(!a.size&&!a.type)}},_queueLimitFilter:{value:function(){return this.queue.length<this.queueLimit}},_isValidFile:{value:function(a,b,c){var d=this;return this._failFilterIndex=-1,!b.length||b.every(function(b){return d._failFilterIndex++,b.fn.call(d,a,c)})}},_isSuccessCode:{value:function(a){return a>=200&&300>a||304===a}},_transformResponse:{value:function(a,b){var d=this._headersGetter(b);return i(c.defaults.transformResponse,function(b){a=b(a,d)}),a}},_parseHeaders:{value:function(a){var b,c,d,e={};return a?(i(a.split("\n"),function(a){d=a.indexOf(":"),b=a.slice(0,d).trim().toLowerCase(),c=a.slice(d+1).trim(),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}},_headersGetter:{value:function(a){return function(b){return b?a[b.toLowerCase()]||null:a}}},_xhrTransport:{value:function(a){var b=this,c=a._xhr=new XMLHttpRequest,d=new r;if(this._onBeforeUploadItem(a),i(a.formData,function(a){i(a,function(a,b){d.append(b,a)})}),"number"!=typeof a._file.size)throw new TypeError("The file specified is no longer valid");d.append(a.alias,a._file,a.file.name),c.upload.onprogress=function(c){var d=Math.round(c.lengthComputable?100*c.loaded/c.total:0);b._onProgressItem(a,d)},c.onload=function(){var d=b._parseHeaders(c.getAllResponseHeaders()),e=b._transformResponse(c.response,d),f=b._isSuccessCode(c.status)?"Success":"Error";b["_on"+f+"Item"](a,e,c.status,d),b._onCompleteItem(a,e,c.status,d)},c.onerror=function(){var d=b._parseHeaders(c.getAllResponseHeaders()),e=b._transformResponse(c.response,d);b._onErrorItem(a,e,c.status,d),b._onCompleteItem(a,e,c.status,d)},c.onabort=function(){var d=b._parseHeaders(c.getAllResponseHeaders()),e=b._transformResponse(c.response,d);b._onCancelItem(a,e,c.status,d),b._onCompleteItem(a,e,c.status,d)},c.open(a.method,a.url,!0),c.withCredentials=a.withCredentials,i(a.headers,function(a,b){c.setRequestHeader(b,a)}),c.send(d),this._render()}},_iframeTransport:{value:function(a){var b=this,c=n('<form style="display: none;" />'),d=n('<iframe name="iframeTransport'+Date.now()+'">'),e=a._input;a._form&&a._form.replaceWith(e),a._form=c,this._onBeforeUploadItem(a),e.prop("name",a.alias),i(a.formData,function(a){i(a,function(a,b){var d=n('<input type="hidden" name="'+b+'" />');d.val(a),c.append(d)})}),c.prop({action:a.url,method:"POST",target:d.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),d.bind("load",function(){var c="",e=200;try{c=d[0].contentDocument.body.innerHTML}catch(a){e=500}var f={response:c,status:e,dummy:!0},g={},h=b._transformResponse(f.response,g);b._onSuccessItem(a,h,f.status,g),b._onCompleteItem(a,h,f.status,g)}),c.abort=function(){var f,g={status:0,dummy:!0},h={};d.unbind("load").prop("src","javascript:false;"),c.replaceWith(e),b._onCancelItem(a,f,g.status,h),b._onCompleteItem(a,f,g.status,h)},e.after(c),c.append(e).append(d),c[0].submit(),this._render()}},_onWhenAddingFileFailed:{value:function(a,b,c){this.onWhenAddingFileFailed(a,b,c)}},_onAfterAddingFile:{value:function(a){this.onAfterAddingFile(a)}},_onAfterAddingAll:{value:function(a){this.onAfterAddingAll(a)}},_onBeforeUploadItem:{value:function(a){a._onBeforeUpload(),this.onBeforeUploadItem(a)}},_onProgressItem:{value:function(a,b){var c=this._getTotalProgress(b);this.progress=c,a._onProgress(b),this.onProgressItem(a,b),this.onProgressAll(c),this._render()}},_onSuccessItem:{value:function(a,b,c,d){a._onSuccess(b,c,d),this.onSuccessItem(a,b,c,d)}},_onErrorItem:{value:function(a,b,c,d){a._onError(b,c,d),this.onErrorItem(a,b,c,d)}},_onCancelItem:{value:function(a,b,c,d){a._onCancel(b,c,d),this.onCancelItem(a,b,c,d)}},_onCompleteItem:{value:function(a,b,c,d){a._onComplete(b,c,d),this.onCompleteItem(a,b,c,d);var e=this.getReadyItems()[0];return this.isUploading=!1,l(e)?void e.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())}}},{isFile:{value:function(a){return q&&a instanceof q}},isFileLikeObject:{value:function(a){return a instanceof o}},isArrayLikeObject:{value:function(a){return j(a)&&"length"in a}},inherit:{value:function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super_=b}}}),d}();return s.prototype.isHTML5=!(!q||!r),s.isHTML5=s.prototype.isHTML5,s},a.exports.$inject=["fileUploaderOptions","$rootScope","$http","$window","FileLikeObject","FileItem"]},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},g=(d(c(2)),angular.copy),h=angular.isElement,i=angular.isString;a.exports=function(){return function(){function a(b){f(this,a);var c=h(b),d=c?b.value:b;this["_createFrom"+(i(d)?"FakePath":"Object")](d)}return e(a,{_createFromFakePath:{value:function(a){this.lastModifiedDate=null,this.size=null,this.type="like/"+a.slice(a.lastIndexOf(".")+1).toLowerCase(),this.name=a.slice(a.lastIndexOf("/")+a.lastIndexOf("\\")+2)}},_createFromObject:{value:function(a){this.lastModifiedDate=g(a.lastModifiedDate),this.size=a.size,this.type=a.type,this.name=a.name}}}),a}()},a.exports.$inject=[]},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},g=(d(c(2)),angular.copy),h=angular.extend,i=angular.element,j=angular.isElement;a.exports=function(a,b){return function(){function c(a,d,e){f(this,c);var k=j(d),l=k?i(d):null,m=k?null:d;h(this,{url:a.url,alias:a.alias,headers:g(a.headers),formData:g(a.formData),removeAfterUpload:a.removeAfterUpload,withCredentials:a.withCredentials,method:a.method},e,{uploader:a,file:new b(d),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:m,_input:l}),l&&this._replaceNode(l)}return e(c,{upload:{value:function(){try{this.uploader.uploadItem(this)}catch(a){this.uploader._onCompleteItem(this,"",0,[]),this.uploader._onErrorItem(this,"",0,[])}}},cancel:{value:function(){this.uploader.cancelItem(this)}},remove:{value:function(){this.uploader.removeFromQueue(this)}},onBeforeUpload:{value:function(){}},onProgress:{value:function(a){}},onSuccess:{value:function(a,b,c){}},onError:{value:function(a,b,c){}},onCancel:{value:function(a,b,c){}},onComplete:{value:function(a,b,c){}},_onBeforeUpload:{value:function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}},_onProgress:{value:function(a){this.progress=a,this.onProgress(a)}},_onSuccess:{value:function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(a,b,c)}},_onError:{value:function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(a,b,c)}},_onCancel:{value:function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(a,b,c)}},_onComplete:{value:function(a,b,c){this.onComplete(a,b,c),this.removeAfterUpload&&this.remove()}},_destroy:{value:function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input}},_prepareToUploading:{value:function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}},_replaceNode:{value:function(b){var c=a(b.clone())(b.scope());c.prop("value",null),b.css("display","none"),b.after(c)}}}),c}()},a.exports.$inject=["$compile","FileLikeObject"]},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},g=(d(c(2)),angular.extend);a.exports=function(){var a=function(){function a(b){f(this,a),g(this,b),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return e(a,{bind:{value:function(){for(var a in this.events){var b=this.events[a];this.element.bind(a,this[b])}}},unbind:{value:function(){for(var a in this.events)this.element.unbind(a,this.events[a])}},destroy:{value:function(){var a=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(a,1),this.unbind()}},_saveLinks:{value:function(){for(var a in this.events){var b=this.events[a];this[b]=this[b].bind(this)}}}}),a}();return a.prototype.events={},a},a.exports.$inject=[]},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e&&e.writable)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},g=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},h=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},i=(d(c(2)),angular.extend),j=angular.forEach;a.exports=function(a){return function(a){function b(a){h(this,b);var c=i(a,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,c)}return g(b,a),e(b,{getOptions:{value:function(){}},getFilters:{value:function(){}},onDrop:{value:function(a){var b=this._getTransfer(a);if(b){var c=this.getOptions(),d=this.getFilters();this._preventAndStop(a),j(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(b.files,c,d)}}},onDragOver:{value:function(a){var b=this._getTransfer(a);this._haveFiles(b.types)&&(b.dropEffect="copy",this._preventAndStop(a),j(this.uploader._directives.over,this._addOverClass,this))}},onDragLeave:{value:function(a){a.currentTarget!==this.element[0]&&(this._preventAndStop(a),j(this.uploader._directives.over,this._removeOverClass,this))}},_getTransfer:{value:function(a){return a.dataTransfer?a.dataTransfer:a.originalEvent.dataTransfer}},_preventAndStop:{value:function(a){a.preventDefault(),a.stopPropagation()}},_haveFiles:{value:function(a){return!!a&&(a.indexOf?-1!==a.indexOf("Files"):!!a.contains&&a.contains("Files"))}},_addOverClass:{value:function(a){a.addOverClass()}},_removeOverClass:{value:function(a){a.removeOverClass()}}}),b}(a)},a.exports.$inject=["FileDirective"]},function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a.default:a},e=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e&&e.writable)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},g=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},h=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},i=(d(c(2)),angular.extend);a.exports=function(a){return function(a){function b(a){h(this,b);var c=i(a,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,c)}return g(b,a),e(b,{addOverClass:{value:function(){this.element.addClass(this.getOverClass())}},removeOverClass:{value:function(){this.element.removeClass(this.getOverClass())}},getOverClass:{value:function(){return this.overClass}}}),b}(a)},a.exports.$inject=["FileDirective"]},function(a,b,c){"use strict";(function(a){a&&a.__esModule&&a.default})(c(2)),a.exports=function(a,b,c){return{link:function(d,e,f){var g=d.$eval(f.uploader);if(!(g instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');var h=new c({uploader:g,element:e});h.getOptions=a(f.options).bind(h,d),h.getFilters=function(){return f.filters}}}},a.exports.$inject=["$parse","FileUploader","FileSelect"]},function(a,b,c){"use strict";(function(a){a&&a.__esModule&&a.default})(c(2)),a.exports=function(a,b,c){return{link:function(d,e,f){var g=d.$eval(f.uploader);if(!(g instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');if(g.isHTML5){var h=new c({uploader:g,element:e});h.getOptions=a(f.options).bind(h,d),h.getFilters=function(){return f.filters}}}}},a.exports.$inject=["$parse","FileUploader","FileDrop"]},function(a,b,c){"use strict";(function(a){a&&a.__esModule&&a.default})(c(2)),a.exports=function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');var g=new b({uploader:f,element:d});g.getOverClass=function(){return e.overClass||g.overClass}}}},a.exports.$inject=["FileUploader","FileOver"]}])}),function(a,b,c){"use strict";function d(a,b,d,e,f,g){function h(){j&&j()}var i=e(a);if(i!==c)return g(b,e==f?i:f(a));var j=a.$watch(d,function(d){if(d!=c)return h(),g(b,e==f?d:f(a))});a.$on("$destroy",h)}function e(a){f.directive(a.name,["$parse",function(b){return{priority:a.priority||0,link:function(c,e,f){var g=f.onceWaitFor||f[a.name],h=b(g);d(c,e,g,h,f.onceWaitFor?b(f[a.name]):h,a.binding)}}}])}var f=b.module("once",[]),g=[{name:"onceText",binding:function(a,b){a.text(null!==b?b:"")}},{name:"onceHtml",binding:function(a,b){a.html(b)}},{name:"onceSrc",priority:99,binding:function(a,b){a.attr("src",b)}},{name:"onceHref",priority:99,binding:function(a,b){a.attr("href",b)}},{name:"onceTitle",binding:function(a,b){a.attr("title",b)}},{name:"onceAlt",binding:function(a,b){a.attr("alt",b)}},{name:"onceId",binding:function(a,b){a.attr("id",b)}},{name:"onceIf",priority:600,binding:function(a,b){b||a.remove()}},{name:"onceClass",binding:function(a,c){if(b.isObject(c)&&!b.isArray(c)){var d=[];b.forEach(c,function(a,b){a&&d.push(b)}),c=d}c&&a.addClass(b.isArray(c)?c.join(" "):c)}},{name:"onceStyle",binding:function(a,b){a.css(b)}},{name:"onceShow",binding:function(a,b){b?a.css("display",""):a.css("display","none")}},{name:"onceHide",binding:function(a,b){b?a.css("display","none"):a.css("display","")}}];b.forEach(g,e),f.directive("once",["$parse",function(a){return function(c,e,f){b.forEach(f,function(b,g){if(/^onceAttr[A-Z]/.test(g)){var h=f.onceWaitFor||f[g],i=a(h),j=f.onceWaitFor?a(f[g]):i;d(c,e,h,i,j,function(a,b){var c=g.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}),d=c.substr(10);a.attr(d,b)})}})}}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){b(c.offsetWidth)})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==m)return c}}function g(a){return a&&b.element(a)}function h(a){return b.element(f(a))}function i(a,b){return f(a)==f(b)}var j=b.noop,k=b.forEach,l=e.$$selectors,m=1,n="$$ngAnimateState",o="ng-animate",p={running:!0};d.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(a,c,d,m,q,r,s){function t(a){var b=a.data(n)||{};b.running=!0,a.data(n,b)}function u(a){if(a){var b=[],e={},f=a.substr(1).split(".");(d.transitions||d.animations)&&b.push(c.get(l[""]));for(var g=0;g<f.length;g++){var h=f[g],i=l[h];i&&!e[h]&&(b.push(c.get(i)),e[h]=!0)}return b}}function v(a,c,d){function e(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];if(c||d)return"leave"==b&&(d=c,c=null),v.push({event:b,fn:c}),r.push({event:b,fn:d}),!0}function f(b,c,e){function f(a){if(c){if((c[a]||j)(),++l<g.length)return;c=null}e()}var g=[];k(b,function(a){a.fn&&g.push(a)});var l=0;k(g,function(b,e){var g=function(){f(e)};switch(b.event){case"setClass":c.push(b.fn(a,h,i,g));break;case"addClass":c.push(b.fn(a,h||d,g));break;case"removeClass":c.push(b.fn(a,i||d,g));break;default:c.push(b.fn(a,g))}}),c&&0===c.length&&e()}var g=a[0];if(g){var h,i,l="setClass"==c,m=l||"addClass"==c||"removeClass"==c;b.isArray(d)&&(h=d[0],i=d[1],d=h+" "+i);var n=a.attr("class"),o=n+" "+d;if(C(o)){var p=j,q=[],r=[],s=j,t=[],v=[],w=(" "+o).replace(/\s+/g,".");return k(u(w),function(a){!e(a,c)&&l&&(e(a,"addClass"),e(a,"removeClass"))}),{node:g,event:c,className:d,isClassBased:m,isSetClassOperation:l,before:function(a){p=a,f(r,q,function(){p=j,a()})},after:function(a){s=a,f(v,t,function(){s=j,a()})},cancel:function(){q&&(k(q,function(a){(a||j)(!0)}),p(!0)),t&&(k(t,function(a){(a||j)(!0)}),s(!0))}}}}}function w(a,c,d,e,f,g,h){function i(b){var e="$animate:"+b;t&&t[e]&&t[e].length>0&&q(function(){d.triggerHandler(e,{event:a,className:c})})}function j(){i("before")}function l(){i("after")}function m(){i("close"),h&&q(function(){h()})}function p(){p.hasBeenRun||(p.hasBeenRun=!0,g())}function r(){if(!r.hasBeenRun){r.hasBeenRun=!0;var b=d.data(n);b&&(s&&s.isClassBased?y(d,c):(q(function(){var b=d.data(n)||{};H==b.index&&y(d,c,a)}),d.data(n,b))),m()}}var s=v(d,a,c);if(!s)return p(),j(),l(),void r();c=s.className;var t=b.element._data(s.node);t=t&&t.events,e||(e=f?f.parent():d.parent());var u,w=d.data(n)||{},x=w.active||{},B=w.totalActive||0,C=w.last;if(s.isClassBased&&(u=w.running||w.disabled||C&&!C.isClassBased),u||z(d,e))return p(),j(),l(),void r();var D=!1;if(B>0){var E=[];if(s.isClassBased){if("setClass"==C.event)E.push(C),y(d,c);else if(x[c]){var F=x[c];F.event==a?D=!0:(E.push(F),y(d,c))}}else if("leave"==a&&x["ng-leave"])D=!0;else{for(var G in x)E.push(x[G]),y(d,G);x={},B=0}E.length>0&&k(E,function(a){a.cancel()})}if(!s.isClassBased||s.isSetClassOperation||D||(D="addClass"==a==d.hasClass(c)),D)return p(),j(),l(),void m();"leave"==a&&d.one("$destroy",function(a){var c=b.element(this),d=c.data(n);if(d){var e=d.active["ng-leave"];e&&(e.cancel(),y(c,"ng-leave"))}}),d.addClass(o);var H=A++;B++,x[c]=s,d.data(n,{last:s,active:x,index:H,totalActive:B}),j(),s.before(function(b){var e=d.data(n);b=b||!e||!e.active[c]||s.isClassBased&&e.active[c].event!=a,p(),!0===b?r():(l(),s.after(r))})}function x(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(o):c.querySelectorAll("."+o);k(d,function(a){a=b.element(a);var c=a.data(n);c&&c.active&&k(c.active,function(a){a.cancel()})})}}function y(a,b){if(i(a,m))p.disabled||(p.running=!1,p.structural=!1);else if(b){var c=a.data(n)||{},d=!0===b;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),!d&&c.totalActive||(a.removeClass(o),a.removeData(n))}}function z(a,c){if(p.disabled)return!0;if(i(a,m))return p.running;var d,e,f;do{if(0===c.length)break;var g=i(c,m),h=g?p:c.data(n)||{};if(h.disabled)return!0;if(g&&(f=!0),!1!==d){var j=c.data("$$ngAnimateChildren");b.isDefined(j)&&(d=j)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}var A=0;m.data(n,p),r.$$postDigest(function(){r.$$postDigest(function(){p.running=!1})});var B=e.classNameFilter(),C=B?function(a){return B.test(a)}:function(){return!0};return{enter:function(c,d,e,f){c=b.element(c),d=g(d),e=g(e),t(c),a.enter(c,d,e),r.$$postDigest(function(){c=h(c),w("enter","ng-enter",c,d,e,j,f)})},leave:function(c,d){c=b.element(c),x(c),t(c),r.$$postDigest(function(){w("leave","ng-leave",h(c),null,null,function(){a.leave(c)},d)})},move:function(c,d,e,f){c=b.element(c),d=g(d),e=g(e),x(c),t(c),a.move(c,d,e),r.$$postDigest(function(){c=h(c),w("move","ng-move",c,d,e,j,f)})},addClass:function(c,d,e){c=b.element(c),c=h(c),w("addClass",d,c,null,null,function(){a.addClass(c,d)},e)},removeClass:function(c,d,e){c=b.element(c),c=h(c),w("removeClass",d,c,null,null,function(){a.removeClass(c,d)},e)},setClass:function(c,d,e,f){c=b.element(c),c=h(c),w("setClass",[d,e],c,null,null,function(){a.setClass(c,d,e)},f)},enabled:function(a,b){switch(arguments.length){case 2:if(a)y(b);else{var c=b.data(n)||{};c.disabled=!0,b.data(n,c)}break;case 1:p.disabled=!a;break;default:a=!p.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function i(){K||(K=h(function(){X=[],K=null,V={}}))}function l(a,b){K&&K(),X.push(b),K=h(function(){k(X,function(a){a()}),X=[],K=null,V={}})}function n(a,c){var d=f(a);a=b.element(d),$.push(a);var e=Date.now()+c;e<=Z||(g.cancel(Y),Z=e,Y=g(function(){o($),$=[]},c,!1))}function o(a){k(a,function(a){var b=a.data(Q);b&&(b.closeAnimationFn||j)()})}function p(a,b){var c=b?V[b]:null;if(!c){var e,f,g,h,i=0,j=0,l=0,n=0;k(a,function(a){if(a.nodeType==m){var b=d.getComputedStyle(a)||{};g=b[F+L],i=Math.max(q(g),i),h=b[F+M],e=b[F+N],j=Math.max(q(e),j),f=b[H+N],n=Math.max(q(f),n);var c=q(b[H+L]);c>0&&(c*=parseInt(b[H+O],10)||1),l=Math.max(c,l)}}),c={total:0,transitionPropertyStyle:h,transitionDurationStyle:g,transitionDelayStyle:e,transitionDelay:j,transitionDuration:i,animationDelayStyle:f,animationDelay:n,animationDuration:l},b&&(V[b]=c)}return c}function q(a){var c=0,d=b.isString(a)?a.split(/\s*,\s*/):[];return k(d,function(a){c=Math.max(parseFloat(a)||0,c)}),c}function r(a){var b=a.parent(),c=b.data(P);return c||(b.data(P,++W),c=W),c+"-"+f(a).getAttribute("class")}function s(a,b,c,d){var e=r(b),f=e+" "+c,g=V[f]?++V[f].total:0,h={};if(g>0){var i=c+"-stagger",k=e+" "+i,l=!V[k];l&&b.addClass(i),h=p(b,k),l&&b.removeClass(i)}d=d||function(a){return a()},b.addClass(c);var m=b.data(Q)||{},n=d(function(){return p(b,f)}),o=n.transitionDuration,q=n.animationDuration;if(0===o&&0===q)return b.removeClass(c),!1;b.data(Q,{running:m.running||0,itemIndex:g,stagger:h,timings:n,closeAnimationFn:j});var s=m.running>0||"setClass"==a;return o>0&&u(b,c,s),q>0&&h.animationDelay>0&&0===h.animationDuration&&v(b),!0}function t(a){return"ng-enter"==a||"ng-move"==a||"ng-leave"==a}function u(a,b,c){t(b)||!c?f(a).style[F+M]="none":a.addClass(R)}function v(a){f(a).style[H]="none 0s"}function w(a,b){var c=F+M,d=f(a);d.style[c]&&d.style[c].length>0&&(d.style[c]=""),a.removeClass(R)}function x(a){var b=H,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]="")}function y(a,b,c,d){function e(a){b.off(t,g),b.removeClass(j),D(b,c);var d=f(b);for(var e in v)d.style.removeProperty(v[e])}function g(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(S));Math.max(c-s,0)>=r&&e>=p&&d()}var h=f(b),i=b.data(Q);if(-1==h.getAttribute("class").indexOf(c)||!i)return void d();var j="";k(c.split(" "),function(a,b){j+=(b>0?" ":"")+a+"-active"});var l=i.stagger,m=i.timings,o=i.itemIndex,p=Math.max(m.transitionDuration,m.animationDuration),q=Math.max(m.transitionDelay,m.animationDelay),r=q*U,s=Date.now(),t=I+" "+G,u="",v=[];if(m.transitionDuration>0){var w=m.transitionPropertyStyle;-1==w.indexOf("all")&&(u+=J+"transition-property: "+w+";",u+=J+"transition-duration: "+m.transitionDurationStyle+";",v.push(J+"transition-property"),v.push(J+"transition-duration"))}if(o>0){if(l.transitionDelay>0&&0===l.transitionDuration){var x=m.transitionDelayStyle;u+=J+"transition-delay: "+z(x,l.transitionDelay,o)+"; ",v.push(J+"transition-delay")}l.animationDelay>0&&0===l.animationDuration&&(u+=J+"animation-delay: "+z(m.animationDelayStyle,l.animationDelay,o)+"; ",v.push(J+"animation-delay"))}if(v.length>0){var y=h.getAttribute("style")||"";h.setAttribute("style",y+"; "+u)}b.on(t,g),b.addClass(j),i.closeAnimationFn=function(){e(),d()};var A=o*(Math.max(l.animationDelay,l.transitionDelay)||0),B=(q+p)*T,C=(A+B)*U;return i.running++,n(b,C),e}function z(a,b,c){var d="";return k(a.split(","),function(a,e){d+=(e>0?",":"")+(c*b+parseInt(a,10))+"s"}),d}function A(a,b,c,d){if(s(a,b,c,d))return function(a){a&&D(b,c)}}function B(a,b,c,d){if(b.data(Q))return y(a,b,c,d);D(b,c),d()}function C(a,b,c,d){var e=A(a,b,c);if(!e)return i(),void d();var f=e;return l(b,function(){w(b,c),x(b),f=B(a,b,c,d)}),function(a){(f||j)(a)}}function D(a,b){a.removeClass(b);var c=a.data(Q);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(Q))}function E(a,c){var d="";return a=b.isArray(a)?a:a.split(/\s+/),k(a,function(a,b){a&&a.length>0&&(d+=(b>0?" ":"")+a+c)}),d}var F,G,H,I,J="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(J="-webkit-",F="WebkitTransition",G="webkitTransitionEnd transitionend"):(F="transition",G="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(J="-webkit-",H="WebkitAnimation",I="webkitAnimationEnd animationend"):(H="animation",I="animationend");var K,L="Duration",M="Property",N="Delay",O="IterationCount",P="$$ngAnimateKey",Q="$$ngAnimateCSS3Data",R="ng-animate-block-transitions",S=3,T=1.5,U=1e3,V={},W=0,X=[],Y=null,Z=0,$=[];return{enter:function(a,b){return C("enter",a,"ng-enter",b)},leave:function(a,b){return C("leave",a,"ng-leave",b)},move:function(a,b){return C("move",a,"ng-move",b)},beforeSetClass:function(a,b,c,d){var e=E(c,"-remove")+" "+E(b,"-add"),f=A("setClass",a,e,function(d){var e=a.attr("class");a.removeClass(c),a.addClass(b);var f=d();return a.attr("class",e),f});if(f)return l(a,function(){w(a,e),x(a),d()}),f;i(),d()},beforeAddClass:function(a,b,c){var d=A("addClass",a,E(b,"-add"),function(c){a.addClass(b);var d=c();return a.removeClass(b),d});if(d)return l(a,function(){w(a,b),x(a),c()}),d;i(),c()},setClass:function(a,b,c,d){return c=E(c,"-remove"),b=E(b,"-add"),B("setClass",a,c+" "+b,d)},addClass:function(a,b,c){return B("addClass",a,E(b,"-add"),c)},beforeRemoveClass:function(a,b,c){var d=A("removeClass",a,E(b,"-remove"),function(c){var d=a.attr("class");a.removeClass(b);var e=c();return a.attr("class",d),e});if(d)return l(a,function(){w(a,b),x(a),c()}),d;c()},removeClass:function(a,b,c){return B("removeClass",a,E(b,"-remove"),c)}}}])}])}(window,window.angular),function(){"use strict";angular.module("toaster",["ngAnimate"]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(a,b){this.pop=function(b,c,d,e,f,g,h,i,j){if(angular.isObject(b)){var k=b;this.toast={type:k.type,title:k.title,body:k.body,timeout:k.timeout,bodyOutputType:k.bodyOutputType,clickHandler:k.clickHandler,showCloseButton:k.showCloseButton,toastId:k.id},h=k.toasterId}else this.toast={type:b,title:c,body:d,timeout:e,bodyOutputType:f,clickHandler:g,showCloseButton:i,toastId:j};a.$emit("toaster-newToast",h)},this.clear=function(){a.$emit("toaster-clearToasts")},this.remove=function(b){a.$emit("toaster-removeToast",b)};for(var c in b["icon-classes"])this[c]=function(a){return function(b,c,d,e,f,g,h,i){angular.isString(b)?this.pop(a,b,c,d,e,f,g,h,i):this.pop(angular.extend(b,{type:a}))}}(c)}]).factory("toasterEventRegistry",["$rootScope",function(a){var b,c=null,d=null,e=null,f=[],g=[],h=[];return b={setup:function(){c||(c=a.$on("toaster-newToast",function(a,b){for(var c=0,d=f.length;c<d;c++)f[c](a,b)})),d||(d=a.$on("toaster-clearToasts",function(a){for(var b=0,c=g.length;b<c;b++)g[b](a)})),e||(e=a.$on("toaster-removeToast",function(a,b){for(var c=0,d=h.length;c<d;c++)h[c](a,b)}))},subscribeToNewToastEvent:function(a){f.push(a)},subscribeToClearToastsEvent:function(a){g.push(a)},subscribeToRemoveToastEvent:function(a){h.push(a)},unsubscribeToNewToastEvent:function(a){var b=f.indexOf(a);b>=0&&f.splice(b,1),0===f.length&&(c(),c=null)},unsubscribeToClearToastsEvent:function(a){var b=g.indexOf(a);b>=0&&g.splice(b,1),0===g.length&&(d(),d=null)},unsubscribeToRemoveToastEvent:function(a){var b=h.indexOf(a);b>=0&&h.splice(b,1),0===h.length&&(e(),e=null)}},{setup:b.setup,subscribeToNewToastEvent:b.subscribeToNewToastEvent,subscribeToClearToastsEvent:b.subscribeToClearToastsEvent,subscribeToRemoveToastEvent:b.subscribeToRemoveToastEvent,unsubscribeToNewToastEvent:b.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:b.unsubscribeToClearToastsEvent,unsubscribeToRemoveToastEvent:b.unsubscribeToRemoveToastEvent}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(a,b,c,d,e,f,g){return{replace:!0,restrict:"EA",scope:!0,link:function(b,h,i){function j(a,d){a.timeoutPromise=c(function(){b.removeToast(a.id)},d,1)}function k(c){if(c.type=n["icon-classes"][c.type],c.type||(c.type=n["icon-class"]),!(!0===n["prevent-duplicates"]&&b.toasters.length>0&&b.toasters[b.toasters.length-1].body===c.body)){c.id=++o;var e=n["close-button"];if("boolean"==typeof c.showCloseButton);else if("boolean"==typeof e)c.showCloseButton=e;else if("object"==typeof e){var f=e[c.type];void 0!==f&&null!==f&&(c.showCloseButton=f)}else c.showCloseButton=!1;switch(c.bodyOutputType=c.bodyOutputType||n["body-output-type"],c.bodyOutputType){case"trustedHtml":c.html=d.trustAsHtml(c.body);break;case"template":c.bodyTemplate=c.body||n["body-template"];break;case"templateWithData":var g=a(c.body||n["body-template"]),h=g(b);c.bodyTemplate=h.template,c.data=h.data}b.configureTimer(c),!0===n["newest-on-top"]?(b.toasters.unshift(c),n.limit>0&&b.toasters.length>n.limit&&b.toasters.pop()):(b.toasters.push(c),n.limit>0&&b.toasters.length>n.limit&&b.toasters.shift())}}function l(a){var d=b.toasters[a];d&&(d.timeoutPromise&&c.cancel(d.timeoutPromise),b.toasters.splice(a,1))}function m(){for(var a=b.toasters.length;a>=0;a--)l(a)}var n,o=0;n=angular.extend({},e,b.$eval(i.toasterOptions)),b.config={toasterId:n["toaster-id"],position:n["position-class"],title:n["title-class"],message:n["message-class"],tap:n["tap-to-dismiss"],closeButton:n["close-button"],animation:n["animation-class"],mouseoverTimer:n["mouseover-timer-stop"]},b.$on("$destroy",function(){g.unsubscribeToNewToastEvent(b._onNewToast),g.unsubscribeToClearToastsEvent(b._onClearToasts),g.unsubscribeToRemoveToastEvent(b._onRemoveToast)}),b.configureTimer=function(a){var b=angular.isNumber(a.timeout)?a.timeout:n["time-out"];b>0&&j(a,b)},b.removeToast=function(a){var c,d;for(c=0,d=b.toasters.length;c<d;c++)if(b.toasters[c].id===a){l(c);break}},b.toasters=[],b._onNewToast=function(a,c){(void 0===b.config.toasterId&&void 0===c||void 0!==c&&c===b.config.toasterId)&&k(f.toast)},b._onClearToasts=function(a){m()},b._onRemoveToast=function(a,c){for(var d=b.toasters.length;d>=0;d--)b.toasters[d]&&b.toasters[d].toastId===c&&l(d)},g.setup(),g.subscribeToNewToastEvent(b._onNewToast),g.subscribeToClearToastsEvent(b._onClearToasts),g.subscribeToRemoveToastEvent(b._onRemoveToast)},controller:["$scope","$element","$attrs",function(a,b,d){a.stopTimer=function(b){!0===a.config.mouseoverTimer&&b.timeoutPromise&&(c.cancel(b.timeoutPromise),b.timeoutPromise=null)},a.restartTimer=function(b){!0===a.config.mouseoverTimer?b.timeoutPromise||a.configureTimer(b):null===b.timeoutPromise&&a.removeToast(b.id)},a.click=function(b){if(!0===a.config.tap||!0===b.showCloseButton){var c=!0;b.clickHandler&&(angular.isFunction(b.clickHandler)?c=b.clickHandler(b,b.showCloseButton):angular.isFunction(a.$parent.$eval(b.clickHandler))?c=a.$parent.$eval(b.clickHandler)(b,b.showCloseButton):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),c&&a.removeToast(b.id)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button type="button" class="toast-close-button" ng-show="toaster.showCloseButton" ng-click="click(toaster)">&times;</button><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(window,document),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(b,c,d,e,f){function g(){d.cancel(i),f.complete(),k=0,j=0}function h(b){var d,e=a.defaults;if("GET"!==b.method||!1===b.cache)return b.cached=!1,!1;d=!0===b.cache&&void 0===e.cache?c.get("$http"):void 0!==e.cache?e.cache:b.cache;var f=void 0!==d&&void 0!==d.get(b.url);return void 0!==b.cached&&f!==b.cached?b.cached:(b.cached=f,f)}var i,j=0,k=0,l=f.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||h(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===j&&(i=d(function(){f.start()},l)),j++,f.set(k/j)),a},response:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),a},responseError:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),b.reject(a)}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.$get=["$document","$timeout","$animate","$rootScope",function(a,b,c,d){function e(){var e=a.find(l);b.cancel(k),p||(d.$broadcast("cfpLoadingBar:started"),p=!0,s&&c.enter(m,e),r&&c.enter(o,e),f(t))}function f(a){if(p){var c=100*a+"%";n.css("width",c),q=a,b.cancel(j),j=b(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&b<.25?(3*Math.random()+3)/100:b>=.25&&b<.65?3*Math.random()/100:b>=.65&&b<.9?2*Math.random()/100:b>=.9&&b<.99?.005:0;f(h()+a)}}function h(){return q}function i(){d.$broadcast("cfpLoadingBar:completed"),f(1),k=b(function(){c.leave(m,function(){q=0,p=!1}),c.leave(o)},500)}var j,k,l=this.parentSelector,m=angular.element('<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>'),n=m.find("div").eq(0),o=angular.element('<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>'),p=!1,q=0,r=this.includeSpinner,s=this.includeBar,t=this.startSize;return{start:e,set:f,status:h,inc:g,complete:i,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(a,b,c){"use strict";function d(b){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/WebKit/.test(a.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",prioritizeFirstAndLastChunk:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,415,500,501],onDropStopPropagation:!1},this.opts={},this.events={};var c=this;this.onDrop=function(a){c.opts.onDropStopPropagation&&a.stopPropagation(),a.preventDefault();var b=a.dataTransfer;b.items&&b.items[0]&&b.items[0].webkitGetAsEntry?c.webkitReadDataTransfer(a):c.addFiles(b.files,a)},this.preventEvent=function(a){a.preventDefault()},this.opts=d.extend({},this.defaults,b||{})}}function e(a,b){this.flowObj=a,this.file=b,this.name=b.fileName||b.name,this.size=b.size,this.relativePath=b.relativePath||b.webkitRelativePath||this.name,this.uniqueIdentifier=a.generateUniqueIdentifier(b),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function f(a,b,c){this.flowObj=a,this.fileObj=b,this.fileObjSize=b.size,this.offset=c,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.loaded=0,this.total=0;var d=this.flowObj.opts.chunkSize;this.startByte=this.offset*d,this.endByte=Math.min(this.fileObjSize,(this.offset+1)*d),this.xhr=null,this.fileObjSize-this.endByte<d&&!this.flowObj.opts.forceChunkSize&&(this.endByte=this.fileObjSize);var e=this;this.progressHandler=function(a){a.lengthComputable&&(e.loaded=a.loaded,e.total=a.total),e.fileObj.chunkEvent("progress")},this.testHandler=function(a){var b=e.status();"success"===b?(e.tested=!0,e.fileObj.chunkEvent(b,e.message()),e.flowObj.uploadNextChunk()):e.fileObj.paused||(e.tested=!0,e.send())},this.doneHandler=function(a){var b=e.status();if("success"===b||"error"===b)e.fileObj.chunkEvent(b,e.message()),e.flowObj.uploadNextChunk();else{e.fileObj.chunkEvent("retry",e.message()),e.pendingRetry=!0,e.abort(),e.retries++;var c=e.flowObj.opts.chunkRetryInterval;null!==c?setTimeout(function(){e.send()},c):e.send()}}}function g(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}function h(a,b){return"function"==typeof a&&(b=Array.prototype.slice.call(arguments),a=a.apply(null,b.slice(1))),a}function i(a,b){setTimeout(a.bind(b),0)}function j(a,b){return k(arguments,function(b){b!==a&&k(b,function(b,c){a[c]=b})}),a}function k(a,b,c){if(a){var d;if(void 0!==a.length){for(d=0;d<a.length;d++)if(!1===b.call(c,a[d],d))return}else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(c,a[d],d))return}}d.prototype={on:function(a,b){a=a.toLowerCase(),this.events.hasOwnProperty(a)||(this.events[a]=[]),this.events[a].push(b)},off:function(a,b){a!==c?(a=a.toLowerCase(),b!==c?this.events.hasOwnProperty(a)&&g(this.events[a],b):delete this.events[a]):this.events={}},fire:function(a,b){b=Array.prototype.slice.call(arguments),a=a.toLowerCase();var c=!1;return this.events.hasOwnProperty(a)&&k(this.events[a],function(a){c=!1===a.apply(this,b.slice(1))||c}),"catchall"!=a&&(b.unshift("catchAll"),c=!1===this.fire.apply(this,b)||c),!c},webkitReadDataTransfer:function(a){function b(a){g+=a.length,k(a,function(a){if(a.isFile){var e=a.fullPath;a.file(function(a){c(a,e)},d)}else a.isDirectory&&a.createReader().readEntries(b,d)}),e()}function c(a,b){a.relativePath=b.substring(1),h.push(a),e()}function d(a){throw a}function e(){0==--g&&f.addFiles(h,a)}var f=this,g=a.dataTransfer.items.length,h=[];k(a.dataTransfer.items,function(a){var f=a.webkitGetAsEntry();if(!f)return void e();f.isFile?c(a.getAsFile(),f.fullPath):f.createReader().readEntries(b,d)})},generateUniqueIdentifier:function(a){var b=this.opts.generateUniqueIdentifier;if("function"==typeof b)return b(a);var c=a.relativePath||a.webkitRelativePath||a.fileName||a.name;return a.size+"-"+c.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(a){var b=!1;if(this.opts.prioritizeFirstAndLastChunk&&(k(this.files,function(a){return!a.paused&&a.chunks.length&&"pending"===a.chunks[0].status()&&0===a.chunks[0].preprocessState?(a.chunks[0].send(),b=!0,!1):!a.paused&&a.chunks.length>1&&"pending"===a.chunks[a.chunks.length-1].status()&&0===a.chunks[0].preprocessState?(a.chunks[a.chunks.length-1].send(),b=!0,!1):void 0}),b))return b;if(k(this.files,function(a){if(a.paused||k(a.chunks,function(a){if("pending"===a.status()&&0===a.preprocessState)return a.send(),b=!0,!1}),b)return!1}),b)return!0;var c=!1;return k(this.files,function(a){if(!a.isComplete())return c=!0,!1}),c||a||i(function(){this.fire("complete")},this),!1},assignBrowse:function(a,c,d,e){void 0===a.length&&(a=[a]),k(a,function(a){var f;"INPUT"===a.tagName&&"file"===a.type?f=a:(f=b.createElement("input"),f.setAttribute("type","file"),j(f.style,{visibility:"hidden",position:"absolute"}),a.appendChild(f),a.addEventListener("click",function(){f.click()},!1)),this.opts.singleFile||d||f.setAttribute("multiple","multiple"),c&&f.setAttribute("webkitdirectory","webkitdirectory"),k(e,function(a,b){f.setAttribute(b,a)});var g=this;f.addEventListener("change",function(a){g.addFiles(a.target.files,a),a.target.value=""},!1)},this)},assignDrop:function(a){void 0===a.length&&(a=[a]),k(a,function(a){a.addEventListener("dragover",this.preventEvent,!1),a.addEventListener("dragenter",this.preventEvent,!1),a.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(a){void 0===a.length&&(a=[a]),k(a,function(a){a.removeEventListener("dragover",this.preventEvent),a.removeEventListener("dragenter",this.preventEvent),a.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var a=!1;return k(this.files,function(b){if(b.isUploading())return a=!0,!1}),a},_shouldUploadNext:function(){var a=0,b=!0,c=this.opts.simultaneousUploads;return k(this.files,function(d){k(d.chunks,function(d){if("uploading"===d.status()&&++a>=c)return b=!1,!1})}),b&&a},upload:function(){var a=this._shouldUploadNext();if(!1!==a){this.fire("uploadStart");for(var b=!1,c=1;c<=this.opts.simultaneousUploads-a;c++)b=this.uploadNextChunk(!0)||b;b||i(function(){this.fire("complete")},this)}},resume:function(){k(this.files,function(a){a.resume()})},pause:function(){k(this.files,function(a){a.pause()})},cancel:function(){for(var a=this.files.length-1;a>=0;a--)this.files[a].cancel()},progress:function(){var a=0,b=0;return k(this.files,function(c){a+=c.progress()*c.size,b+=c.size}),b>0?a/b:0},addFile:function(a,b){this.addFiles([a],b)},addFiles:function(a,b){var c=[];k(a,function(a){if((a.size%4096!=0||"."!==a.name&&"."!==a.fileName)&&!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(a))){var d=new e(this,a);this.fire("fileAdded",d,b)&&c.push(d)}},this),this.fire("filesAdded",c,b)&&k(c,function(a){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(a)},this),this.fire("filesSubmitted",c,b)},removeFile:function(a){for(var b=this.files.length-1;b>=0;b--)this.files[b]===a&&(this.files.splice(b,1),a.abort())},getFromUniqueIdentifier:function(a){var b=!1;return k(this.files,function(c){c.uniqueIdentifier===a&&(b=c)}),b},getSize:function(){var a=0;return k(this.files,function(b){a+=b.size}),a},sizeUploaded:function(){var a=0;return k(this.files,function(b){a+=b.sizeUploaded()}),a},timeRemaining:function(){var a=0,b=0;return k(this.files,function(c){c.paused||c.error||(a+=c.size-c.sizeUploaded(),b+=c.averageSpeed)}),a&&!b?Number.POSITIVE_INFINITY:a||b?Math.floor(a/b):0}},e.prototype={measureSpeed:function(){var a=Date.now()-this._lastProgressCallback;if(a){var b=this.flowObj.opts.speedSmoothingFactor,c=this.sizeUploaded();this.currentSpeed=Math.max((c-this._prevUploadedSize)/a*1e3,0),this.averageSpeed=b*this.currentSpeed+(1-b)*this.averageSpeed,this._prevUploadedSize=c}},chunkEvent:function(a,b){switch(a){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,b),this.flowObj.fire("error",b,this);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,b));break;case"retry":this.flowObj.fire("fileRetry",this)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(a){this.currentSpeed=0,this.averageSpeed=0;var b=this.chunks;a&&(this.chunks=[]),k(b,function(a){"uploading"===a.status()&&(a.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){this.abort(!0),this.error=!1,this._prevProgress=0;for(var a=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,b=Math.max(a(this.file.size/this.flowObj.opts.chunkSize),1),c=0;c<b;c++)this.chunks.push(new f(this.flowObj,this,c))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var a=0;k(this.chunks,function(b){a+=b.progress()*(b.endByte-b.startByte)});var b=a/this.size;return this._prevProgress=Math.max(this._prevProgress,b>.999?1:b),this._prevProgress},isUploading:function(){var a=!1;return k(this.chunks,function(b){if("uploading"===b.status())return a=!0,!1}),a},isComplete:function(){var a=!1;return k(this.chunks,function(b){var c=b.status();if("pending"===c||"uploading"===c||1===b.preprocessState)return a=!0,!1}),!a},sizeUploaded:function(){var a=0;return k(this.chunks,function(b){a+=b.sizeUploaded()}),a},timeRemaining:function(){if(this.paused||this.error)return 0;var a=this.size-this.sizeUploaded();return a&&!this.averageSpeed?Number.POSITIVE_INFINITY:a||this.averageSpeed?Math.floor(a/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},f.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObjSize,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(a,b){return a.indexOf("?")<0?a+="?":a+="&",a+b.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var a=this.prepareXhrRequest("GET",!0);this.xhr.send(a)},preprocessFinished:function(){this.preprocessState=2,this.send()},send:function(){var a=this.flowObj.opts.preprocess;if("function"==typeof a)switch(this.preprocessState){case 0:return this.preprocessState=1,void a(this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1;var b=this.fileObj.file.slice?"slice":this.fileObj.file.mozSlice?"mozSlice":this.fileObj.file.webkitSlice?"webkitSlice":"slice",c=this.fileObj.file[b](this.startByte,this.endByte,this.fileObj.file.type);this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var d=this.prepareXhrRequest("POST",!1,this.flowObj.opts.method,c);this.xhr.send(d)},abort:function(){var a=this.xhr;this.xhr=null,a&&a.abort()},status:function(){return this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":200==this.xhr.status?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var a=this.status();return"success"===a||"error"===a?1:"pending"===a?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var a=this.endByte-this.startByte;return"success"!==this.status()&&(a=this.progress()*a),a},prepareXhrRequest:function(a,b,c,d){var e=h(this.flowObj.opts.query,this.fileObj,this,b);e=j(this.getParams(),e);var f=h(this.flowObj.opts.target,this.fileObj,this,b),g=null;if("GET"===a||"octet"===c){var i=[];k(e,function(a,b){i.push([encodeURIComponent(b),encodeURIComponent(a)].join("="))}),f=this.getTarget(f,i),g=d||null}else g=new FormData,k(e,function(a,b){g.append(b,a)}),g.append(this.flowObj.opts.fileParameterName,d,this.fileObj.file.name);return this.xhr.open(a,f,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,k(h(this.flowObj.opts.headers,this.fileObj,this,b),function(a,b){this.xhr.setRequestHeader(b,a)},this),g}},d.evalOpts=h,d.extend=j,d.each=k,d.FlowFile=e,d.FlowChunk=f,d.version="2.6.2","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=d:(a.Flow=d,"function"==typeof define&&define.amd&&define("flow",[],function(){return d}))}(window,document),angular.module("flow.provider",[]).provider("flowFactory",function(){"use strict";this.defaults={},this.factory=function(a){return new Flow(a)},this.events=[],this.on=function(a,b){this.events.push([a,b])},this.$get=function(){var a=this.factory,b=this.defaults,c=this.events;return{create:function(d){var e=a(angular.extend({},b,d));return angular.forEach(c,function(a){e.on(a[0],a[1])}),e}}}}),angular.module("flow.init",["flow.provider"]).controller("flowCtrl",["$scope","$attrs","$parse","flowFactory",function(a,b,c,d){var e=angular.extend({},a.$eval(b.flowInit)),f=a.$eval(b.flowObject)||d.create(e);f.on("catchAll",function(b){var c=Array.prototype.slice.call(arguments);c.shift();var d=a.$broadcast.apply(a,["flow::"+b,f].concat(c));if({progress:1,filesSubmitted:1,fileSuccess:1,fileError:1,complete:1}[b]&&a.$apply(),d.defaultPrevented)return!1}),a.$flow=f,b.hasOwnProperty("flowName")&&(c(b.flowName).assign(a,f),a.$on("$destroy",function(){c(b.flowName).assign(a)}))}]).directive("flowInit",[function(){return{scope:!0,controller:"flowCtrl"}}]),angular.module("flow.btn",["flow.init"]).directive("flowBtn",[function(){return{restrict:"EA",scope:!1,require:"^flowInit",link:function(a,b,c){var d=c.hasOwnProperty("flowDirectory"),e=c.hasOwnProperty("flowSingleFile"),f=c.hasOwnProperty("flowAttrs")&&a.$eval(c.flowAttrs);a.$flow.assignBrowse(b,d,e,f)}}}]),angular.module("flow.dragEvents",["flow.init"]).directive("flowPreventDrop",function(){return{scope:!1,link:function(a,b,c){b.bind("drop dragover",function(a){a.preventDefault()})}}}).directive("flowDragEnter",["$timeout",function(a){return{scope:!1,link:function(b,c,d){function e(a){var b=!1,c=a.dataTransfer||a.originalEvent.dataTransfer;return angular.forEach(c&&c.types,function(a){"Files"===a&&(b=!0)}),b}var f,g=!1;c.bind("dragover",function(c){e(c)&&(g||(b.$apply(d.flowDragEnter),g=!0),a.cancel(f),c.preventDefault())}),c.bind("dragleave drop",function(c){f=a(function(){b.$eval(d.flowDragLeave),f=null,g=!1},100)})}}}]),angular.module("flow.drop",["flow.init"]).directive("flowDrop",function(){return{scope:!1,require:"^flowInit",link:function(a,b,c){function d(){a.$flow.assignDrop(b)}function e(){a.$flow.unAssignDrop(b)}c.flowDropEnabled?a.$watch(c.flowDropEnabled,function(a){a?d():e()}):d()}}}),function(a){"use strict";function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}var c=a.module("flow.events",["flow.init"]),d={fileSuccess:["$file","$message"],fileProgress:["$file"],fileAdded:["$file","$event"],filesAdded:["$files","$event"],filesSubmitted:["$files","$event"],fileRetry:["$file"],fileError:["$file","$message"],uploadStart:[],complete:[],progress:[],error:["$message","$file"]};a.forEach(d,function(d,e){var f="flow"+b(e);"flowUploadStart"==f&&(f="flowUploadStarted"),c.directive(f,[function(){return{require:"^flowInit",controller:["$scope","$attrs",function(b,c){b.$on("flow::"+e,function(){var e=Array.prototype.slice.call(arguments),g=e.shift();if(b.$flow===e.shift()){var h={};a.forEach(d,function(a,b){h[a]=e[b]}),!1===b.$eval(c[f],h)&&g.preventDefault()}})}]}}])})}(angular),angular.module("flow.img",["flow.init"]).directive("flowImg",[function(){return{scope:!1,require:"^flowInit",link:function(a,b,c){var d=c.flowImg;a.$watch(d,function(b){if(b){var d=new FileReader;d.readAsDataURL(b.file),d.onload=function(b){a.$apply(function(){c.$set("src",b.target.result)})}}})}}}]),angular.module("flow.transfers",["flow.init"]).directive("flowTransfers",[function(){return{scope:!0,require:"^flowInit",link:function(a){a.transfers=a.$flow.files}}}]),angular.module("flow",["flow.provider","flow.init","flow.events","flow.btn","flow.drop","flow.transfers","flow.img","flow.dragEvents"]);var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return z=angular.element(b),u=null,v=null,j=null,k=null,r=!0,y=!1,x=null,i=!1,q=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},s=function(a){if(a[0].getBoundingClientRect&&!a.css("none"))return a[0].getBoundingClientRect().top+t(a)},t=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},p=function(){var b,d,g,h,l;return k===z?(b=q(k)+t(k[0].document.documentElement),g=s(f)+q(f)):(b=q(k),d=0,void 0!==s(k)&&(d=s(k)),g=s(f)-d+q(f)),y&&(g=q((f[0].ownerDocument||f[0].document).documentElement)),h=g-b,l=h<=q(k)*u+1,l?(j=!0,v?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):(i&&c.cancel(i),j=!1)},w=function(a,b){var d,e,f;return f=null,e=0,d=function(){return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),h<=0?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(p=w(p,d)),e.$on("$destroy",function(){if(k.unbind("scroll",p),null!=x)return x(),x=null}),n=function(a){return u=parseFloat(a)||0},e.$watch("infiniteScrollDistance",n),n(e.infiniteScrollDistance),m=function(a){if((v=!a)&&j)return j=!1,p()},e.$watch("infiniteScrollDisabled",m),m(e.infiniteScrollDisabled),o=function(a){return y=a},e.$watch("infiniteScrollUseDocumentBottom",o),o(e.infiniteScrollUseDocumentBottom),h=function(a){if(null!=k&&k.unbind("scroll",p),k=a,null!=a)return k.bind("scroll",p)},h(z),e.infiniteScrollListenForEvent&&(x=a.$on(e.infiniteScrollListenForEvent,p)),l=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},e.$watch("infiniteScrollContainer",l),l(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(r=e.$eval(g.infiniteScrollImmediateCheck)),i=c(function(){if(r)return p()},0)}}}]),function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(a){"use strict";function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=j),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(B);e||(e=new c(this,b),d.data(B,e))})}function c(b,c){function C(b){if(!(ja()||a(b.target).closest(c.excludedElements,Ta).length>0)){var d=b.originalEvent?b.originalEvent:b;if(!d.pointerType||"mouse"!=d.pointerType||0!=c.fallbackToMouseEvents){var e,f=d.touches,g=f?f[0]:d;return Ua=u,(f?Va=f.length:!1!==c.preventDefaultEvents&&b.preventDefault(),Ja=0,Ka=null,La=null,Ra=null,Ma=0,Na=0,Oa=0,Pa=1,Qa=0,Sa=qa(),ha(),la(0,g),!f||Va===c.fingers||c.fingers===s||R()?(Xa=za(),2==Va&&(la(1,f[1]),Na=Oa=ta(Wa[0].start,Wa[1].start)),(c.swipeStatus||c.pinchStatus)&&(e=J(d,Ua))):e=!1,!1===e)?(Ua=x,J(d,Ua),e):(c.hold&&(bb=setTimeout(a.proxy(function(){Ta.trigger("hold",[d.target]),c.hold&&(e=c.hold.call(Ta,d,d.target))},this),c.longTapThreshold)),ka(!0),null)}}}function D(a){var b=a.originalEvent?a.originalEvent:a;if(Ua!==w&&Ua!==x&&!ia()){var d,e=b.touches,f=e?e[0]:b,g=ma(f);if(Ya=za(),e&&(Va=e.length),c.hold&&clearTimeout(bb),Ua=v,2==Va&&(0==Na?(la(1,e[1]),Na=Oa=ta(Wa[0].start,Wa[1].start)):(ma(e[1]),Oa=ta(Wa[0].end,Wa[1].end),Ra=va(Wa[0].end,Wa[1].end)),Pa=ua(Na,Oa),Qa=Math.abs(Na-Oa)),Va===c.fingers||c.fingers===s||!e||R()){if(Ka=ya(g.start,g.end),La=ya(g.last,g.end),P(a,La),Ja=wa(g.start,g.end),Ma=sa(),oa(Ka,Ja),d=J(b,Ua),!c.triggerOnTouchEnd||c.triggerOnTouchLeave){var h=!0;if(c.triggerOnTouchLeave){var i=Aa(this);h=Ba(g.end,i)}!c.triggerOnTouchEnd&&h?Ua=I(v):c.triggerOnTouchLeave&&!h&&(Ua=I(w)),Ua!=x&&Ua!=w||J(b,Ua)}}else Ua=x,J(b,Ua);!1===d&&(Ua=x,J(b,Ua))}}function E(a){var b=a.originalEvent?a.originalEvent:a,d=b.touches;if(d){if(d.length&&!ia())return ga(b),!0;if(d.length&&ia())return!0}return ia()&&(Va=$a),Ya=za(),Ma=sa(),M()||!L()?(Ua=x,J(b,Ua)):c.triggerOnTouchEnd||!1===c.triggerOnTouchEnd&&Ua===v?(!1!==c.preventDefaultEvents&&a.preventDefault(),Ua=w,J(b,Ua)):!c.triggerOnTouchEnd&&Y()?(Ua=w,K(b,Ua,n)):Ua===v&&(Ua=x,J(b,Ua)),ka(!1),null}function F(){Va=0,Ya=0,Xa=0,Na=0,Oa=0,Pa=1,ha(),ka(!1)}function G(a){var b=a.originalEvent?a.originalEvent:a;c.triggerOnTouchLeave&&(Ua=I(w),J(b,Ua))}function H(){Ta.unbind(Ea,C),Ta.unbind(Ia,F),Ta.unbind(Fa,D),Ta.unbind(Ga,E),Ha&&Ta.unbind(Ha,G),ka(!1)}function I(a){var b=a,d=O(),e=L(),f=M();return!d||f?b=x:!e||a!=v||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!e&&a==w&&c.triggerOnTouchLeave&&(b=x):b=w,b}function J(a,b){var c,d=a.touches;return(V()||U())&&(c=K(a,b,l)),(S()||R())&&!1!==c&&(c=K(a,b,m)),ea()&&!1!==c?c=K(a,b,o):fa()&&!1!==c?c=K(a,b,p):da()&&!1!==c&&(c=K(a,b,n)),b===x&&F(a),b===w&&(d?d.length||F(a):F(a)),c}function K(b,j,k){var q;if(k==l){if(Ta.trigger("swipeStatus",[j,Ka||null,Ja||0,Ma||0,Va,Wa,La]),c.swipeStatus&&!1===(q=c.swipeStatus.call(Ta,b,j,Ka||null,Ja||0,Ma||0,Va,Wa,La)))return!1;if(j==w&&T()){if(clearTimeout(ab),clearTimeout(bb),Ta.trigger("swipe",[Ka,Ja,Ma,Va,Wa,La]),c.swipe&&!1===(q=c.swipe.call(Ta,b,Ka,Ja,Ma,Va,Wa,La)))return!1;switch(Ka){case d:Ta.trigger("swipeLeft",[Ka,Ja,Ma,Va,Wa,La]),c.swipeLeft&&(q=c.swipeLeft.call(Ta,b,Ka,Ja,Ma,Va,Wa,La));break;case e:Ta.trigger("swipeRight",[Ka,Ja,Ma,Va,Wa,La]),c.swipeRight&&(q=c.swipeRight.call(Ta,b,Ka,Ja,Ma,Va,Wa,La));break;case f:Ta.trigger("swipeUp",[Ka,Ja,Ma,Va,Wa,La]),c.swipeUp&&(q=c.swipeUp.call(Ta,b,Ka,Ja,Ma,Va,Wa,La));break;case g:Ta.trigger("swipeDown",[Ka,Ja,Ma,Va,Wa,La]),c.swipeDown&&(q=c.swipeDown.call(Ta,b,Ka,Ja,Ma,Va,Wa,La))}}}if(k==m){if(Ta.trigger("pinchStatus",[j,Ra||null,Qa||0,Ma||0,Va,Pa,Wa]),c.pinchStatus&&!1===(q=c.pinchStatus.call(Ta,b,j,Ra||null,Qa||0,Ma||0,Va,Pa,Wa)))return!1;if(j==w&&Q())switch(Ra){case h:Ta.trigger("pinchIn",[Ra||null,Qa||0,Ma||0,Va,Pa,Wa]),c.pinchIn&&(q=c.pinchIn.call(Ta,b,Ra||null,Qa||0,Ma||0,Va,Pa,Wa));break;case i:Ta.trigger("pinchOut",[Ra||null,Qa||0,Ma||0,Va,Pa,Wa]),c.pinchOut&&(q=c.pinchOut.call(Ta,b,Ra||null,Qa||0,Ma||0,Va,Pa,Wa))}}return k==n?j!==x&&j!==w||(clearTimeout(ab),clearTimeout(bb),Z()&&!aa()?(_a=za(),ab=setTimeout(a.proxy(function(){_a=null,Ta.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Ta,b,b.target))},this),c.doubleTapThreshold)):(_a=null,Ta.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Ta,b,b.target)))):k==o?j!==x&&j!==w||(clearTimeout(ab),clearTimeout(bb),_a=null,Ta.trigger("doubletap",[b.target]),c.doubleTap&&(q=c.doubleTap.call(Ta,b,b.target))):k==p&&(j!==x&&j!==w||(clearTimeout(ab),_a=null,Ta.trigger("longtap",[b.target]),c.longTap&&(q=c.longTap.call(Ta,b,b.target)))),q}function L(){var a=!0;return null!==c.threshold&&(a=Ja>=c.threshold),a}function M(){var a=!1;return null!==c.cancelThreshold&&null!==Ka&&(a=pa(Ka)-Ja>=c.cancelThreshold),a}function N(){return null===c.pinchThreshold||Qa>=c.pinchThreshold}function O(){return!c.maxTimeThreshold||!(Ma>=c.maxTimeThreshold)}function P(a,b){if(!1!==c.preventDefaultEvents)if(c.allowPageScroll===j)a.preventDefault();else{var h=c.allowPageScroll===k;switch(b){case d:(c.swipeLeft&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case e:(c.swipeRight&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case f:(c.swipeUp&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault();break;case g:(c.swipeDown&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault()}}}function Q(){var a=W(),b=X(),c=N();return a&&b&&c}function R(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function S(){return!(!Q()||!R())}function T(){var a=O(),b=L(),c=W(),d=X();return!M()&&d&&c&&b&&a}function U(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function V(){return!(!T()||!U())}function W(){return Va===c.fingers||c.fingers===s||!y}function X(){return 0!==Wa[0].end.x}function Y(){return!!c.tap}function Z(){return!!c.doubleTap}function $(){return!!c.longTap}function _(){if(null==_a)return!1;var a=za();return Z()&&a-_a<=c.doubleTapThreshold}function aa(){return _()}function ba(){return(1===Va||!y)&&(isNaN(Ja)||Ja<c.threshold)}function ca(){return Ma>c.longTapThreshold&&Ja<t}function da(){return!(!ba()||!Y())}function ea(){return!(!_()||!Z())}function fa(){return!(!ca()||!$())}function ga(a){Za=za(),$a=a.touches.length+1}function ha(){Za=0,$a=0}function ia(){var a=!1;if(Za){za()-Za<=c.fingerReleaseThreshold&&(a=!0)}return a}function ja(){return!(!0!==Ta.data(B+"_intouch"))}function ka(a){Ta&&(!0===a?(Ta.bind(Fa,D),Ta.bind(Ga,E),Ha&&Ta.bind(Ha,G)):(Ta.unbind(Fa,D,!1),Ta.unbind(Ga,E,!1),Ha&&Ta.unbind(Ha,G,!1)),Ta.data(B+"_intouch",!0===a))}function la(a,b){var c={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return c.start.x=c.last.x=c.end.x=b.pageX||b.clientX,c.start.y=c.last.y=c.end.y=b.pageY||b.clientY,Wa[a]=c,c}function ma(a){var b=void 0!==a.identifier?a.identifier:0,c=na(b);return null===c&&(c=la(b,a)),c.last.x=c.end.x,c.last.y=c.end.y,c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function na(a){return Wa[a]||null}function oa(a,b){a!=j&&(b=Math.max(b,pa(a)),Sa[a].distance=b)}function pa(a){if(Sa[a])return Sa[a].distance}function qa(){var a={};return a[d]=ra(d),a[e]=ra(e),a[f]=ra(f),a[g]=ra(g),a}function ra(a){return{direction:a,distance:0}}function sa(){return Ya-Xa}function ta(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function ua(a,b){return(b/a*1).toFixed(2)}function va(){return Pa<1?i:h}function wa(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function xa(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function ya(a,b){if(Ca(a,b))return j;var c=xa(a,b);return c<=45&&c>=0?d:c<=360&&c>=315?d:c>=135&&c<=225?e:c>45&&c<135?g:f}function za(){return(new Date).getTime()}function Aa(b){b=a(b);var c=b.offset();return{left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()}}function Ba(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}function Ca(a,b){return a.x==b.x&&a.y==b.y}var c=a.extend({},c),Da=y||A||!c.fallbackToMouseEvents,Ea=Da?A?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Fa=Da?A?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ga=Da?A?z?"MSPointerUp":"pointerup":"touchend":"mouseup",Ha=Da?A?"mouseleave":null:"mouseleave",Ia=A?z?"MSPointerCancel":"pointercancel":"touchcancel",Ja=0,Ka=null,La=null,Ma=0,Na=0,Oa=0,Pa=1,Qa=0,Ra=0,Sa=null,Ta=a(b),Ua="start",Va=0,Wa={},Xa=0,Ya=0,Za=0,$a=0,_a=0,ab=null,bb=null;try{Ta.bind(Ea,C),Ta.bind(Ia,F)}catch(b){a.error("events not supported "+Ea+","+Ia+" on jQuery.swipe")}this.enable=function(){return this.disable(),Ta.bind(Ea,C),Ta.bind(Ia,F),Ta},this.disable=function(){return H(),Ta},this.destroy=function(){H(),Ta.data(B,null),Ta=null},this.option=function(b,d){if("object"==typeof b)c=a.extend(c,b);else if(void 0!==c[b]){if(void 0===d)return c[b];c[b]=d}else{if(!b)return c;a.error("Option "+b+" does not exist on jQuery.swipe.options")}return null}}var d="left",e="right",f="up",g="down",h="in",i="out",j="none",k="auto",l="swipe",m="pinch",n="tap",o="doubletap",p="longtap",q="horizontal",r="vertical",s="all",t=10,u="start",v="move",w="end",x="cancel",y="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!y,A=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!y,B="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};a.fn.swipe=function(c){var d=a(this),e=d.data(B);if(e&&"string"==typeof c){if(e[c])return e[c].apply(e,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(e&&"object"==typeof c)e.option.apply(e,arguments);else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.version="1.6.18",a.fn.swipe.defaults=C,a.fn.swipe.phases={PHASE_START:u,PHASE_MOVE:v,PHASE_END:w,PHASE_CANCEL:x},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g,IN:h,OUT:i},a.fn.swipe.pageScroll={NONE:j,HORIZONTAL:q,VERTICAL:r,AUTO:k},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:s}}),function(a){"use strict";angular.module("tmh.dynamicLocale",[]).config(["$provide",function(a){function b(a){return a.$stateful=!0,a}a.decorator("dateFilter",["$delegate",b]),a.decorator("numberFilter",["$delegate",b]),a.decorator("currencyFilter",["$delegate",b])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(a){function b(a,b,c,d){var e=document.createElement("script"),f=document.getElementsByTagName("body")[0],g=!1;e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"complete"!==e.readyState&&"loaded"!==e.readyState||(e.onreadystatechange=null,d(function(){g||(g=!0,f.removeChild(e),b())},30,!1))}:(e.onload=function(){g||(g=!0,f.removeChild(e),b())},e.onerror=function(){g||(g=!0,f.removeChild(e),c())}),e.src=a,e.async=!1,f.appendChild(e)}function c(a,c,d,g,h,k,l){function m(a,b){f===d&&(angular.forEach(a,function(c,d){b[d]?angular.isArray(b[d])&&(a[d].length=b[d].length):delete a[d]}),angular.forEach(b,function(c,d){angular.isArray(b[d])||angular.isObject(b[d])?(a[d]||(a[d]=angular.isArray(b[d])?[]:{}),m(a[d],b[d])):a[d]=b[d]}))}if(j[d])return j[d];var n,o=h.defer();return d===f?o.resolve(c):(n=k.get(d))?(f=d,g.$evalAsync(function(){m(c,n),g.$broadcast("$localeChangeSuccess",d,c),e.put(i,d),o.resolve(c)})):(f=d,j[d]=o.promise,b(a,function(){var a=angular.injector(["ngLocale"]),b=a.get("$locale");m(c,b),k.put(d,b),delete j[d],g.$apply(function(){g.$broadcast("$localeChangeSuccess",d,c),e.put(i,d),o.resolve(c)})},function(){delete j[d],g.$apply(function(){f===d&&(f=c.id),g.$broadcast("$localeChangeError",d),o.reject(d)})},l)),o.promise}var d,e,f,g="angular/i18n/angular-locale_{{locale}}.js",h="tmhDynamicLocaleStorageCache",i=a,j={};this.localeLocationPattern=function(a){return a?(g=a,this):g},this.useStorage=function(a){h=a},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(a){d=a},this.storageKey=function(a){return a?(i=a,this):i},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(a,b,j,k,l,m,n){var o=j(g);return e=b.get(h),a.$evalAsync(function(){var b;(b=e.get(i)||d)&&c(o({locale:b}),k,b,a,l,m,n)}),{set:function(b){return c(o({locale:b}),k,b,a,l,m,n)},get:function(){return f}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(a){return a("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(a){return a("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop])}(window),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(0,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b)).catch(d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h={},i=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else if(angular.isFunction(b[d]))a=b[d](a,c);else{if(!angular.isString(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");if(!h[b[d]])try{h[b[d]]=f.get(b[d])}catch(a){throw h[b[d]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'")}a=h[b[d]](a,c)}}),a},j=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||j(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return i(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b,c){if(angular.isObject(a)){var d=angular.isArray(a)?[]:{};if(c){if(c.indexOf(a)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else c=[];return c.push(a),angular.forEach(a,function(a,e){angular.isFunction(a)||(d[e]=h(a,b,c))}),c.splice(-1,1),d}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={},v=[],w=a,x=[],y="translate-cloak",z=!1,A=!1,B=".",C=!1,D=!1,E=0,F=!0,G="default",H={default:function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b},"iso639-1":function(a){return(a||"").split("_").join("-").split("-")[0].toLowerCase()}},I="2.11.1",J=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if((c=e.languages[a])&&c.length)return c;for(a=0;a<f.length;a++)if((c=e[f[a]])&&c.length)return c;return null};J.displayName="angular-translate/service: getFirstBrowserLanguage";var K=function(){var a=J()||"";return H[G]&&(a=H[G](a)),a};K.displayName="angular-translate/service: getLocale";var L=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},M=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(a){if(a){for(var b=[],c=angular.lowercase(a),d=0,e=v.length;d<e;d++)b.push(angular.lowercase(v[d]));if(L(b,c)>-1)return a;if(f){var g;for(var h in f)if(f.hasOwnProperty(h)){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],L(b,angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&L(b,angular.lowercase(k[0]))>-1?k[0]:void 0}},O=function(a,b){if(!a&&!b)return u;if(a&&!b){if(angular.isString(a))return u[a]}else angular.isObject(u[a])||(u[a]={}),angular.extend(u[a],P(b));return this};this.translations=O,this.cloakClassName=function(a){return a?(y=a,this):y},this.nestedObjectDelimeter=function(a){return a?(B=a,this):B};var P=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?P(h,b.concat(e),c,e):(f=b.length?""+b.join(B)+B+e:e,b.length&&e===d&&(g=""+b.join(B),c[g]="@:"+f),c[f]=h));return c};P.displayName="flatObject",this.addInterpolation=function(a){return x.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(Q(a),this):e};var Q=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return R(a),this};var R=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&L(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!u[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i},this.resolveClientLocale=function(){return K()};var S=function(a){return a?(w=a,this):l?l+w:w};this.storageKey=S,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return z=!!a,this},this.forceAsyncReload=function(a){return A=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},G=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():K();return e=v.length?N(b)||b:b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(v=a,b&&(f=b),this):v},this.useLoaderCache=function(a){return!1===a?s=void 0:!0===a?s=!0:void 0===a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?E:(E=a,this)},this.statefulFilter=function(a){return void 0===a?F:(F=a,this)},this.postProcess=function(a){return t=a||void 0,this},this.keepContent=function(a){return D=!!a,this},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,G,H=b.get(n||"$translateDefaultInterpolation"),J=!1,T={},U={},V=function(a,b,c,h,j){!i&&e&&(i=e);var m=j&&j!==i?N(j)||j:i;if(j&&ka(j),angular.isArray(a)){return function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return V(a,b,c,h,j).then(g,g),f.promise},i=0,k=a.length;i<k;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})}(a)}var n=d.defer();a&&(a=M.apply(a));var o=function(){var a=e?U[e]:U[m];if(l=0,k&&!a){var b=f.get(w);if(a=U[b],g&&g.length){var c=L(g,b);l=0===c?1:0,L(g,e)<0&&g.push(e)}}return a}();if(o){var p=function(){j||(m=i),ga(a,b,c,h,m).then(n.resolve,n.reject)};p.displayName="promiseResolved",o.finally(p)}else ga(a,b,c,h,m).then(n.resolve,n.reject);return n.promise},W=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},X=function(a){i=a,k&&f.put(V.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),H.setLocale(i);var b=function(a,b){T[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(T,b),c.$emit("$translateChangeEnd",{language:a})},Y=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),J=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,P(a))}):angular.extend(d,P(b)),J=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(x.length){var Z=function(a){var c=b.get(a);c.setLocale(e||i),T[c.getInterpolationIdentifier()]=c};Z.displayName="interpolationFactoryAdder",angular.forEach(x,Z)}var $=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(u,a))b.resolve(u[a]);else if(U[a]){var c=function(a){O(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",U[a].then(c,b.reject)}else b.reject();return b.promise},_=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];if("@:"===g.substr(0,2))_(a,g.substr(2),c,e).then(f.resolve,f.reject);else{var h=e.interpolate(d[b],c);h=ja(b,d[b],h,c,a),f.resolve(h)}e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",$(a).then(g,f.reject),f.promise},aa=function(a,b,c,d){var e,f=u[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),e=ja(b,f[b],e,c,a),"@:"===e.substr(0,2))return aa(a,e.substr(2),c,d);d.setLocale(i)}return e},ba=function(a,c,d){if(m){var e=b.get(m)(a,i,c,d);return void 0!==e?e:a}return a},ca=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];_(i,b,c,e).then(function(a){h.resolve(a)},function(){return ca(a+1,b,c,e,f).then(h.resolve,h.reject)})}else f?h.resolve(f):m?h.resolve(ba(b,c)):h.reject(ba(b,c));return h.promise},da=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=aa(f,b,c,d),e||(e=da(a+1,b,c,d))}return e},ea=function(a,b,c,d){return ca(G>0?G:l,a,b,c,d)},fa=function(a,b,c){return da(G>0?G:l,a,b,c)},ga=function(a,b,c,e,f){var h=d.defer(),i=f?u[f]:u,j=c?T[c]:H;if(i&&Object.prototype.hasOwnProperty.call(i,a)){var k=i[a];if("@:"===k.substr(0,2))V(k.substr(2),b,c,e,f).then(h.resolve,h.reject);else{var l=j.interpolate(k,b);l=ja(a,k,l,b,f),h.resolve(l)}}else{var n;m&&!J&&(n=ba(a,b,e)),f&&g&&g.length?ea(a,b,j,e).then(function(a){h.resolve(a)},function(a){h.reject(W(a))}):m&&!J&&n?e?h.resolve(e):h.resolve(n):e?h.resolve(e):h.reject(W(a))}return h.promise},ha=function(a,b,c,d){var e,f=d?u[d]:u,h=H;if(T&&Object.prototype.hasOwnProperty.call(T,c)&&(h=T[c]),f&&Object.prototype.hasOwnProperty.call(f,a)){var i=f[a];"@:"===i.substr(0,2)?e=ha(i.substr(2),b,c,d):(e=h.interpolate(i,b),e=ja(a,i,e,b,d))}else{var j;m&&!J&&(j=ba(a,b)),d&&g&&g.length?(l=0,e=fa(a,b,h)):e=m&&!J&&j?j:W(a)}return e},ia=function(a){j===a&&(j=void 0),U[a]=void 0},ja=function(a,c,d,e,f){var g=t;return g&&("string"==typeof g&&(g=b.get(g)),g)?g(a,c,d,e,f):d},ka=function(a){u[a]||!o||U[a]||(U[a]=Y(a).then(function(a){return O(a.key,a.table),a}))};V.preferredLanguage=function(a){return a&&Q(a),e},V.cloakClassName=function(){return y},V.nestedObjectDelimeter=function(){return B},V.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(R(a),o&&g&&g.length)for(var b=0,c=g.length;b<c;b++)U[g[b]]||(U[g[b]]=Y(g[b]));V.use(V.use())}return h?g[0]:g},V.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=L(g,a);b>-1&&(G=b)}else G=0},V.proposedLanguage=function(){return j},V.storage=function(){return f},V.negotiateLocale=N,V.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=N(a);return v.length>0&&!e?d.reject(a):(e&&(a=e),j=a,!A&&u[a]||!o||U[a]?U[a]?U[a].then(function(a){return j===a.key&&X(a.key),b.resolve(a.key),a},function(a){return!i&&g&&g.length>0?V.use(g[0]).then(b.resolve,b.reject):b.reject(a)}):(b.resolve(a),X(a)):(U[a]=Y(a).then(function(c){return O(c.key,c.table),b.resolve(c.key),j===a&&X(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),U[a].finally(function(){ia(a)})),b.promise)},V.resolveClientLocale=function(){return K()},V.storageKey=function(){return S()},V.isPostCompilingEnabled=function(){return z},V.isForceAsyncReloadEnabled=function(){return A},V.isKeepContent=function(){return D},V.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(u[a]){var h=function(c){return O(c.key,c.table),a===i&&X(i),b(),c};h.displayName="refreshPostProcessor",Y(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;l<m;l++)j.push(Y(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(Y(i));var n=function(a){u={},angular.forEach(a,function(a){O(a.key,a.table)}),i&&X(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},V.instant=function(a,b,c,d){var f=d&&d!==i?N(d)||d:i;if(null===a||angular.isUndefined(a))return a;if(d&&ka(d),angular.isArray(a)){for(var h={},j=0,k=a.length;j<k;j++)h[a[j]]=V.instant(a[j],b,c,d);return h}if(angular.isString(a)&&a.length<1)return a;a&&(a=M.apply(a));var l,n=[];e&&n.push(e),f&&n.push(f),g&&g.length&&(n=n.concat(g));for(var o=0,p=n.length;o<p;o++){var s=n[o];if(u[s]&&void 0!==u[s][a]&&(l=ha(a,b,c,f)),void 0!==l)break}return l||""===l||(q||r?l=W(a):(l=H.interpolate(a,b),m&&!J&&(l=ba(a,b)))),l},V.versionInfo=function(){return I},V.loaderCache=function(){return s},V.directivePriority=function(){return E},V.statefulFilter=function(){return F},V.isReady=function(){return C};var la=d.defer();la.promise.then(function(){C=!0}),V.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),C?b.resolve():la.promise.then(b.resolve),b.promise},V.getAvailableLanguageKeys=function(){return v.length>0?v:null};var ma=c.$on("$translateReady",function(){la.resolve(),ma(),ma=null}),na=c.$on("$translateChangeEnd",function(){la.resolve(),na(),na=null});if(o){if(angular.equals(u,{})&&V.use()&&V.use(V.use()),g&&g.length)for(var oa=function(a){return O(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},pa=0,qa=g.length;pa<qa;pa++){var ra=g[pa];!A&&u[ra]||(U[ra]=Y(ra).then(oa))}}else c.$emit("$translateReady",{language:V.use()});return V}]}function d(a,b){"use strict";var c,d={};return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return"default"},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e;return angular.isNumber(c)?e=""+c:angular.isString(c)?(e=a(c)(d),e=b.sanitize(e,"text")):e="",e},d}function e(a,b,c,d,e,g){"use strict";var h=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,i){var j=i.translateValues?i.translateValues:void 0,k=i.translateInterpolation?i.translateInterpolation:void 0,l=b[0].outerHTML.match(/translate-value-+/i),m="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",n="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,o,p){b.interpolateParams={},b.preText="",b.postText="",b.translateNamespace=f(b);var q={},r=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),l)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},s=function(a){if(angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=h.apply(o.text()),e=d.match(m);if(angular.isArray(e)){b.preText=e[1],b.postText=e[3],q.translate=c(e[2])(b.$parent);var f=d.match(n);angular.isArray(f)&&f[2]&&f[2].length&&(s._unwatchOld=b.$watch(f[2],function(a){q.translate=a,y()}))}else q.translate=d||void 0}else q.translate=a;y()},t=function(a){p.$observe(a,function(b){q[a]=b,y()})};r(b.interpolateParams,p,i);var u=!0;p.$observe("translate",function(a){void 0===a?s(""):""===a&&u||(q.translate=a,y()),u=!1});for(var v in p)p.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&t(v);if(p.$observe("translateDefault",function(a){b.defaultText=a,y()}),j&&p.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),l){var w=function(a){p.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var y=function(){for(var a in q)q.hasOwnProperty(a)&&void 0!==q[a]&&z(a,q[a],b,b.interpolateParams,b.defaultText,b.translateNamespace)},z=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,k,f,d.translateLanguage).then(function(a){A(a,d,!0,b)},function(a){A(a,d,!1,b)})):A(c,d,!1,b)},A=function(b,c,e,f){if(e||void 0!==c.defaultText&&(b=c.defaultText),"translate"===f){(e||!e&&!a.isKeepContent()&&void 0===p.translateKeepContent)&&o.empty().append(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),h=void 0!==i.translateCompile,j=h&&"false"!==i.translateCompile;(g&&!h||j)&&d(o.contents())(c)}else{var k=p.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),o.attr(k,b)}};(j||l||p.translateDefault)&&b.$watch("interpolateParams",y,!0);var B=b.$on("translateLanguageChanged",y),C=g.$on("$translateChangeSuccess",y);o.text().length?s(p.translate?p.translate:""):p.translate&&s(p.translate),y(),b.$on("$destroy",function(){B(),C()})}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(a.cloakClassName())},e=function(){c.removeClass(a.cloakClassName())};return a.onReady(function(){e()}),d(),function(c,f,g){g.translateCloak&&g.translateCloak.length&&(g.$observe("translateCloak",function(b){a(b).then(e,d)}),b.$on("$translateChangeSuccess",function(){a(g.translateCloak).then(e,d)}))}}}}function h(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=f(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function i(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(a,b,c){c.$observe("translateLanguage",function(b){a.translateLanguage=b}),a.$watch("translateLanguage",function(){a.$broadcast("translateLanguageChanged")})}}}}function j(a,b){"use strict";var c=function(c,d,e,f){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e,f)};return b.statefulFilter()&&(c.$stateful=!0),c}function k(a){"use strict";return a("translations")}return a.$inject=["$translate"],c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],d.$inject=["$interpolate","$translateSanitization"],e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],g.$inject=["$translate","$rootScope"],j.$inject=["$parse","$translate"],k.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(a),a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",g),g.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",h),h.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",i),i.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",j),j.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",k),k.displayName="$translationCache","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(0,function(){function a(a,b){"use strict";return function(c){if(!(c&&(angular.isArray(c.files)||angular.isString(c.prefix)&&angular.isString(c.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");c.files||(c.files=[{prefix:c.prefix,suffix:c.suffix}]);for(var d=function(d){if(!d||!angular.isString(d.prefix)||!angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return b(angular.extend({url:[d.prefix,c.key,d.suffix].join(""),method:"GET",params:""},c.$http)).then(function(a){return a.data},function(){return a.reject(c.key)})},e=[],f=c.files.length,g=0;g<f;g++)e.push(d({prefix:c.files[g].prefix,key:c.key,suffix:c.files[g].suffix}));return a.all(e).then(function(a){for(var b=a.length,c={},d=0;d<b;d++)for(var e in a[d])c[e]=a[d][e];return c})}}return a.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",a),a.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define(["messageformat"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("messageformat")):b(MessageFormat)}(0,function(a){function b(b,c,d){"use strict";var e={},f=c.get(d),g=new a("en");return f||(f=c(d)),f.put("en",g),e.setLocale=function(b){(g=f.get(b))||(g=new a(b),f.put(b,g))},e.getInterpolationIdentifier=function(){return"messageformat"},e.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},e.interpolate=function(a,c){c=c||{},c=b.sanitize(c,"params");var d=f.get("mf:"+a);if(!d){for(var e in c)if(c.hasOwnProperty(e)){var h=parseInt(c[e],10);angular.isNumber(h)&&""+h===c[e]&&(c[e]=h)}d=g.compile(a),f.put("mf:"+a,d)}var i=d(c);return b.sanitize(i,"text")},e}return b.$inject=["$translateSanitization","$cacheFactory","TRANSLATE_MF_INTERPOLATION_CACHE"],angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").factory("$translateMessageFormatInterpolation",b),b.displayName="$translateMessageFormatInterpolation","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(0,function(){function a(a){"use strict";return{get:function(b){return a.get(b)},set:function(b,c){a.put(b,c)},put:function(b,c){a.put(b,c)}}}return a.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",a),a.displayName="$translateCookieStorage","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(0,function(){function a(a,b){"use strict";var c=function(){var b;return{get:function(c){return b||(b=a.localStorage.getItem(c)),b},set:function(c,d){b=d,a.localStorage.setItem(c,d)},put:function(c,d){b=d,a.localStorage.setItem(c,d)}}}(),d="localStorage"in a;if(d){var e="pascalprecht.translate.storageTest";try{null!==a.localStorage?(a.localStorage.setItem(e,"foo"),a.localStorage.removeItem(e),d=!0):d=!1}catch(a){d=!1}}return d?c:b}return a.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",a),a.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";function b(a){void 0===a&&(a=window.navigator.userAgent),a=a.toLowerCase();var b=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(silk)/.exec(a)||/(android)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||/(playbook)/.exec(a)||/(bb)/.exec(a)||/(blackberry)/.exec(a)||[],d={},e={browser:b[5]||b[3]||b[1]||"",version:b[2]||b[4]||"0",versionNumber:b[4]||b[2]||"0",platform:c[0]||""};if(e.browser&&(d[e.browser]=!0,d.version=e.version,d.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(d[e.platform]=!0),(d.android||d.bb||d.blackberry||d.ipad||d.iphone||d.ipod||d.kindle||d.playbook||d.silk||d["windows phone"])&&(d.mobile=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv||d.iemobile){var f="msie";e.browser=f,d[f]=!0}if(d.edge){delete d.edge;var g="msedge";e.browser=g,d[g]=!0}if(d.safari&&d.blackberry){var h="blackberry";e.browser=h,d[h]=!0}if(d.safari&&d.playbook){var i="playbook";e.browser=i,d[i]=!0}if(d.bb){var j="blackberry";e.browser=j,d[j]=!0}if(d.opr){var k="opera";e.browser=k,d[k]=!0}if(d.safari&&d.android){var l="android";e.browser=l,d[l]=!0}if(d.safari&&d.kindle){var m="kindle";e.browser=m,d[m]=!0}if(d.safari&&d.silk){var n="silk";e.browser=n,d[n]=!0}return d.name=e.browser,d.platform=e.platform,d}return window.jQBrowser=b(window.navigator.userAgent),window.jQBrowser.uaMatch=b,a&&(a.browser=window.jQBrowser),window.jQBrowser}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b){return!b.nodeName||-1!==a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])}function c(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}var d=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};return d.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,f,g){"object"==typeof f&&(g=f,f=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},d.defaults,g),f=f||g.duration;var h=g.queue&&g.axis.length>1;return h&&(f/=2),g.offset=c(g.offset),g.over=c(g.over),this.each(function(){function i(b){var c=a.extend({},g,{queue:!0,duration:f,complete:b&&function(){b.call(l,n,g)}});m.animate(o,c)}if(null!==e){var j,k=b(this),l=k?this.contentWindow||window:this,m=a(l),n=e,o={};switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=c(n);break}n=k?a(n):a(n,l);case"object":if(0===n.length)return;(n.is||n.style)&&(j=(n=a(n)).offset())}var p=a.isFunction(g.offset)&&g.offset(l,n)||g.offset;a.each(g.axis.split(""),function(a,b){var c="x"===b?"Left":"Top",e=c.toLowerCase(),f="scroll"+c,q=m[f](),r=d.max(l,b);if(j)o[f]=j[e]+(k?0:q-m.offset()[e]),g.margin&&(o[f]-=parseInt(n.css("margin"+c),10)||0,o[f]-=parseInt(n.css("border"+c+"Width"),10)||0),o[f]+=p[e]||0,g.over[e]&&(o[f]+=n["x"===b?"width":"height"]()*g.over[e]);else{var s=n[e];o[f]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*r:s}g.limit&&/^\d+$/.test(o[f])&&(o[f]=o[f]<=0?0:Math.min(o[f],r)),!a&&g.axis.length>1&&(q===o[f]?o={}:h&&(i(g.onAfterFirst),o={}))}),i(g.onAfter)}})},d.max=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e;if(!b(c))return c[f]-a(c)[e.toLowerCase()]();var g="client"+e,h=c.ownerDocument||c.document,i=h.documentElement,j=h.body;return Math.max(i[f],j[f])-Math.min(i[g],j[g])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(b){return a(b.elem)[b.prop]()},set:function(b){var c=this.get(b);if(b.options.interrupt&&b._last&&b._last!==c)return a(b.elem).stop();var d=Math.round(b.now);c!==d&&(a(b.elem)[b.prop](d),b._last=this.get(b))}},d}),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return e.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";function b(a){return"string"==typeof a?parseInt(a,10):~~a}var c={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},d=0,e=function(){var a=d++;return function(b){var c=".perfect-scrollbar-"+a;return void 0===b?c:b+c}},f="WebkitAppearance"in document.documentElement.style;a.fn.perfectScrollbar=function(d,g){return this.each(function(){function h(a,c){var d=a+c,e=C-K;L=d<0?0:d>e?e:d;var f=b(L*(E-C)/(C-K));z.scrollTop(f)}function i(a,c){var d=a+c,e=B-G;H=d<0?0:d>e?e:d;var f=b(H*(D-B)/(B-G));z.scrollLeft(f)}function j(a){return y.minScrollbarLength&&(a=Math.max(a,y.minScrollbarLength)),y.maxScrollbarLength&&(a=Math.min(a,y.maxScrollbarLength)),a}function k(){var a={width:I};a.left=N?z.scrollLeft()+B-D:z.scrollLeft(),T?a.bottom=S-z.scrollTop():a.top=U+z.scrollTop(),Q.css(a);var b={top:z.scrollTop(),height:M};$?b.right=N?D-z.scrollLeft()-Z-Y.outerWidth():Z-z.scrollLeft():b.left=N?z.scrollLeft()+2*B-D-_-Y.outerWidth():_+z.scrollLeft(),X.css(b),R.css({left:H,width:G-V}),Y.css({top:L,height:K-aa})}function l(){z.removeClass("ps-active-x"),z.removeClass("ps-active-y"),B=y.includePadding?z.innerWidth():z.width(),C=y.includePadding?z.innerHeight():z.height(),D=z.prop("scrollWidth"),E=z.prop("scrollHeight"),!y.suppressScrollX&&B+y.scrollXMarginOffset<D?(F=!0,I=B-W,G=j(b(I*B/D)),H=b(z.scrollLeft()*(I-G)/(D-B))):(F=!1,G=0,H=0,z.scrollLeft(0)),!y.suppressScrollY&&C+y.scrollYMarginOffset<E?(J=!0,M=C-ba,K=j(b(M*C/E)),L=b(z.scrollTop()*(M-K)/(E-C))):(J=!1,K=0,L=0,z.scrollTop(0)),H>=I-G&&(H=I-G),L>=M-K&&(L=M-K),k(),F&&z.addClass("ps-active-x"),J&&z.addClass("ps-active-y")}function m(){var b,c,d=function(a){i(b,a.pageX-c),l(),a.stopPropagation(),a.preventDefault()},e=function(b){z.removeClass("ps-in-scrolling"),a(P).unbind(O("mousemove"),d)};R.bind(O("mousedown"),function(f){c=f.pageX,b=R.position().left,z.addClass("ps-in-scrolling"),a(P).bind(O("mousemove"),d),a(P).one(O("mouseup"),e),f.stopPropagation(),f.preventDefault()}),b=c=null}function n(){var b,c,d=function(a){h(b,a.pageY-c),l(),a.stopPropagation(),a.preventDefault()},e=function(b){z.removeClass("ps-in-scrolling"),a(P).unbind(O("mousemove"),d)};Y.bind(O("mousedown"),function(f){c=f.pageY,b=Y.position().top,z.addClass("ps-in-scrolling"),a(P).bind(O("mousemove"),d),a(P).one(O("mouseup"),e),f.stopPropagation(),f.preventDefault()}),b=c=null}function o(a,b){var c=z.scrollTop();if(0===a){if(!J)return!1;if(0===c&&b>0||c>=E-C&&b<0)return!y.wheelPropagation}var d=z.scrollLeft();if(0===b){if(!F)return!1;if(0===d&&a<0||d>=D-B&&a>0)return!y.wheelPropagation}return!0}function p(a,b){var c=z.scrollTop(),d=z.scrollLeft(),e=Math.abs(a),f=Math.abs(b);if(f>e){if(b<0&&c===E-C||b>0&&0===c)return!y.swipePropagation}else if(e>f&&(a<0&&d===D-B||a>0&&0===d))return!y.swipePropagation;return!0}function q(){function a(a){var b=a.originalEvent.deltaX,c=-1*a.originalEvent.deltaY;return void 0!==b&&void 0!==c||(b=-1*a.originalEvent.wheelDeltaX/6,c=a.originalEvent.wheelDeltaY/6),a.originalEvent.deltaMode&&1===a.originalEvent.deltaMode&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.originalEvent.wheelDelta),[b,c]}function b(b){if(f||!(z.find("select:focus").length>0)){var d=a(b),e=d[0],g=d[1];c=!1,y.useBothWheelAxes?J&&!F?(g?z.scrollTop(z.scrollTop()-g*y.wheelSpeed):z.scrollTop(z.scrollTop()+e*y.wheelSpeed),c=!0):F&&!J&&(e?z.scrollLeft(z.scrollLeft()+e*y.wheelSpeed):z.scrollLeft(z.scrollLeft()-g*y.wheelSpeed),c=!0):(z.scrollTop(z.scrollTop()-g*y.wheelSpeed),z.scrollLeft(z.scrollLeft()+e*y.wheelSpeed)),l(),c=c||o(e,g),c&&(b.stopPropagation(),b.preventDefault())}}var c=!1;void 0!==window.onwheel?z.bind(O("wheel"),b):void 0!==window.onmousewheel&&z.bind(O("mousewheel"),b)}function r(){var b=!1;z.bind(O("mouseenter"),function(a){b=!0}),z.bind(O("mouseleave"),function(a){b=!1});var c=!1;a(P).bind(O("keydown"),function(d){if((!d.isDefaultPrevented||!d.isDefaultPrevented())&&b){var e=document.activeElement?document.activeElement:P.activeElement;if(e){for(;e.shadowRoot;)e=e.shadowRoot.activeElement;if(a(e).is(":input,[contenteditable]"))return}var f=0,g=0;switch(d.which){case 37:f=-30;break;case 38:g=30;break;case 39:f=30;break;case 40:g=-30;break;case 33:g=90;break;case 32:case 34:g=-90;break;case 35:g=d.ctrlKey?-E:-C;break;case 36:g=d.ctrlKey?z.scrollTop():C;break;default:return}z.scrollTop(z.scrollTop()-g),z.scrollLeft(z.scrollLeft()+f),c=o(f,g),c&&d.preventDefault()}})}function s(){function a(a){a.stopPropagation()}Y.bind(O("click"),a),X.bind(O("click"),function(a){var c=b(K/2),d=a.pageY-X.offset().top-c,e=C-K,f=d/e;f<0?f=0:f>1&&(f=1),z.scrollTop((E-C)*f)}),R.bind(O("click"),a),Q.bind(O("click"),function(a){var c=b(G/2),d=a.pageX-Q.offset().left-c,e=B-G,f=d/e;f<0?f=0:f>1&&(f=1),z.scrollLeft((D-B)*f)})}function t(){function b(){var a=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return 0===a.rangeCount?null:a.getRangeAt(0).commonAncestorContainer}function c(){e||(e=setInterval(function(){if(!A())return void clearInterval(e);z.scrollTop(z.scrollTop()+f.top),z.scrollLeft(z.scrollLeft()+f.left),l()},50))}function d(){e&&(clearInterval(e),e=null),z.removeClass("ps-in-scrolling"),z.removeClass("ps-in-scrolling")}var e=null,f={top:0,left:0},g=!1;a(P).bind(O("selectionchange"),function(c){a.contains(z[0],b())?g=!0:(g=!1,d())}),a(window).bind(O("mouseup"),function(a){g&&(g=!1,d())}),a(window).bind(O("mousemove"),function(a){if(g){var b={x:a.pageX,y:a.pageY},e=z.offset(),h={left:e.left,right:e.left+z.outerWidth(),top:e.top,bottom:e.top+z.outerHeight()};b.x<h.left+3?(f.left=-5,z.addClass("ps-in-scrolling")):b.x>h.right-3?(f.left=5,z.addClass("ps-in-scrolling")):f.left=0,b.y<h.top+3?(h.top+3-b.y<5?f.top=-5:f.top=-20,z.addClass("ps-in-scrolling")):b.y>h.bottom-3?(b.y-h.bottom+3<5?f.top=5:f.top=20,z.addClass("ps-in-scrolling")):f.top=0,0===f.top&&0===f.left?d():c()}})}function u(b,c){function d(a,b){z.scrollTop(z.scrollTop()-b),z.scrollLeft(z.scrollLeft()-a),l()}function e(a){r=!0}function f(a){r=!1}function g(a){return a.originalEvent.targetTouches?a.originalEvent.targetTouches[0]:a.originalEvent}function h(a){var b=a.originalEvent;return!(!b.targetTouches||1!==b.targetTouches.length)||!(!b.pointerType||"mouse"===b.pointerType||b.pointerType===b.MSPOINTER_TYPE_MOUSE)}function i(a){if(h(a)){s=!0;var b=g(a);m.pageX=b.pageX,m.pageY=b.pageY,n=(new Date).getTime(),null!==q&&clearInterval(q),a.stopPropagation()}}function j(a){if(!r&&s&&h(a)){var b=g(a),c={pageX:b.pageX,pageY:b.pageY},e=c.pageX-m.pageX,f=c.pageY-m.pageY;d(e,f),m=c;var i=(new Date).getTime(),j=i-n;j>0&&(o.x=e/j,o.y=f/j,n=i),p(e,f)&&(a.stopPropagation(),a.preventDefault())}}function k(a){!r&&s&&(s=!1,clearInterval(q),q=setInterval(function(){return A()?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?void clearInterval(q):(d(30*o.x,30*o.y),o.x*=.8,void(o.y*=.8)):void clearInterval(q)},10))}var m={},n=0,o={},q=null,r=!1,s=!1;b&&(a(window).bind(O("touchstart"),e),a(window).bind(O("touchend"),f),z.bind(O("touchstart"),i),z.bind(O("touchmove"),j),z.bind(O("touchend"),k)),c&&(window.PointerEvent?(a(window).bind(O("pointerdown"),e),a(window).bind(O("pointerup"),f),z.bind(O("pointerdown"),i),z.bind(O("pointermove"),j),z.bind(O("pointerup"),k)):window.MSPointerEvent&&(a(window).bind(O("MSPointerDown"),e),a(window).bind(O("MSPointerUp"),f),z.bind(O("MSPointerDown"),i),z.bind(O("MSPointerMove"),j),z.bind(O("MSPointerUp"),k)))}function v(){z.bind(O("scroll"),function(a){l()})}function w(){z.unbind(O()),a(window).unbind(O()),a(P).unbind(O()),z.data("perfect-scrollbar",null),z.data("perfect-scrollbar-update",null),z.data("perfect-scrollbar-destroy",null),R.remove(),Y.remove(),Q.remove(),X.remove(),z=Q=X=R=Y=F=J=B=C=D=E=G=H=S=T=U=K=L=Z=$=_=N=O=null}function x(){l(),v(),m(),n(),s(),t(),q(),(ca||da)&&u(ca,da),y.useKeyboard&&r(),z.data("perfect-scrollbar",z),z.data("perfect-scrollbar-update",l),z.data("perfect-scrollbar-destroy",w)}var y=a.extend(!0,{},c),z=a(this),A=function(){return!!z};if("object"==typeof d?a.extend(!0,y,d):g=d,"update"===g)return z.data("perfect-scrollbar-update")&&z.data("perfect-scrollbar-update")(),z;if("destroy"===g)return z.data("perfect-scrollbar-destroy")&&z.data("perfect-scrollbar-destroy")(),z;if(z.data("perfect-scrollbar"))return z.data("perfect-scrollbar");z.addClass("ps-container");var B,C,D,E,F,G,H,I,J,K,L,M,N="rtl"===z.css("direction"),O=e(),P=this.ownerDocument||document,Q=a("<div class='ps-scrollbar-x-rail'>").appendTo(z),R=a("<div class='ps-scrollbar-x'>").appendTo(Q),S=b(Q.css("bottom")),T=S===S,U=T?null:b(Q.css("top")),V=b(Q.css("borderLeftWidth"))+b(Q.css("borderRightWidth")),W=b(Q.css("marginLeft"))+b(Q.css("marginRight")),X=a("<div class='ps-scrollbar-y-rail'>").appendTo(z),Y=a("<div class='ps-scrollbar-y'>").appendTo(X),Z=b(X.css("right")),$=Z===Z,_=$?null:b(X.css("left")),aa=b(X.css("borderTopWidth"))+b(X.css("borderBottomWidth")),ba=b(X.css("marginTop"))+b(X.css("marginBottom")),ca="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,da=null!==window.navigator.msMaxTouchPoints;return x(),z})}}),function(a){a.fn.ellipsis=function(b){var c={row:1,onlyFullWords:!1,char:"...",callback:function(){},position:"tail"};return b=a.extend(c,b),this.each(function(){var c=a(this),d=c.text(),e=d,f=e.length,g=c.height();c.text("a");var h=parseFloat(c.css("lineHeight"),10),i=c.height(),j=h>i?h-i:0,k=j*(b.row-1)+i*b.row;if(g<=k)return c.text(d),void b.callback.call(this);var l=1,m=0,n=d.length;if("tail"===b.position){for(;l<n;)m=Math.ceil((l+n)/2),c.text(d.slice(0,m)+b.char),c.height()<=k?l=m:n=m-1;d=d.slice(0,l),b.onlyFullWords&&(d=d.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),d+=b.char}else if("middle"===b.position){for(var o=0;l<n;)m=Math.ceil((l+n)/2),o=Math.max(f-m,0),c.text(e.slice(0,Math.floor((f-o)/2))+b.char+e.slice(Math.floor((f+o)/2),f)),c.height()<=k?l=m:n=m-1;o=Math.max(f-l,0);var p=e.slice(0,Math.floor((f-o)/2)),q=e.slice(Math.floor((f+o)/2),f);b.onlyFullWords&&(p=p.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),d=p+b.char+q}c.text(d),b.callback.call(this)}),this}}(jQuery),angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(a){"use strict";function b(a){try{return decodeURIComponent(a)}catch(a){}}return function(){function c(c,d,e){var f,g,h,i,j,k,l,m,n;e=e||{};var o=e.decode||b,p=e.encode||encodeURIComponent;if(void 0!==d)return d="object"==typeof d?JSON.stringify(d):String(d),"number"==typeof e.expires&&(n=e.expires,e.expires=new Date,-1===n?e.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==e.expirationUnit?"hours"===e.expirationUnit?e.expires.setHours(e.expires.getHours()+n):"minutes"===e.expirationUnit?e.expires.setMinutes(e.expires.getMinutes()+n):"seconds"===e.expirationUnit?e.expires.setSeconds(e.expires.getSeconds()+n):"milliseconds"===e.expirationUnit?e.expires.setMilliseconds(e.expires.getMilliseconds()+n):e.expires.setDate(e.expires.getDate()+n):e.expires.setDate(e.expires.getDate()+n)),a[0].cookie=[p(c),"=",p(d),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("");for(g=[],m=a[0].cookie,m&&(g=m.split("; ")),f={},l=!1,h=0;h<g.length;++h)if(g[h]){if(i=g[h],j=i.indexOf("="),k=i.substring(0,j),d=o(i.substring(j+1)),angular.isUndefined(d))continue;if(void 0===c||c===k){try{f[k]=JSON.parse(d)}catch(a){f[k]=d}if(c===k)return f[k];l=!0}}return l&&void 0===c?f:void 0}return c.remove=function(a,b){var d=void 0!==c(a);return d&&(b||(b={}),b.expires=-1,c(a,"",b)),d},c}()}]),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)||(e=""+e,g[a]=e),e!==h[a]&&(d.cookies(a,e),i=!0);if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(){"use strict";var a={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},b=9007199254740991,c=["text","email","url"],d=angular.module("ngTagsInput",[]);d.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(d,e,f,g,h){function i(a,b,c,d){var e,f,g,i={};return e=function(b){return h.safeToString(b[a.displayProperty])},f=function(b,c){b[a.displayProperty]=c},g=function(b){var d=e(b);return d&&d.length>=a.minLength&&d.length<=a.maxLength&&a.allowedTagsPattern.test(d)&&!h.findInObjectArray(i.items,b,a.keyProperty||a.displayProperty)&&c({$tag:b})},i.items=[],i.addText=function(a){var b={};return f(b,a),i.add(b)},i.add=function(c){var d=e(c);return a.replaceSpacesWithDashes&&(d=h.replaceSpacesWithDashes(d)),f(c,d),g(c)?(i.items.push(c),b.trigger("tag-added",{$tag:c})):d&&b.trigger("invalid-tag",{$tag:c}),c},i.remove=function(a){var c=i.items[a];if(d({$tag:c}))return i.items.splice(a,1),i.clearSelection(),b.trigger("tag-removed",{$tag:c}),c},i.select=function(a){a<0?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a]},i.selectPrior=function(){i.select(--i.index)},i.selectNext=function(){i.select(++i.index)},i.removeSelected=function(){return i.remove(i.index)},i.clearSelection=function(){i.selected=null,i.index=-1},i.clearSelection(),i}function j(a){return-1!==c.indexOf(a)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(a,c,d){a.events=h.simplePubSub(),g.load("tagsInput",a,c,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",j],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,b],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,b],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),a.tagList=new i(a.options,a.events,h.handleUndefinedResult(a.onTagAdding,!0),h.handleUndefinedResult(a.onTagRemoving,!0)),this.registerAutocomplete=function(){var b=d.find("input");return{addTag:function(b){return a.tagList.add(b)},focusInput:function(){b[0].focus()},getTags:function(){return a.tags},getCurrentTagText:function(){return a.newTag.text},getOptions:function(){return a.options},on:function(b,c){return a.events.on(b,c),this}}},this.registerTagItem=function(){return{getOptions:function(){return a.options},removeTag:function(b){a.disabled||a.tagList.remove(b)}}}}],link:function(b,c,g,i){var j,k=[a.enter,a.comma,a.space,a.backspace,a.delete,a.left,a.right],l=b.tagList,m=b.events,n=b.options,o=c.find("input"),p=["minTags","maxTags","allowLeftoverText"];j=function(){i.$setValidity("maxTags",b.tags.length<=n.maxTags),i.$setValidity("minTags",b.tags.length>=n.minTags),i.$setValidity("leftoverText",!(!b.hasFocus&&!n.allowLeftoverText)||!b.newTag.text)},i.$isEmpty=function(a){return!a||!a.length},b.newTag={text:"",invalid:null,setText:function(a){this.text=a,m.trigger("input-change",a)}},b.track=function(a){return a[n.keyProperty||n.displayProperty]},b.$watch("tags",function(a){b.tags=h.makeObjectArray(a,n.displayProperty),l.items=b.tags}),b.$watch("tags.length",function(){j()}),g.$observe("disabled",function(a){b.disabled=a}),b.eventHandlers={input:{change:function(a){m.trigger("input-change",a)},keydown:function(a){m.trigger("input-keydown",a)},focus:function(){b.hasFocus||(b.hasFocus=!0,m.trigger("input-focus"))},blur:function(){d(function(){var a=e.prop("activeElement"),d=a===o[0],f=c[0].contains(a);!d&&f||(b.hasFocus=!1,m.trigger("input-blur"))})},paste:function(a){a.getTextData=function(){var b=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData;return b?b.getData("text/plain"):f.clipboardData.getData("Text")},m.trigger("input-paste",a)}},host:{click:function(){b.disabled||o[0].focus()}}},m.on("tag-added",b.onTagAdded).on("invalid-tag",b.onInvalidTag).on("tag-removed",b.onTagRemoved).on("tag-added",function(){b.newTag.setText("")}).on("tag-added tag-removed",function(){i.$setViewValue(b.tags)}).on("invalid-tag",function(){b.newTag.invalid=!0}).on("option-change",function(a){-1!==p.indexOf(a.name)&&j()}).on("input-change",function(){l.clearSelection(),b.newTag.invalid=null}).on("input-focus",function(){c.triggerHandler("focus"),i.$setValidity("leftoverText",!0)}).on("input-blur",function(){n.addOnBlur&&!n.addFromAutocompleteOnly&&l.addText(b.newTag.text),c.triggerHandler("blur"),j()}).on("input-keydown",function(c){var d,e,f,g,h=c.keyCode,i=c.shiftKey||c.altKey||c.ctrlKey||c.metaKey,j={};if(!i&&-1!==k.indexOf(h)){if(j[a.enter]=n.addOnEnter,j[a.comma]=n.addOnComma,j[a.space]=n.addOnSpace,d=!n.addFromAutocompleteOnly&&j[h],e=(h===a.backspace||h===a.delete)&&l.selected,g=h===a.backspace&&0===b.newTag.text.length&&n.enableEditingLastTag,f=(h===a.backspace||h===a.left||h===a.right)&&0===b.newTag.text.length&&!n.enableEditingLastTag,d)l.addText(b.newTag.text);else if(g){var m;l.selectPrior(),m=l.removeSelected(),m&&b.newTag.setText(m[n.displayProperty])}else e?l.removeSelected():f&&(h===a.left||h===a.backspace?l.selectPrior():h===a.right&&l.selectNext());(d||f||e||g)&&c.preventDefault()}}).on("input-paste",function(a){if(n.addOnPaste){var b=a.getTextData(),c=b.split(n.pasteSplitPattern);c.length>1&&(c.forEach(function(a){l.addText(a)}),a.preventDefault())}})}}}]),d.directive("tiTagItem",["tiUtil",function(a){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(b,c,d,e){var f=e.registerTagItem(),g=f.getOptions();b.$$template=g.template,b.$$removeTagSymbol=g.removeTagSymbol,b.$getDisplayText=function(){return a.safeToString(b.data[g.displayProperty])},b.$removeTag=function(){f.removeTag(b.$index)},b.$watch("$parent.$index",function(a){b.$index=a})}}}]),d.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(b,c,d,e,f,g){function h(a,b,c){var d,f,h,i={};return h=function(){return b.tagsInput.keyProperty||b.tagsInput.displayProperty},d=function(a,c){return a.filter(function(a){return!g.findInObjectArray(c,a,h(),function(a,c){return b.tagsInput.replaceSpacesWithDashes&&(a=g.replaceSpacesWithDashes(a),c=g.replaceSpacesWithDashes(c)),g.defaultComparer(a,c)})})},i.reset=function(){f=null,i.items=[],i.visible=!1,i.index=-1,i.selected=null,i.query=null},i.show=function(){b.selectFirstMatch?i.select(0):i.selected=null,i.visible=!0},i.load=g.debounce(function(c,j){i.query=c;var k=e.when(a({$query:c}));f=k,k.then(function(a){k===f&&(a=g.makeObjectArray(a.data||a,h()),a=d(a,j),i.items=a.slice(0,b.maxResultsToShow),i.items.length>0?i.show():i.reset())})},b.debounceDelay),i.selectNext=function(){i.select(++i.index)},i.selectPrior=function(){i.select(--i.index)},i.select=function(a){a<0?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a],c.trigger("suggestion-selected",a)},i.reset(),i}function i(a,b){var c=a.find("li").eq(b),d=c.parent(),e=c.prop("offsetTop"),f=c.prop("offsetHeight"),g=d.prop("clientHeight"),h=d.prop("scrollTop");e<h?d.prop("scrollTop",e):e+f>g+h&&d.prop("scrollTop",e+f-g)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(a,b,c){a.events=g.simplePubSub(),f.load("autoComplete",a,c,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),a.suggestionList=new h(a.source,a.options,a.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return a.options},getQuery:function(){return a.suggestionList.query}}}}],link:function(b,c,d,e){var f,g=[a.enter,a.tab,a.escape,a.up,a.down],h=b.suggestionList,j=e.registerAutocomplete(),k=b.options,l=b.events;k.tagsInput=j.getOptions(),f=function(a){return a&&a.length>=k.minLength||!a&&k.loadOnEmpty},b.addSuggestionByIndex=function(a){h.select(a),b.addSuggestion()},b.addSuggestion=function(){var a=!1;return h.selected&&(j.addTag(angular.copy(h.selected)),h.reset(),j.focusInput(),a=!0),a},b.track=function(a){return a[k.tagsInput.keyProperty||k.tagsInput.displayProperty]},j.on("tag-added invalid-tag input-blur",function(){h.reset()}).on("input-change",function(a){f(a)?h.load(a,j.getTags()):h.reset()}).on("input-focus",function(){var a=j.getCurrentTagText();k.loadOnFocus&&f(a)&&h.load(a,j.getTags())}).on("input-keydown",function(c){var d=c.keyCode,e=!1;if(-1!==g.indexOf(d))return h.visible?d===a.down?(h.selectNext(),e=!0):d===a.up?(h.selectPrior(),e=!0):d===a.escape?(h.reset(),e=!0):d!==a.enter&&d!==a.tab||(e=b.addSuggestion()):d===a.down&&b.options.loadOnDownArrow&&(h.load(j.getCurrentTagText(),j.getTags()),e=!0),e?(c.preventDefault(),c.stopImmediatePropagation(),!1):void 0}),l.on("suggestion-selected",function(a){i(c,a)})}}}]),d.directive("tiAutocompleteMatch",["$sce","tiUtil",function(a,b){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(c,d,e,f){var g=f.registerAutocompleteMatch(),h=g.getOptions();c.$$template=h.template,c.$index=c.$parent.$index,c.$highlight=function(c){return h.highlightMatchedText&&(c=b.safeHighlight(c,g.getQuery())),a.trustAsHtml(c)},c.$getDisplayText=function(){return b.safeToString(c.data[h.displayProperty||h.tagsInput.displayProperty])}}}}]),d.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),d.directive("tiAutosize",["tagsInputConfig",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g,h=a.getTextAutosizeThreshold();f=angular.element('<span class="input"></span>'),f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),c.parent().append(f),g=function(a){var b,e=a;return angular.isString(e)&&0===e.length&&(e=d.placeholder),e&&(f.text(e),f.css("display",""),b=f.prop("offsetWidth"),f.css("display","none")),c.css("width",b?b+h+"px":""),a},e.$parsers.unshift(g),e.$formatters.unshift(g),d.$observe("placeholder",function(a){e.$modelValue||g(a)})}}}]),d.directive("tiBindAttrs",function(){return function(a,b,c){a.$watch(c.tiBindAttrs,function(a){angular.forEach(a,function(a,b){c.$set(b,a)})},!0)}}),d.provider("tagsInputConfig",function(){var a={},b={},c=3;this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.setTextAutosizeThreshold=function(a){return c=a,this},this.$get=["$interpolate",function(d){var e={};return e[String]=function(a){return a},e[Number]=function(a){return parseInt(a,10)},e[Boolean]=function(a){return"true"===a.toLowerCase()},e[RegExp]=function(a){return new RegExp(a)},{load:function(c,f,g,h){var i=function(){return!0};f.options={},angular.forEach(h,function(h,j){var k,l,m,n,o,p;k=h[0],l=h[1],m=h[2]||i,n=e[k],o=function(){var b=a[c]&&a[c][j];return angular.isDefined(b)?b:l},p=function(a){f.options[j]=a&&m(a)?n(a):o()},b[c]&&b[c][j]?g.$observe(j,function(a){p(a),f.events.trigger("option-change",{name:j,newValue:a})}):p(g[j]&&d(g[j])(f.$parent))})},getTextAutosizeThreshold:function(){return c}}}]}),d.factory("tiUtil",["$timeout",function(a){var b={};return b.debounce=function(b,c){var d;return function(){var e=arguments;a.cancel(d),d=a(function(){b.apply(null,e)},c)}},b.makeObjectArray=function(a,b){return a=a||[],a.length>0&&!angular.isObject(a[0])&&a.forEach(function(c,d){a[d]={},a[d][b]=c}),a},b.findInObjectArray=function(a,c,d,e){var f=null;return e=e||b.defaultComparer,a.some(function(a){if(e(a[d],c[d]))return f=a,!0}),f},b.defaultComparer=function(a,c){return b.safeToString(a).toLowerCase()===b.safeToString(c).toLowerCase()},b.safeHighlight=function(a,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!c)return a;a=b.encodeHTML(a),c=b.encodeHTML(c);var e=new RegExp("&[^;]+;|\\b"+d(c),"gi");return-1!==a.indexOf("@")&&(e=new RegExp("^"+d(c),"gi")),a.replace(e,function(a){return a.toLowerCase()===c.toLowerCase()?"<em>"+a+"</em>":a})},b.safeToString=function(a){return angular.isUndefined(a)||null==a?"":a.toString().trim()},b.encodeHTML=function(a){return b.safeToString(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.handleUndefinedResult=function(a,b){return function(){var c=a.apply(null,arguments);return angular.isUndefined(c)?b:c}},b.replaceSpacesWithDashes=function(a){return b.safeToString(a).replace(/\s/g,"-")},b.simplePubSub=function(){var a={};return{on:function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},trigger:function(c,d){return(a[c]||[]).every(function(a){return b.handleUndefinedResult(a,!0)(d)}),this}}},b}]),d.run(["$templateCache",function(a){a.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }"><ti-tag-item data="tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-change="eventHandlers.input.change(newTag.text)" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize=""></div></div>'),a.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="$$removeTagSymbol"></a>'),a.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="item"></ti-autocomplete-match></li></ul></div>'),a.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;return a(this).one("bsTransitionEnd",function(){c=!0}),setTimeout(function(){c||a(d).trigger(a.support.transition.end)},b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";var b=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};b.VERSION="3.3.7",b.TRANSITION_DURATION=150,b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},b.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return(b=a.extend({},this.getDefaults(),this.$element.data(),b)).delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState)c.hoverState="in";else{if(clearTimeout(c.timeout),c.hoverState="in",!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)}},b.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue()){if(clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)}},b.prototype.show=function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(c.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(b.TRANSITION_DURATION):q()}},b.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(c){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),c&&c()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(b.TRANSITION_DURATION):d(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(b){var c=(b=b||this.$element)[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},b.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},b.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.VERSION="3.3.7",b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery);var bind=function(a,b){return function(){return a.apply(b,arguments)}};!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return a.Tour=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Tour=b(a.jQuery)}(window,function(a){var b;return b=window.document,function(){function c(b){this._showPopoverAndOverlay=bind(this._showPopoverAndOverlay,this);var c;try{c=window.localStorage}catch(a){c=!1}this._options=a.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:c,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(a,b){},afterGetState:function(a,b){},afterRemoveState:function(a){},onStart:function(a){},onEnd:function(a){},onShow:function(a){},onShown:function(a){},onHide:function(a){},onHidden:function(a){},onNext:function(a){},onPrev:function(a){},onPause:function(a,b){},onResume:function(a,b){},onRedirectError:function(a){}},b),this._force=!1,this._inited=!1,this._current=null,this.backdrops=[]}return c.prototype.addSteps=function(a){var b,c,d;for(b=0,c=a.length;b<c;b++)d=a[b],this.addStep(d);return this},c.prototype.addStep=function(a){return this._options.steps.push(a),this},c.prototype.getStep=function(b){if(null!=this._options.steps[b])return a.extend({id:"step-"+b,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:b===this._options.steps.length-1?-1:b+1,prev:b-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[b].element,backdropElement:this._options.steps[b].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[b])},c.prototype.init=function(a){return this._force=a,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(a){return function(){return a.showStep(a._current)}}(this)),this._onScroll(function(a){return function(){return a._showPopoverAndOverlay(a._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},c.prototype.start=function(a){var b;return null==a&&(a=!1),this._inited||this.init(a),null===this._current&&(b=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(b,this.showStep,0)),this},c.prototype.next=function(){var a;return a=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(a,this._showNextStep)},c.prototype.prev=function(){var a;return a=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(a,this._showPrevStep)},c.prototype.goTo=function(a){var b;return b=this.hideStep(this._current,a),this._callOnPromiseDone(b,this.showStep,a)},c.prototype.end=function(){var c,d;return c=function(c){return function(d){if(a(b).off("click.tour-"+c._options.name),a(b).off("keyup.tour-"+c._options.name),a(window).off("resize.tour-"+c._options.name),a(window).off("scroll.tour-"+c._options.name),c._setState("end","yes"),c._inited=!1,c._force=!1,c._clearTimer(),null!=c._options.onEnd)return c._options.onEnd(c)}}(this),d=this.hideStep(this._current),this._callOnPromiseDone(d,c)},c.prototype.ended=function(){return!this._force&&!!this._getState("end")},c.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},c.prototype.pause=function(){var a;return(a=this.getStep(this._current))&&a.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=a.onPause?a.onPause(this,this._duration):void 0):this},c.prototype.resume=function(){var a;return(a=this.getStep(this._current))&&a.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||a.duration,this._timer=window.setTimeout(function(a){return function(){return a._isLast()?a.next():a.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=a.onResume&&this._duration!==a.duration?a.onResume(this,this._duration):void 0):this},c.prototype.hideStep=function(b,c){var d,e,f,g;if(g=this.getStep(b))return this._clearTimer(),f=this._makePromise(null!=g.onHide?g.onHide(this,b):void 0),e=function(d){return function(e){var f,h;if((f=a(g.element)).data("bs.popover")||f.data("popover")||(f=a("body")),f.popover("destroy").removeClass("tour-"+d._options.name+"-element tour-"+d._options.name+"-"+b+"-element").removeData("bs.popover"),g.reflex&&a(g.reflexElement).removeClass("tour-step-element-reflex").off(d._reflexEvent(g.reflex)+".tour-"+d._options.name),g.backdrop&&((h=null!=c&&d.getStep(c))&&h.backdrop&&h.backdropElement===g.backdropElement||d._hideOverlayElement(g)),null!=g.onHidden)return g.onHidden(d)}}(this),d=g.delay.hide||g.delay,"[object Number]"==={}.toString.call(d)&&d>0?(this._debug("Wait "+d+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(a){return function(){return a._callOnPromiseDone(f,e)}}(this),d)):this._callOnPromiseDone(f,e),f},c.prototype.showStep=function(a){var c,d,e,f,g,h;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(h=this.getStep(a))&&(g=a<this._current,d=this._makePromise(null!=h.onShow?h.onShow(this,a):void 0),this.setCurrentStep(a),c=function(){switch({}.toString.call(h.path)){case"[object Function]":return h.path();case"[object String]":return this._options.basePath+h.path;default:return h.path}}.call(this),!h.redirect||!this._isRedirect(h.host,c,b.location)||(this._redirect(h,a,c),this._isJustPathHashDifferent(h.host,c,b.location)))?(f=function(b){return function(c){if(b._isOrphan(h)){if(!1===h.orphan)return b._debug("Skip the orphan step "+(b._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(g?b._showPrevStep():b._showNextStep());b._debug("Show the orphan step "+(b._current+1)+". Orphans option is true.")}if(h.autoscroll?b._scrollIntoView(a):b._showPopoverAndOverlay(a),h.duration)return b.resume()}}(this),e=h.delay.show||h.delay,"[object Number]"==={}.toString.call(e)&&e>0?(this._debug("Wait "+e+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(a){return function(){return a._callOnPromiseDone(d,f)}}(this),e)):this._callOnPromiseDone(d,f),d):void 0},c.prototype.getCurrentStep=function(){return this._current},c.prototype.setCurrentStep=function(a){return null!=a?(this._current=a,this._setState("current_step",a)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},c.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()))},c.prototype._setState=function(a,b){var c;if(this._options.storage){c=this._options.name+"_"+a;try{this._options.storage.setItem(c,b)}catch(a){a.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(c,b)}return null==this._state&&(this._state={}),this._state[a]=b},c.prototype._removeState=function(a){var b;return this._options.storage?(b=this._options.name+"_"+a,this._options.storage.removeItem(b),this._options.afterRemoveState(b)):null!=this._state?delete this._state[a]:void 0},c.prototype._getState=function(a){var b,c;return this._options.storage?(b=this._options.name+"_"+a,c=this._options.storage.getItem(b)):null!=this._state&&(c=this._state[a]),void 0!==c&&"null"!==c||(c=null),this._options.afterGetState(a,c),c},c.prototype._showNextStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(b){return a.showStep(c.next)}}(this),a=this._makePromise(null!=c.onNext?c.onNext(this):void 0),this._callOnPromiseDone(a,b)},c.prototype._showPrevStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(b){return a.showStep(c.prev)}}(this),a=this._makePromise(null!=c.onPrev?c.onPrev(this):void 0),this._callOnPromiseDone(a,b)},c.prototype._debug=function(a){if(this._options.debug)return window.console.log("Bootstrap Tour '"+this._options.name+"' | "+a)},c.prototype._isRedirect=function(a,b,c){var d;return!(null==a||""===a||!("[object RegExp]"==={}.toString.call(a)&&!a.test(c.origin)||"[object String]"==={}.toString.call(a)&&this._isHostDifferent(a,c)))||(d=[c.pathname,c.search,c.hash].join(""),null!=b&&""!==b&&("[object RegExp]"==={}.toString.call(b)&&!b.test(d)||"[object String]"==={}.toString.call(b)&&this._isPathDifferent(b,d)))},c.prototype._isHostDifferent=function(a,b){switch({}.toString.call(a)){case"[object RegExp]":return!a.test(b.origin);case"[object String]":return this._getProtocol(a)!==this._getProtocol(b.href)||this._getHost(a)!==this._getHost(b.href);default:return!0}},c.prototype._isPathDifferent=function(a,b){return this._getPath(a)!==this._getPath(b)||!this._equal(this._getQuery(a),this._getQuery(b))||!this._equal(this._getHash(a),this._getHash(b))},c.prototype._isJustPathHashDifferent=function(a,b,c){var d;return(null==a||""===a||!this._isHostDifferent(a,c))&&(d=[c.pathname,c.search,c.hash].join(""),"[object String]"==={}.toString.call(b)&&this._getPath(b)===this._getPath(d)&&this._equal(this._getQuery(b),this._getQuery(d))&&!this._equal(this._getHash(b),this._getHash(d)))},c.prototype._redirect=function(c,d,e){var f;return a.isFunction(c.redirect)?c.redirect.call(this,e):(f="[object String]"==={}.toString.call(c.host)?""+c.host+e:e,this._debug("Redirect to "+f),this._getState("redirect_to")!==""+d?(this._setState("redirect_to",""+d),b.location.href=f):(this._debug("Error redirection loop to "+e),this._removeState("redirect_to"),null!=c.onRedirectError?c.onRedirectError(this):void 0))},c.prototype._isOrphan=function(b){return null==b.element||!a(b.element).length||a(b.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==a(b.element)[0].namespaceURI},c.prototype._isLast=function(){return this._current<this._options.steps.length-1},c.prototype._showPopoverAndOverlay=function(a){var b;if(this.getCurrentStep()===a&&!this.ended())return(b=this.getStep(a)).backdrop&&this._showOverlayElement(b),this._showPopover(b,a),null!=b.onShown&&b.onShown(this),this._debug("Step "+(this._current+1)+" of "+this._options.steps.length)},c.prototype._showPopover=function(b,c){var d,e,f,g,h;if(a(".tour-"+this._options.name).remove(),g=a.extend({},this._options),f=this._isOrphan(b),b.template=this._template(b,c),f&&(b.element="body",b.placement="top"),(d=a(b.element)).addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+c+"-element"),b.options&&a.extend(g,b.options),b.reflex&&!f&&a(b.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(b.reflex)+".tour-"+this._options.name).on(this._reflexEvent(b.reflex)+".tour-"+this._options.name,function(a){return function(){return a._isLast()?a.next():a.end()}}(this)),h=!0===b.smartPlacement&&-1===b.placement.search(/auto/i),d.popover({placement:h?"auto "+b.placement:b.placement,trigger:"manual",title:b.title,content:b.content,html:!0,animation:b.animation,container:b.container,template:b.template,selector:b.element}).popover("show"),(e=d.data("bs.popover")?d.data("bs.popover").tip():d.data("popover").tip()).attr("id",b.id),"fixed"===d.css("position")&&e.css("position","fixed"),this._reposition(e,b),f)return this._center(e)},c.prototype._template=function(b,c){var d,e,f,g,h,i;return i=b.template,this._isOrphan(b)&&"[object Boolean]"!=={}.toString.call(b.orphan)&&(i=b.orphan),h=a(a.isFunction(i)?i(c,b):i),d=h.find(".popover-navigation"),f=d.find('[data-role="prev"]'),e=d.find('[data-role="next"]'),g=d.find('[data-role="pause-resume"]'),this._isOrphan(b)&&h.addClass("orphan"),h.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+c),b.reflex&&h.addClass("tour-"+this._options.name+"-reflex"),b.prev<0&&f.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),b.next<0&&e.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),b.duration||g.remove(),h.clone().wrap("<div>").parent().html()},c.prototype._reflexEvent=function(a){return"[object Boolean]"==={}.toString.call(a)?"click":a},c.prototype._reposition=function(c,d){var e,f,g,h,i,j,k;if(h=c[0].offsetWidth,f=c[0].offsetHeight,k=c.offset(),i=k.left,j=k.top,(e=a(b).outerHeight()-k.top-c.outerHeight())<0&&(k.top=k.top+e),(g=a("html").outerWidth()-k.left-c.outerWidth())<0&&(k.left=k.left+g),k.top<0&&(k.top=0),k.left<0&&(k.left=0),c.offset(k),"bottom"===d.placement||"top"===d.placement){if(i!==k.left)return this._replaceArrow(c,2*(k.left-i),h,"left")}else if(j!==k.top)return this._replaceArrow(c,2*(k.top-j),f,"top")},c.prototype._center=function(b){return b.css("top",a(window).outerHeight()/2-b.outerHeight()/2)},c.prototype._replaceArrow=function(a,b,c,d){return a.find(".arrow").css(d,b?50*(1-b/c)+"%":"")},c.prototype._scrollIntoView=function(b){var c,d,e,f,g,h,i,j;if(i=this.getStep(b),!(c=a(i.element)).length)return this._showPopoverAndOverlay(b);switch(d=a(window),g=c.offset().top,f=c.outerHeight(),j=d.height(),h=0,i.placement){case"top":h=Math.max(0,g-j/2);break;case"left":case"right":h=Math.max(0,g+f/2-j/2);break;case"bottom":h=Math.max(0,g+f-j/2)}return this._debug("Scroll into view. ScrollTop: "+h+". Element offset: "+g+". Window height: "+j+"."),e=0,a("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(h)},function(a){return function(){if(2==++e)return a._showPopoverAndOverlay(b),a._debug("Scroll into view.\nAnimation end element offset: "+c.offset().top+".\nWindow height: "+d.height()+".")}}(this))},c.prototype._onResize=function(b,c){return a(window).on("resize.tour-"+this._options.name,function(){return clearTimeout(c),c=setTimeout(b,100)})},c.prototype._onScroll=function(b,c){return a(window).on("scroll.tour-"+this._options.name,function(){return clearTimeout(c),c=setTimeout(b,100)})},c.prototype._initMouseNavigation=function(){var c;return c=this,a(b).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(a){return function(b){return b.preventDefault(),a.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(a){return function(b){if(b.preventDefault(),a._current>0)return a.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(a){return function(b){return b.preventDefault(),a.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(b){var d;return b.preventDefault(),(d=a(this)).text(c._paused?d.data("pause-text"):d.data("resume-text")),c._paused?c.resume():c.pause()})},c.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return a(b).on("keyup.tour-"+this._options.name,function(a){return function(b){if(b.which)switch(b.which){case 39:return b.preventDefault(),a._isLast()?a.next():a.end();case 37:if(b.preventDefault(),a._current>0)return a.prev()}}}(this))},c.prototype._makePromise=function(b){return b&&a.isFunction(b.then)?b:null},c.prototype._callOnPromiseDone=function(a,b,c){return a?a.then(function(a){return function(d){return b.call(a,c)}}(this)):b.call(this,c)},c.prototype._showBackground=function(c,d){var e,f,g,h,i,j,k,l,m;for(g=a(b).height(),m=a(b).width(),l=[],h=0,i=(k=["top","bottom","left","right"]).length;h<i;h++)switch(j=k[h],e=null!=(f=this.backdrops)[j]?f[j]:f[j]=a("<div>",{class:"tour-backdrop "+j}),a(c.backdropContainer).append(e),j){case"top":l.push(e.height(d.offset.top>0?d.offset.top:0).width(m).offset({top:0,left:0}));break;case"bottom":l.push(e.offset({top:d.offset.top+d.height,left:0}).height(g-(d.offset.top+d.height)).width(m));break;case"left":l.push(e.offset({top:d.offset.top,left:0}).height(d.height).width(d.offset.left>0?d.offset.left:0));break;case"right":l.push(e.offset({top:d.offset.top,left:d.offset.left+d.width}).height(d.height).width(m-(d.offset.left+d.width)));break;default:l.push(void 0)}return l},c.prototype._showOverlayElement=function(b){var c,d;return 0===(c=a(b.backdropElement)).length?d={width:0,height:0,offset:{top:0,left:0}}:(d={width:c.innerWidth(),height:c.innerHeight(),offset:c.offset()},c.addClass("tour-step-backdrop"),b.backdropPadding&&(d=this._applyBackdropPadding(b.backdropPadding,d))),this._showBackground(b,d)},c.prototype._hideOverlayElement=function(b){var c,d,e;a(b.backdropElement).removeClass("tour-step-backdrop"),e=this.backdrops;for(d in e)(c=e[d])&&void 0!==c.remove&&c.remove();return this.backdrops=[]},c.prototype._applyBackdropPadding=function(a,b){return"object"==typeof a?(null==a.top&&(a.top=0),null==a.right&&(a.right=0),null==a.bottom&&(a.bottom=0),null==a.left&&(a.left=0),b.offset.top=b.offset.top-a.top,b.offset.left=b.offset.left-a.left,b.width=b.width+a.left+a.right,b.height=b.height+a.top+a.bottom):(b.offset.top=b.offset.top-a,b.offset.left=b.offset.left-a,b.width=b.width+2*a,b.height=b.height+2*a),b},c.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},c.prototype._getProtocol=function(a){return(a=a.split("://")).length>1?a[0]:"http"},c.prototype._getHost=function(a){return a=a.split("//"),(a=a.length>1?a[1]:a[0]).split("/")[0]},c.prototype._getPath=function(a){return a.replace(/\/?$/,"").split("?")[0].split("#")[0]},c.prototype._getQuery=function(a){return this._getParams(a,"?")},c.prototype._getHash=function(a){return this._getParams(a,"#")},c.prototype._getParams=function(a,b){var c,d,e,f,g;if(1===(f=a.split(b)).length)return{};for(g={},c=0,d=(f=f[1].split("&")).length;c<d;c++)g[(e=(e=f[c]).split("="))[0]]=e[1]||"";return g},c.prototype._equal=function(a,b){var c,d,e,f,g,h;if("[object Object]"==={}.toString.call(a)&&"[object Object]"==={}.toString.call(b)){if(f=Object.keys(a),g=Object.keys(b),f.length!==g.length)return!1;for(d in a)if(h=a[d],!this._equal(b[d],h))return!1;return!0}if("[object Array]"==={}.toString.call(a)&&"[object Array]"==={}.toString.call(b)){if(a.length!==b.length)return!1;for(d=c=0,e=a.length;c<e;d=++c)if(h=a[d],!this._equal(h,b[d]))return!1;return!0}return a===b},c}()}),function(a,b){"use strict";var c="",d="?",e="function",f="undefined",g="object",h="string",i="model",j="name",k="type",l="vendor",m="version",n="architecture",o="console",p="mobile",q="tablet",r="smarttv",s="wearable",t={extend:function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},has:function(a,b){return"string"==typeof a&&-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()},major:function(a){return typeof a===h?a.replace(/[^\d\.]/g,"").split(".")[0]:b},trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},u={rgx:function(a,c){for(var d,f,h,i,j,k,l=0;l<c.length&&!j;){var m=c[l],n=c[l+1];for(d=f=0;d<m.length&&!j;)if(j=m[d++].exec(a))for(h=0;h<n.length;h++)k=j[++f],i=n[h],typeof i===g&&i.length>0?2==i.length?typeof i[1]==e?this[i[0]]=i[1].call(this,k):this[i[0]]=i[1]:3==i.length?typeof i[1]!==e||i[1].exec&&i[1].test?this[i[0]]=k?k.replace(i[1],i[2]):b:this[i[0]]=k?i[1].call(this,k,i[2]):b:4==i.length&&(this[i[0]]=k?i[3].call(this,k.replace(i[1],i[2])):b):this[i]=k||b;l+=2}},str:function(a,c){for(var e in c)if(typeof c[e]===g&&c[e].length>0){for(var f=0;f<c[e].length;f++)if(t.has(c[e][f],a))return e===d?b:e}else if(t.has(c[e],a))return e===d?b:e;return a}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},w={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[j,m],[/(opios)[\/\s]+([\w\.]+)/i],[[j,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[j,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[j,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[j,"IE"],m],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[j,"Edge"],m],[/(yabrowser)\/([\w\.]+)/i],[[j,"Yandex"],m],[/(puffin)\/([\w\.]+)/i],[[j,"Puffin"],m],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[j,"UCBrowser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[j,/_/g," "],m],[/(micromessenger)\/([\w\.]+)/i],[[j,"WeChat"],m],[/(qqbrowserlite)\/([\w\.]+)/i],[j,m],[/(QQ)\/([\d\.]+)/i],[j,m],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[j,m],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[j,m],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[j,m],[/(MetaSr)[\/\s]?([\w\.]+)/i],[j],[/(LBBROWSER)/i],[j],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[j,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[m,[j,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[j,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[j,/(.+)/,"$1 WebView"],m],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[j,/(.+(?:g|us))(.+)/,"$1 $2"],m],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[j,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[j,m],[/(dolfin)\/([\w\.]+)/i],[[j,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[j,"Chrome"],m],[/(coast)\/([\w\.]+)/i],[[j,"Opera Coast"],m],[/fxios\/([\w\.-]+)/i],[m,[j,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[j,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,j],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[j,"GSA"],m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[j,[m,u.str,v.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[j,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[j,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[j,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[n,"amd64"]],[/(ia32(?=;))/i],[[n,t.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[n,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[n,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[n,/ower/,"",t.lowerize]],[/(sun4\w)[;\)]/i],[[n,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[n,t.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,l,[k,q]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[l,"Apple"],[k,q]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,i,[k,q]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[i,[l,"Amazon"],[k,q]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[i,u.str,v.device.amazon.model],[l,"Amazon"],[k,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,l,[k,p]],[/\((ip[honed|\s\w*]+);/i],[i,[l,"Apple"],[k,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,i,[k,p]],[/\(bb10;\s(\w+)/i],[i,[l,"BlackBerry"],[k,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[l,"Asus"],[k,q]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[i,"Xperia Tablet"],[k,q]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[l,"Sony"],[k,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,i,[k,o]],[/android.+;\s(shield)\sbuild/i],[i,[l,"Nvidia"],[k,o]],[/(playstation\s[34portablevi]+)/i],[i,[l,"Sony"],[k,o]],[/(sprint\s(\w+))/i],[[l,u.str,v.device.sprint.vendor],[i,u.str,v.device.sprint.model],[k,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,i,[k,q]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[i,/_/g," "],[k,p]],[/(nexus\s9)/i],[i,[l,"HTC"],[k,q]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[i,[l,"Huawei"],[k,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,i,[k,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[l,"Microsoft"],[k,o]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[l,"Microsoft"],[k,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[l,"Motorola"],[k,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[l,"Motorola"],[k,q]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,t.trim],[i,t.trim],[k,r]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[l,"Samsung"],[k,r]],[/\(dtv[\);].+(aquos)/i],[i,[l,"Sharp"],[k,r]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],i,[k,q]],[/smart-tv.+(samsung)/i],[l,[k,r],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],i,[k,p]],[/sie-(\w*)/i],[i,[l,"Siemens"],[k,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],i,[k,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[l,"Acer"],[k,q]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[l,"LG"],[k,q]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],i,[k,q]],[/(lg) netcast\.tv/i],[l,i,[k,r]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[l,"LG"],[k,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[l,"Lenovo"],[k,q]],[/linux;.+((jolla));/i],[l,i,[k,p]],[/((pebble))app\/[\d\.]+\s/i],[l,i,[k,s]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,i,[k,p]],[/crkey/i],[[i,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[l,"Google"],[k,s]],[/android.+;\s(pixel c)\s/i],[i,[l,"Google"],[k,q]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[l,"Google"],[k,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[l,"Xiaomi"],[k,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[l,"Xiaomi"],[k,q]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[l,"Meizu"],[k,q]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[i,[l,"OnePlus"],[k,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[l,"RCA"],[k,q]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[i,[l,"Dell"],[k,q]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[l,"Verizon"],[k,q]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],i,[k,q]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[l,"NuVision"],[k,q]],[/android.+;\s(k88)\sbuild/i],[i,[l,"ZTE"],[k,q]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[l,"Swiss"],[k,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[l,"Swiss"],[k,q]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[l,"Zeki"],[k,q]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],i,[k,q]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[i,[l,"Insignia"],[k,q]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[i,[l,"NextBook"],[k,q]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],i,[k,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],i,[k,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[l,"Envizen"],[k,q]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,i,[k,q]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[l,"MachSpeed"],[k,q]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,i,[k,q]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[l,"Rotor"],[k,q]],[/android.+(KS(.+))\s+build/i],[i,[l,"Amazon"],[k,q]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,i,[k,q]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[k,t.lowerize],l,i],[/(android[\w\.\s\-]{0,9});.+build/i],[i,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[j,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[j,m],[/rv\:([\w\.]{1,9}).+(gecko)/i],[m,j]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[j,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[j,[m,u.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[j,"Windows"],[m,u.str,v.os.windows.version]],[/\((bb)(10);/i],[[j,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[j,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[j,"Symbian"],m],[/\((series40);/i],[j],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[j,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[j,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[j,"Chromium OS"],m],[/(sunos)\s?([\w\.\d]*)/i],[[j,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[j,m],[/(haiku)\s(\w+)/i],[j,m],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[m,/_/g,"."],[j,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[j,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[j,m]]},x=function(d,e){if("object"==typeof d&&(e=d,d=b),!(this instanceof x))return new x(d,e).getResult();var f=d||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:c),g=e?t.extend(w,e):w;return this.getBrowser=function(){var a={name:b,version:b};return u.rgx.call(a,f,g.browser),a.major=t.major(a.version),a},this.getCPU=function(){var a={architecture:b};return u.rgx.call(a,f,g.cpu),a},this.getDevice=function(){var a={vendor:b,model:b,type:b};return u.rgx.call(a,f,g.device),a},this.getEngine=function(){var a={name:b,version:b};return u.rgx.call(a,f,g.engine),a},this.getOS=function(){var a={name:b,version:b};return u.rgx.call(a,f,g.os),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return f},this.setUA=function(a){return f=a,this},this};x.VERSION="0.7.18",x.BROWSER={NAME:j,MAJOR:"major",VERSION:m},x.CPU={ARCHITECTURE:n},x.DEVICE={MODEL:i,VENDOR:l,TYPE:k,CONSOLE:o,MOBILE:p,SMARTTV:r,TABLET:q,WEARABLE:s,EMBEDDED:"embedded"},x.ENGINE={NAME:j,VERSION:m},x.OS={NAME:j,VERSION:m},typeof exports!==f?(typeof module!==f&&module.exports&&(exports=module.exports=x),exports.UAParser=x):typeof define===e&&define.amd?define(function(){return x}):a&&(a.UAParser=x);var y=a&&(a.jQuery||a.Zepto);if(typeof y!==f){var z=new x;y.ua=z.getResult(),y.ua.get=function(){return z.getUA()},y.ua.set=function(a){z.setUA(a);var b=z.getResult();for(var c in b)y.ua[c]=b[c]}}}("object"==typeof window?window:this),angular.module("mentio",[]).directive("mentio",["mentioUtil","$document","$compile","$log","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:{macros:"=mentioMacros",search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",typedTerm:"=mentioTypedTerm",altId:"=mentioId",iframeElement:"=mentioIframeElement",requireLeadingSpace:"=mentioRequireLeadingSpace",selectNotFound:"=mentioSelectNotFound",trimTerm:"=mentioTrimTerm",ngModel:"="},controller:["$scope","$timeout","$attrs",function(c,d,e){c.query=function(a,b){var d=c.triggerCharMap[a];(void 0===c.trimTerm||c.trimTerm)&&(b=b.trim()),d.showMenu(),d.search({term:b}),d.typedTerm=b},c.defaultSearch=function(a){var b=[];angular.forEach(c.items,function(c){c.label.toUpperCase().indexOf(a.term.toUpperCase())>=0&&b.push(c)}),c.localItems=b},c.bridgeSearch=function(a){(e.mentioSearch?c.search:c.defaultSearch)({term:a})},c.defaultSelect=function(a){return c.defaultTriggerChar+a.item.label},c.bridgeSelect=function(a){return(e.mentioSelect?c.select:c.defaultSelect)({item:a})},c.setTriggerText=function(a){c.syncTriggerText&&(c.typedTerm=void 0===c.trimTerm||c.trimTerm?a.trim():a)},c.context=function(){if(c.iframeElement)return{iframe:c.iframeElement}},c.replaceText=function(b,e){if(c.hideAll(),a.replaceTriggerText(c.context(),c.targetElement,c.targetElementPath,c.targetElementSelectedOffset,c.triggerCharSet,b,c.requireLeadingSpace,e),!e&&(c.setTriggerText(""),angular.element(c.targetElement).triggerHandler("change"),c.isContentEditable())){c.contentEditableMenuPasted=!0;var f=d(function(){c.contentEditableMenuPasted=!1},200);c.$on("$destroy",function(){d.cancel(f)})}},c.hideAll=function(){for(var a in c.triggerCharMap)c.triggerCharMap.hasOwnProperty(a)&&c.triggerCharMap[a].hideMenu()},c.getActiveMenuScope=function(){for(var a in c.triggerCharMap)if(c.triggerCharMap.hasOwnProperty(a)&&c.triggerCharMap[a].visible)return c.triggerCharMap[a];return null},c.selectActive=function(){for(var a in c.triggerCharMap)c.triggerCharMap.hasOwnProperty(a)&&c.triggerCharMap[a].visible&&c.triggerCharMap[a].selectActive()},c.isActive=function(){for(var a in c.triggerCharMap)if(c.triggerCharMap.hasOwnProperty(a)&&c.triggerCharMap[a].visible)return!0;return!1},c.isContentEditable=function(){return"INPUT"!==c.targetElement.nodeName&&"TEXTAREA"!==c.targetElement.nodeName},c.replaceMacro=function(b,e){e?a.replaceMacroText(c.context(),c.targetElement,c.targetElementPath,c.targetElementSelectedOffset,c.macros,c.macros[b]):(c.replacingMacro=!0,c.timer=d(function(){a.replaceMacroText(c.context(),c.targetElement,c.targetElementPath,c.targetElementSelectedOffset,c.macros,c.macros[b]),angular.element(c.targetElement).triggerHandler("change"),c.replacingMacro=!1},300),c.$on("$destroy",function(){d.cancel(c.timer)}))},c.addMenu=function(a){a.parentScope&&c.triggerCharMap.hasOwnProperty(a.triggerChar)||(c.triggerCharMap[a.triggerChar]=a,void 0===c.triggerCharSet&&(c.triggerCharSet=[]),c.triggerCharSet.push(a.triggerChar),a.setParent(c))},c.$on("menuCreated",function(a,b){void 0===e.id&&void 0===e.mentioId||(e.id===b.targetElement||void 0!==e.mentioId&&c.altId===b.targetElement)&&c.addMenu(b.scope)}),b.on("click",function(){c.isActive()&&c.$apply(function(){c.hideAll()})}),b.on("keydown keypress paste",function(a){var b=c.getActiveMenuScope();b&&(9!==a.which&&13!==a.which||(a.preventDefault(),b.selectActive()),27===a.which&&(a.preventDefault(),b.$apply(function(){b.hideMenu()})),40===a.which&&(a.preventDefault(),b.$apply(function(){b.activateNextItem()}),b.adjustScroll(1)),38===a.which&&(a.preventDefault(),b.$apply(function(){b.activatePreviousItem()}),b.adjustScroll(-1)),37!==a.which&&39!==a.which||a.preventDefault())})}],link:function(b,f,g){function h(a){function c(a){a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()}var d=b.getActiveMenuScope();if(d){if(9===a.which||13===a.which)return c(a),d.selectActive(),!1;if(27===a.which)return c(a),d.$apply(function(){d.hideMenu()}),!1;if(40===a.which)return c(a),d.$apply(function(){d.activateNextItem()}),d.adjustScroll(1),!1;if(38===a.which)return c(a),d.$apply(function(){d.activatePreviousItem()}),d.adjustScroll(-1),!1;if(37===a.which||39===a.which)return c(a),!1}}if(b.triggerCharMap={},b.targetElement=f,g.$set("autocomplete","off"),g.mentioItems){b.localItems=[],b.parentScope=b;var i=g.mentioSearch?' mentio-items="items"':' mentio-items="localItems"';b.defaultTriggerChar=g.mentioTriggerChar?b.$eval(g.mentioTriggerChar):"@";var j='<mentio-menu mentio-search="bridgeSearch(term)" mentio-select="bridgeSelect(item)"'+i;g.mentioTemplateUrl&&(j=j+' mentio-template-url="'+g.mentioTemplateUrl+'"'),j=j+" mentio-trigger-char=\"'"+b.defaultTriggerChar+'\'" mentio-parent-scope="parentScope"/>';var k=c(j),l=k(b);f.parent().append(l),b.$on("$destroy",function(){l.remove()})}g.mentioTypedTerm&&(b.syncTriggerText=!0),b.$watch("iframeElement",function(a){if(a){var c=a.contentWindow.document;c.addEventListener("click",function(){b.isActive()&&b.$apply(function(){b.hideAll()})}),c.addEventListener("keydown",h,!0),b.$on("$destroy",function(){c.removeEventListener("keydown",h)})}}),b.$watch("ngModel",function(c){if(c&&""!==c||b.isActive()){if(void 0===b.triggerCharSet)return void d.error("Error, no mentio-items attribute was provided, and no separate mentio-menus were specified.  Nothing to do.");if(b.contentEditableMenuPasted)return void(b.contentEditableMenuPasted=!1);b.replacingMacro&&(e.cancel(b.timer),b.replacingMacro=!1);var f=b.isActive(),g=b.isContentEditable(),h=a.getTriggerInfo(b.context(),b.triggerCharSet,b.requireLeadingSpace,f);if(void 0!==h&&(!f||f&&(g&&h.mentionTriggerChar===b.currentMentionTriggerChar||!g&&h.mentionPosition===b.currentMentionPosition)))h.mentionSelectedElement&&(b.targetElement=h.mentionSelectedElement,b.targetElementPath=h.mentionSelectedPath,b.targetElementSelectedOffset=h.mentionSelectedOffset),b.setTriggerText(h.mentionText),b.currentMentionPosition=h.mentionPosition,b.currentMentionTriggerChar=h.mentionTriggerChar,b.query(h.mentionTriggerChar,h.mentionText);else{var i=b.typedTerm;b.setTriggerText(""),b.hideAll();var j=a.getMacroMatch(b.context(),b.macros);if(void 0!==j)b.targetElement=j.macroSelectedElement,b.targetElementPath=j.macroSelectedPath,b.targetElementSelectedOffset=j.macroSelectedOffset,b.replaceMacro(j.macroText,j.macroHasTrailingSpace);else if(b.selectNotFound&&i&&""!==i){var k=b.triggerCharMap[b.currentMentionTriggerChar];if(k){var l=k.select({item:{label:i}});"function"==typeof l.then?l.then(b.replaceText):b.replaceText(l,!0)}}}}})}}}]).directive("mentioMenu",["mentioUtil","$rootScope","$log","$window","$document",function(a,b,c,d,e){return{restrict:"E",scope:{search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",parentScope:"=mentioParentScope"},templateUrl:function(a,b){return void 0!==b.mentioTemplateUrl?b.mentioTemplateUrl:"mentio-menu.tpl.html"},controller:["$scope",function(a){a.visible=!1,this.activate=a.activate=function(b){a.activeItem=b},this.isActive=a.isActive=function(b){return a.activeItem===b},this.selectItem=a.selectItem=function(b){var c=a.select({item:b});"function"==typeof c.then?c.then(a.parentMentio.replaceText):a.parentMentio.replaceText(c)},a.activateNextItem=function(){var b=a.items.indexOf(a.activeItem);this.activate(a.items[(b+1)%a.items.length])},a.activatePreviousItem=function(){var b=a.items.indexOf(a.activeItem);this.activate(a.items[0===b?a.items.length-1:b-1])},a.isFirstItemActive=function(){return 0===a.items.indexOf(a.activeItem)},a.isLastItemActive=function(){return a.items.indexOf(a.activeItem)===a.items.length-1},a.selectActive=function(){a.selectItem(a.activeItem)},a.isVisible=function(){return a.visible},a.showMenu=function(){a.visible||(a.requestVisiblePendingSearch=!0)},a.setParent=function(b){a.parentMentio=b,a.targetElement=b.targetElement}}],link:function(f,g){if(g[0].parentNode.removeChild(g[0]),e[0].body.appendChild(g[0]),f.menuElement=g,f.parentScope)f.parentScope.addMenu(f);else{if(!f.forElem)return void c.error("mentio-menu requires a target element in tbe mentio-for attribute");if(!f.triggerChar)return void c.error("mentio-menu requires a trigger char");b.$broadcast("menuCreated",{targetElement:f.forElem,scope:f})}angular.element(d).bind("resize",function(){if(f.isVisible()){var b=[];b.push(f.triggerChar),a.popUnderMention(f.parentMentio.context(),b,g,f.requireLeadingSpace)}}),f.$watch("items",function(a){a&&a.length>0?(f.activate(a[0]),!f.visible&&f.requestVisiblePendingSearch&&(f.visible=!0,f.requestVisiblePendingSearch=!1)):f.hideMenu()}),f.$watch("isVisible()",function(b){if(b){var c=[];c.push(f.triggerChar),a.popUnderMention(f.parentMentio.context(),c,g,f.requireLeadingSpace)}}),f.parentMentio.$on("$destroy",function(){g.remove()}),f.hideMenu=function(){f.visible=!1,g.css("display","none")},f.adjustScroll=function(a){var b=g[0],c=b.querySelector("ul"),d=b.querySelector("[mentio-menu-item].active")||b.querySelector("[data-mentio-menu-item].active");return f.isFirstItemActive()?c.scrollTop=0:f.isLastItemActive()?c.scrollTop=c.scrollHeight:void(1===a?c.scrollTop+=d.offsetHeight:c.scrollTop-=d.offsetHeight)}}}}]).directive("mentioMenuItem",function(){return{restrict:"A",scope:{item:"=mentioMenuItem"},require:"^mentioMenu",link:function(a,b,c,d){a.$watch(function(){return d.isActive(a.item)},function(a){a?b.addClass("active"):b.removeClass("active")}),b.bind("mouseenter",function(){a.$apply(function(){d.activate(a.item)})}),b.bind("click",function(){return d.selectItem(a.item),!1})}}}).filter("unsafe",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).filter("mentioHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c,d){if(c){var e=d?'<span class="'+d+'">$&</span>':"<strong>$&</strong>";return(""+b).replace(new RegExp(a(c),"gi"),e)}return b}}),angular.module("mentio").factory("mentioUtil",["$window","$location","$anchorScroll","$timeout",function(a,b,c,d){function e(a,b,c,e){var h,i=p(a,b,e,!1);void 0!==i?(h=g(a)?v(a,r(a).activeElement,i.mentionPosition):t(a,i.mentionPosition),c.css({top:h.top+"px",left:h.left+"px",position:"absolute",zIndex:1e4,display:"block"}),d(function(){f(a,c)},0)):c.css({display:"none"})}function f(b,c){for(var d,e=20,f=100,g=c[0];void 0===d||0===d.height;)if(d=g.getBoundingClientRect(),0===d.height&&(void 0===(g=g.childNodes[0])||!g.getBoundingClientRect))return;var h=d.top,i=h+d.height;if(h<0)a.scrollTo(0,a.pageYOffset+d.top-e);else if(i>a.innerHeight){var j=a.pageYOffset+d.top-e;j-a.pageYOffset>f&&(j=a.pageYOffset+f);var k=a.pageYOffset-(a.innerHeight-i);k>j&&(k=j),a.scrollTo(0,k)}}function g(a){var b=r(a).activeElement;if(null!==b){var c=b.nodeName,d=b.getAttribute("type");return"INPUT"===c&&"text"===d||"TEXTAREA"===c}return!1}function h(a,b,c,d){var e,f=b;if(c)for(var g=0;g<c.length;g++){if(void 0===(f=f.childNodes[c[g]]))return;for(;f.length<d;)d-=f.length,f=f.nextSibling;0!==f.childNodes.length||f.length||(f=f.previousSibling)}var h=q(a);e=r(a).createRange(),e.setStart(f,d),e.setEnd(f,d),e.collapse(!0);try{h.removeAllRanges()}catch(a){}h.addRange(e),b.focus()}function i(a,b,c,d){var e,f;f=q(a),e=r(a).createRange(),e.setStart(f.anchorNode,c),e.setEnd(f.anchorNode,d),e.deleteContents();var g=r(a).createElement("div");g.innerHTML=b;for(var h,i,j=r(a).createDocumentFragment();h=g.firstChild;)i=j.appendChild(h);e.insertNode(j),i&&(e=e.cloneRange(),e.setStartAfter(i),e.collapse(!0),f.removeAllRanges(),f.addRange(e))}function j(a,b,c,d){var e=b.nodeName;"INPUT"===e||"TEXTAREA"===e?b!==r(a).activeElement&&b.focus():h(a,b,c,d)}function k(a,b,c,d,e,f){j(a,b,c,d);var h=n(a,e);if(h.macroHasTrailingSpace&&(h.macroText=h.macroText+" ",f+=" "),void 0!==h){var k=r(a).activeElement;if(g(a)){var l=h.macroPosition,m=h.macroPosition+h.macroText.length;k.value=k.value.substring(0,l)+f+k.value.substring(m,k.value.length),k.selectionStart=l+f.length,k.selectionEnd=l+f.length}else i(a,f,h.macroPosition,h.macroPosition+h.macroText.length)}}function l(a,b,c,d,e,f,h,k){j(a,b,c,d);var l=p(a,e,h,!0,k);if(void 0!==l)if(g()){var m=r(a).activeElement;f+=" ";var n=l.mentionPosition,o=l.mentionPosition+l.mentionText.length+1;m.value=m.value.substring(0,n)+f+m.value.substring(o,m.value.length),m.selectionStart=n+f.length,m.selectionEnd=n+f.length}else f+=" ",i(a,f,l.mentionPosition,l.mentionPosition+l.mentionText.length+1)}function m(a,b){if(null===b.parentNode)return 0;for(var c=0;c<b.parentNode.childNodes.length;c++){if(b.parentNode.childNodes[c]===b)return c}}function n(a,b){var c,d,e=[];if(g(a))c=r(a).activeElement;else{var f=o(a);f&&(c=f.selected,e=f.path,d=f.offset)}var h=s(a);if(void 0!==h&&null!==h){var i,j=!1;if(h.length>0&&(" "===h.charAt(h.length-1)||" "===h.charAt(h.length-1))&&(j=!0,h=h.substring(0,h.length-1)),angular.forEach(b,function(a,b){var f=h.toUpperCase().lastIndexOf(b.toUpperCase());if(f>=0&&b.length+f===h.length){var g=f-1;0!==f&&" "!==h.charAt(g)&&" "!==h.charAt(g)||(i={macroPosition:f,macroText:b,macroSelectedElement:c,macroSelectedPath:e,macroSelectedOffset:d,macroHasTrailingSpace:j})}}),i)return i}}function o(a){var b,c=q(a),d=c.anchorNode,e=[];if(null!=d){for(var f,g=d.contentEditable;null!==d&&"true"!==g;)f=m(a,d),e.push(f),null!==(d=d.parentNode)&&(g=d.contentEditable);return e.reverse(),b=c.getRangeAt(0).startOffset,{selected:d,path:e,offset:b}}}function p(a,b,c,d,e){var f,h,i;if(g(a))f=r(a).activeElement;else{var j=o(a);j&&(f=j.selected,h=j.path,i=j.offset)}var k=s(a);if(void 0!==k&&null!==k){var l,m=-1;if(b.forEach(function(a){var b=k.lastIndexOf(a);b>m&&(m=b,l=a)}),m>=0&&(0===m||!c||/[\xA0\s]/g.test(k.substring(m-1,m)))){var n=k.substring(m+1,k.length);l=k.substring(m,m+1);var p=n.substring(0,1),q=n.length>0&&(" "===p||" "===p);if(e&&(n=n.trim()),!q&&(d||!/[\xA0\s]/g.test(n)))return{mentionPosition:m,mentionText:n,mentionSelectedElement:f,mentionSelectedPath:h,mentionSelectedOffset:i,mentionTriggerChar:l}}}}function q(a){return a?a.iframe.contentWindow.getSelection():window.getSelection()}function r(a){return a?a.iframe.contentWindow.document:document}function s(a){var b;if(g(a)){var c=r(a).activeElement,d=c.selectionStart;b=c.value.substring(0,d)}else{var e=q(a).anchorNode;if(null!=e){var f=e.textContent,h=q(a).getRangeAt(0).startOffset;h>=0&&(b=f.substring(0,h))}}return b}function t(a,b){var c,d,e="\ufeff",f="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),g=q(a),h=g.getRangeAt(0);d=r(a).createRange(),d.setStart(g.anchorNode,b),d.setEnd(g.anchorNode,b),d.collapse(!1),c=r(a).createElement("span"),c.id=f,c.appendChild(r(a).createTextNode(e)),d.insertNode(c),g.removeAllRanges(),g.addRange(h);var i={left:0,top:c.offsetHeight};return u(a,c,i),c.parentNode.removeChild(c),i}function u(a,b,c){for(var d=b,e=a?a.iframe:null;d;)c.left+=d.offsetLeft+d.clientLeft,c.top+=d.offsetTop+d.clientTop,!(d=d.offsetParent)&&e&&(d=e,e=null);for(d=b,e=a?a.iframe:null;d!==r().body;)d.scrollTop&&d.scrollTop>0&&(c.top-=d.scrollTop),d.scrollLeft&&d.scrollLeft>0&&(c.left-=d.scrollLeft),!(d=d.parentNode)&&e&&(d=e,e=null)}function v(a,b,c){var d=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],e=null!==window.mozInnerScreenX,f=r(a).createElement("div");f.id="input-textarea-caret-position-mirror-div",r(a).body.appendChild(f);var g=f.style,h=window.getComputedStyle?getComputedStyle(b):b.currentStyle;g.whiteSpace="pre-wrap","INPUT"!==b.nodeName&&(g.wordWrap="break-word"),g.position="absolute",g.visibility="hidden",d.forEach(function(a){g[a]=h[a]}),e?(g.width=parseInt(h.width)-2+"px",b.scrollHeight>parseInt(h.height)&&(g.overflowY="scroll")):g.overflow="hidden",f.textContent=b.value.substring(0,c),"INPUT"===b.nodeName&&(f.textContent=f.textContent.replace(/\s/g," "));var i=r(a).createElement("span");i.textContent=b.value.substring(c)||".",f.appendChild(i);var j={top:i.offsetTop+parseInt(h.borderTopWidth)+parseInt(h.fontSize),left:i.offsetLeft+parseInt(h.borderLeftWidth)};return u(a,b,j),r(a).body.removeChild(f),j}return{popUnderMention:e,replaceMacroText:k,replaceTriggerText:l,getMacroMatch:n,getTriggerInfo:p,selectElement:h,getTextAreaOrInputUnderlinePosition:v,getTextPrecedingCurrentSelection:s,getContentEditableSelectedPath:o,getNodePositionInParent:m,getContentEditableCaretPosition:t,pasteHtml:i,resetSelection:j,scrollIntoView:f}}]),angular.module("mentio").run(["$templateCache",function(a){a.put("mentio-menu.tpl.html",'<style>\n.scrollable-menu {\n    height: auto;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.menu-highlighted {\n    font-weight: bold;\n}\n</style>\n<ul class="dropdown-menu scrollable-menu" style="display:block">\n    <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n        <a class="text-primary" ng-bind-html="item.label | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n    </li>\n</ul>')}]);var nla=angular.module("ngLetterAvatar",[]);nla.constant("defaultSettings",{alphabetcolors:["#5A8770","#B2B7BB","#6FA9AB","#F5AF29","#0088B9","#F18636","#D93A37","#A6B12E","#5C9BBC","#F5888D","#9A89B5","#407887","#9A89B5","#5A8770","#D33F33","#A2B01F","#F0B126","#0087BF","#F18636","#0087BF","#B2B7BB","#72ACAE","#9C8AB4","#5A8770","#EEB424","#407887"],textColor:"#ffffff",defaultBorder:"border:5px solid white",triangleup:"width: 0;height: 0;border-left: 50px solid transparent;border-right: 50px solid transparent;border-bottom: 100px solid;",fontsize:30,height:50,width:50,fontWeight:400,charCount:1,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",base:"data:image/svg+xml;base64,",radius:"border-radius:50%;",custombgcolor:"",dynamic:"false",rotatedeg:"0"}),nla.directive("ngLetterAvatar",["defaultSettings",function(a){return{restrict:"AE",replace:!0,scope:{alphabetcolors:"=alphabetcolors",data:"@"},link:function(b,c,d){function e(){var d="";if(2==f.charCount){var e=getFirstAndLastName(b.data.toUpperCase());d=e||b.data.substr(0,f.charCount).toUpperCase()}else d=b.data.substr(0,f.charCount).toUpperCase();var g=getCharacterObject(d,f.textColor,f.fontFamily,f.fontWeight,f.fontsize),h="",i="";d.charCodeAt(0)<65?i=getRandomColors():(h=Math.floor((d.charCodeAt(0)-65)%f.alphabetcolors.length),i=f.alphabetcolors[h]),f.avatarCustomBGColor&&(i=f.avatarCustomBGColor);var j=getImgTag(f.width,f.height,i);j.append(g);var k,l=angular.element("<div>").append(j.clone()).html(),m=window.btoa(unescape(encodeURIComponent(l))),n=a.base,o="";if(f.avatarBorderStyle?o=f.avatarBorderStyle:f.avatardefaultBorder&&(o=f.defaultBorder),"0"!=f.rotatedeg&&(o="-ms-transform: rotate("+f.rotatedeg+"deg); -webkit-transform: rotate("+f.rotatedeg+"deg); transform: rotate("+f.rotatedeg+"deg)"),f.shape){if("round"===f.shape){var p=a.radius+o;if(b.data.indexOf("http")>-1||b.data.indexOf("data:image")>-1){var q="width:"+f.width+"px;height:"+f.height+"px;";k="<img src="+b.data+" style='"+q+p+"'  />"}else k="<img src="+n+m+" style='"+p+"' title='"+b.data+"' />"}}else if(b.data.indexOf("http")>-1||b.data.indexOf("data:image")>-1){var q="width:"+f.width+"px;height:"+f.height+"px;";k="<img src="+b.data+" style='"+q+o+"'  />"}else k="<img src="+n+m+" style='"+o+"' title='"+b.data+"' />";"true"===f.dynamic?(c.empty(),c.append(k)):c.replaceWith(k)}var f={charCount:d.charcount||a.charCount,data:d.data,textColor:a.textColor,height:d.height||a.height,width:d.width||a.width,fontsize:d.fontsize||a.fontsize,fontWeight:d.fontweight||a.fontWeight,fontFamily:d.fontfamily||a.fontFamily,avatarBorderStyle:d.avatarcustomborder,avatardefaultBorder:d.avatarborder,defaultBorder:a.defaultBorder,shape:d.shape,alphabetcolors:b.alphabetcolors||a.alphabetcolors,avatarCustomBGColor:d.avatarcustombgcolor||a.custombgcolor,dynamic:d.dynamic||a.dynamic,rotatedeg:d.rotatedeg||a.rotatedeg};"true"===f.dynamic?b.$watch("data",function(){e()}):e()}}}]),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.ClipboardJS=b():a.ClipboardJS=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=3)}([function(a,b,c){var d,e,f;!function(g,h){e=[a,c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{default:a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(){function a(b){d(this,a),this.resolveOptions(b),this.initSelection()}return g(a,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action,this.container=a.container,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return a.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=c+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,e.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,e.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var a=void 0;try{a=document.execCommand(this.action)}catch(b){a=!1}this.handleResult(a)}},{key:"handleResult",value:function(a){this.emitter.emit(a?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=a,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(a){if(void 0!==a){if(!a||"object"!==(void 0===a?"undefined":f(a))||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function(){return this._target}}]),a}();a.exports=h})},function(a,b,c){function d(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!h.string(b))throw new TypeError("Second argument must be a String");if(!h.fn(c))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,b,c);if(h.nodeList(a))return f(a,b,c);if(h.string(a))return g(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function e(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function f(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function g(a,b,c){return i(document.body,a,b,c)}var h=c(6),i=c(5);a.exports=d},function(a,b){function c(){}c.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},a.exports=c},function(a,b,c){var d,e,f;!function(g,h){e=[a,c(0),c(2),c(1)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){var c="data-clipboard-"+a;if(b.hasAttribute(c))return b.getAttribute(c)}var j=e(b),k=e(c),l=e(d),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d.resolveOptions(c),d.listenClick(a),d}return h(b,a),n(b,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof a.action?a.action:this.defaultAction,this.target="function"==typeof a.target?a.target:this.defaultTarget,this.text="function"==typeof a.text?a.text:this.defaultText,this.container="object"===m(a.container)?a.container:document.body}},{key:"listenClick",value:function(a){var b=this;this.listener=(0,l.default)(a,"click",function(a){return b.onClick(a)})}},{key:"onClick",value:function(a){var b=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new j.default({action:this.action(b),target:this.target(b),text:this.text(b),container:this.container,trigger:b,emitter:this})}},{key:"defaultAction",value:function(a){return i("action",a)}},{key:"defaultTarget",value:function(a){var b=i("target",a);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(a){return i("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],b="string"==typeof a?[a]:a,c=!!document.queryCommandSupported;return b.forEach(function(a){c=c&&!!document.queryCommandSupported(a)}),c}}]),b}(k.default);a.exports=o})},function(a,b){function c(a,b){for(;a&&a.nodeType!==d;){if("function"==typeof a.matches&&a.matches(b))return a;a=a.parentNode}}var d=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}a.exports=c},function(a,b,c){function d(a,b,c,d,e){var g=f.apply(this,arguments);return a.addEventListener(c,g,e),{destroy:function(){a.removeEventListener(c,g,e)}}}function e(a,b,c,e,f){return"function"==typeof a.addEventListener?d.apply(null,arguments):"function"==typeof c?d.bind(null,document).apply(null,arguments):("string"==typeof a&&(a=document.querySelectorAll(a)),Array.prototype.map.call(a,function(a){return d(a,b,c,e,f)}))}function f(a,b,c,d){return function(c){c.delegateTarget=g(c.target,b),c.delegateTarget&&d.call(a,c)}}var g=c(4);a.exports=e},function(a,b){b.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType},b.nodeList=function(a){var c=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===c||"[object HTMLCollection]"===c)&&"length"in a&&(0===a.length||b.node(a[0]))},b.string=function(a){return"string"==typeof a||a instanceof String},b.fn=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},function(a,b){function c(a){var b;if("SELECT"===a.nodeName)a.focus(),b=a.value;else if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName){var c=a.hasAttribute("readonly");c||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),c||a.removeAttribute("readonly"),b=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),e=document.createRange();e.selectNodeContents(a),d.removeAllRanges(),d.addRange(e),b=d.toString()}return b}a.exports=c}])}),function(a,b,c){b.module("templates-gcommon",["clBreadcrumb/clBreadcrumb.tpl.html","clConnectionStateHint/clConnectionStateHint.tpl.html","clDragDrop/moveFiles.tpl.html","clDropdown/clMultipleSelect.tpl.html","clEmptyPage/emptyPage.tpl.html","clFilePreview/clFilePreview.tpl.html","clFilePreview/clFilePreviewComments.tpl.html","clFilePreview/clFilePreviewHeader.tpl.html","clFilePreview/clFilePreviewToobar.tpl.html","clFilePreview/clFilePreviewVersion.tpl.html","clFilePreview/previewAdobe.tpl.html","clFilePreview/previewAudio.tpl.html","clFilePreview/previewImage.tpl.html","clFilePreview/previewOther.tpl.html","clFilePreview/previewVideo.tpl.html","clFolderAsTree/clFolderAsTree-simple-with-size.tpl.html","clFolderAsTree/clFolderAsTree-simple.tpl.html","clFolderAsTree/clFolderAsTree.tpl.html","clFolderContents/folderContentsAsGrid.tpl.html","clFolderContents/folderContentsAsGridCell.tpl.html","clFolderContents/folderContentsAsList.tpl.html","clFolderContents/folderContentsAsListRow.tpl.html","clHiddenInput/clHiddenInput.tpl.html","clItemIcon/clItemIcon.tpl.html","clLoading/progressbar.tpl.html","clMenu/menuContext.tpl.html","clMenu/menuNav.tpl.html","clMoveOrCopy/clMoveOrCopy.tpl.html","clNoticesList/clNoticeInviteToFolder.tpl.html","clNoticesList/clNoticeRequestAccess.tpl.html","clNoticesList/clNoticesList.tpl.html","clPopoverMetadataInfo/clPopoverMetadataInfo.tpl.html","clPreviewCarousel/clPreviewCarousel.tpl.html","clProgressBar/clProgressBar.tpl.html","clRename/clRename.tpl.html","clSearchForm/clSearchForm.tpl.html","clSelect/clSelect.tpl.html","clShare/clShare.tpl.html","clShareType/clShareType.tpl.html","clUnsupportBrowser/clUnsupportBrowser.tpl.html","clVideo/clVideo.tpl.html","fileUploader/fileUploader.tpl.html"]),b.module("clBreadcrumb/clBreadcrumb.tpl.html",[]).run(["$templateCache",function(a){a.put("clBreadcrumb/clBreadcrumb.tpl.html",'<ol class="breadcrumb b-breadcrumb hidden-xs">\n  <li ng-repeat="item in routes" ng-if="item.title">\x3c!--\n    --\x3e<a ng-if="!$last" once-href="item.href" once-text="item.title"></a>\x3c!--\n    --\x3e<span ng-if="$last" once-text="item.title"></span>\x3c!--\n  --\x3e</li>\n</ol>\n<ol class="breadcrumb b-breadcrumb visible-xs">\n  <li ng-if="routes.length > 1">\x3c!--\n    --\x3e<a ng-href="{{routes[routes.length - 2].href}}"><i class="fa fa-lg fa-reply"></i><span>{{routes[routes.length - 2].title}}</span></a>\x3c!--\n  --\x3e</li>\n</ol>\n')}]),b.module("clConnectionStateHint/clConnectionStateHint.tpl.html",[]).run(["$templateCache",function(a){a.put("clConnectionStateHint/clConnectionStateHint.tpl.html",'<div class="b-state-hint">\n  <div>\n    <span translate>Lost connection with server. Try to reconnect...</span>\n  </div>\n</div>\n')}]),b.module("clDragDrop/moveFiles.tpl.html",[]).run(["$templateCache",function(a){a.put("clDragDrop/moveFiles.tpl.html",'<div class="well b-dragndrop-layer p-cursor-pointer">\n    <span ng-if="dragData.length > 1" translate="Move COUNT items" translate-values="{COUNT: dragData.length}"></span>\n    <span ng-if="dragData.length === 1">{{\'Move\'|translate}}&nbsp;<b>{{dragData[0].path|filename}}</b></span>\n</div>')}]),b.module("clDropdown/clMultipleSelect.tpl.html",[]).run(["$templateCache",function(a){a.put("clDropdown/clMultipleSelect.tpl.html",'<div class="cl-multiple-select">\n  <button class="btn btn-grey" ng-style="{width: width}" ng-click="state = !state">\n    {{placeholder}}\n    <i ng-if="state" class="fa fa-caret-up"></i>\n    <i ng-if="!state" class="fa fa-caret-down"></i>\n  </button>\n  <div class="dropdown-wrapper" ng-style="{width: width}" ng-show="state">\n    <div ng-if="!items.length">\n      <div class="text-muted text-center pad-t-10 pad-b-10">\n        <em>{{ (noItemsText || \'Nothing to select\') | translate }}</em>\n      </div>\n      <div class="text-center pad-b-10" ng-if="noItemsButtonText && noItemsButtonCall">\n        <button class="btn btn-primary" ng-click="noItemsButtonCall()">{{noItemsButtonText | translate}}</button>\n      </div>\n    </div>\n    <div ng-repeat="item in items" class="dropdown-item" ng-class="{disabled: item.clDisabled}">\n      <label>\n        <div class="dropdown-checkbox">\n          <input type="checkbox" ng-model="item.clChecked" ng-disabled="item.clDisabled" ng-change="onChange()" />\n        </div>\n        <div class="dropdown-label" ng-class="{\'text-muted\': item.clDisabled}">\n          {{item[value]}}\n        </div>\n      </label>\n    </div>\n  </div>\n</div>\n')}]),b.module("clEmptyPage/emptyPage.tpl.html",[]).run(["$templateCache",function(a){a.put("clEmptyPage/emptyPage.tpl.html",'<div class="b-content b-content-empty">\n  <span></span>\n  <div class="empty-wrap">\n    <i class="empty-icon"></i>\n    <div class="empty-drop">\n      <span></span>\n    </div>\n  </div>\n</div>')}]),b.module("clFilePreview/clFilePreview.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreview.tpl.html","<div class=\"b-modal-preview {{previewClassname}}\"\n     ng-class=\"{\n       'is-loading': isLoading,\n       'has-version': extFlags['versionPanel'],\n       'has-comments': extFlags['commentsPanel'],\n       'selection-mode': selectedItems.length > 0,\n       'is-fullscreen': extFlags['fullScreen'],\n       'no-print': !$root.CurrentUser.can_print || !!!$root.CurrentUser\n     }\"\n>\n"+'  <button class="btn-fxd btn-fxd-top" type="button" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <a class="btn-fxd btn-fxd-left" ng-if="prevItem" ui-sref="{{$root.$state.$current.name}}({file: prevItem.path})"><i class="fa fa-angle-left"></i></a>\n  <a class="btn-fxd btn-fxd-right" ng-if="nextItem" ui-sref="{{$root.$state.$current.name}}({file: nextItem.path})"><i class="fa fa-angle-right"></i></a>\n  <button class="btn-fxd btn-fxd-top2" ng-if="CONST.fe.fullscreen_available && !extFlags[\'fullScreen\']" type="button" ng-click="toggleFullScreenMode()"><i class="fa fa-expand"></i></button>\n  <button class="btn-fxd btn-fxd-top2" ng-if="CONST.fe.fullscreen_available && extFlags[\'fullScreen\']" type="button" ng-click="toggleFullScreenMode()"><i class="fa fa-compress"></i></button>\n\n  <div class="b-modal-preview__version" ng-if="extFlags[\'versionPanel\']" ng-include="\'clFilePreview/clFilePreviewVersion.tpl.html\'"></div>\n  <div class="b-modal-preview__comments" ng-if="extFlags[\'commentsPanel\']" ng-include="\'clFilePreview/clFilePreviewComments.tpl.html\'"></div>\n  <div class="b-modal-preview__toolbar" ng-include="\'clFilePreview/clFilePreviewToobar.tpl.html\'"></div>\n  <div class="b-modal-preview__container">\n    <div  class="b-modal-preview__container-wrapper">\n      <div class="b-modal-preview__header" ng-include="\'clFilePreview/clFilePreviewHeader.tpl.html\'"></div>\n      <div class="b-modal-preview__body" ng-include="previewTemplate"></div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clFilePreview/clFilePreviewComments.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreviewComments.tpl.html",'<div class="modal-version-wrapper pad-a-5">\n  <button class="btn-fxd btn-fxd-top" type="button" ng-click="changeFlag(\'commentsPanel\', false)"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid comment-form-opened">\n    <div class="row">\n      <div class="col-md-12">\n        <h2 translate>Comments</h2>\n      </div>\n    </div>\n    <hr class="hr-sm border-none">\n    <div class="row col-xs-12 mar-b-10">\n      \x3c!--<div class="col-xs-8 pad-a-0">--\x3e\n        \x3c!--<select class="col-xs-12 mar-b-10" ng-model="comment_filter.type">--\x3e\n          \x3c!--<option value="all" translate>All</option>--\x3e\n          \x3c!--<option value="text" translate>Text</option>--\x3e\n          \x3c!--<option value="task" translate>Task</option>--\x3e\n        \x3c!--</select>--\x3e\n        \x3c!--<select class="col-xs-6" ng-model="comment_filter.assignments" ng-if="comment_filter.type === \'task\' || comment_filter.type === \'all\'">--\x3e\n          \x3c!--<option value="all" translate>All</option>--\x3e\n          \x3c!--<option value="to_me" translate>To_me</option>--\x3e\n          \x3c!--<option value="by_me" translate>By_me</option>--\x3e\n        \x3c!--</select>--\x3e\n        \x3c!--<select class="col-xs-6" ng-model="comment_filter.status" ng-if="comment_filter.type === \'task\' || comment_filter.type === \'all\'">--\x3e\n          \x3c!--<option value="all" translate>All</option>--\x3e\n          \x3c!--<option value="incomplete" translate>Incomplete</option>--\x3e\n          \x3c!--<option value="complete" translate>Complete</option>--\x3e\n          \x3c!--<option value="decline" translate>Decline</option>--\x3e\n        \x3c!--</select>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="col-xs-4 pull-right pad-a-0">--\x3e\n        \x3c!--<button type="button" ng-click="filterComment()" class="col-xs-12 btn btn-primary mar-l-5 pad-a-15" translate>Search</button>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    <div class="row" ng-if="!currentItem.comments">\n      <div class="col-md-12">{{\'No comments\' | translate}}</div>\n    </div>\n    <div class="row" ng-if="currentItem.comments.length">\n      <ul class="b-versions__list comment-list colored">\n        <li ng-repeat="v in currentItem.comments track by v.id">\n          <div class="container-fluid" ng-class="{\'active\': currentItem.version === v.version}">\n            <div class="row comment-item" ng-class="{\'own-comment\':isMyComment(v)}">\n              <div class="col-md-12">\n                <div class="preview-version">\n                  <div class="row">\n                    <div class="col-sm-3 avatar-block">\n                      <ng-letter-avatar\n                        data="{{v.owner_id | getUserName}}"\n                        shape="round"\n                      ></ng-letter-avatar>\n                    </div>\n                    <div class="col-sm-9">\n                      <div class="row">\n                        <small class="author-name" once-text="v.owner_id | getUserName"></small>\n                        <small class="text-muted date" ng-bind="v.created_time | date:\'short\'"></small>\n                      </div>\n                      <div class="row">\n                        <div class="comment-text" ng-class="{\'text-right\':isMyComment(v)}" ng-bind="v.text"></div>\n                      </div>\n                      \x3c!--<div class="row" ng-if="v.type === \'task\'">--\x3e\n                        \x3c!--<small class="assignees-name" once-text="v.assignments[0].user_id | getUserName"></small>--\x3e\n                        \x3c!--<small class="text-muted date" ng-if="v.due_date != 0" once-text="v.due_date | date"></small>--\x3e\n                        \x3c!--<select class="btn btn-link btn-edit pull-right pre-line-text btn-sm" ng-model="v.assignments[0].status" ng-change="updateCommentAction(v)" title="{{\'Update\' | translate}}">--\x3e\n                          \x3c!--<option value="incomplete" translate>Incomplete</option>--\x3e\n                          \x3c!--<option value="complete" translate>Complete</option>--\x3e\n                          \x3c!--<option value="decline" translate>Decline</option>--\x3e\n                        \x3c!--</select>--\x3e\n                      \x3c!--</div>--\x3e\n                      <div class="row">\n                        \x3c!--<div class="col-sm-6 comment-delete" ng-if="isMyComment(v)">--\x3e\n                        <div class="col-sm-6 comment-delete">\n                          <button type="button" class="btn btn-link btn-remove pull-right pre-line-text btn-sm" ng-click="deleteCommentAction(v)" title="{{\'Delete\' | translate}}"><i class="fa fa-trash"></i></button>\n                          <button type="button" class="btn btn-link btn-edit pull-right pre-line-text btn-sm" ng-click="editCommentAction(v)" title="{{\'Edit\' | translate}}"><i class="fa fa-pencil"></i></button>\n                        </div>\n                        <div class="col-sm-6 comment-delete" ng-if="!isMyComment(v)">\n                          <button type="button" class="btn btn-link btn-reply pull-right pre-line-text btn-sm" ng-click="replyComment(v)" title="{{\'Reply\' | translate}}"><i class="fa fa-commenting"></i></button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="comment-form" n-g-show="showCommentForm">\n    <div class="gradient-line"></div>\n    <div class="row" ng-show="editingComment">\n      <div class="col-md-12">\n        <button class="btn-fxd btn-fxd-top" type="button" ng-click="clearFormAction()"><i class="icon icon-cross"></i></button>\n        <div class="comment-text editing" ng-bind="editingComment"></div>\n      </div>\n    </div>\n    <form class="row">\n      <div class="col-md-12">\n        <textarea class="form-control"\n                  name="comment-text"\n                  ng-model="commentText.value"\n                  ng-keydown="holdScreen($event)"\n        ></textarea>\n      </div>\n    <div class="row form-group">\n      \x3c!--<div class="col-md-12" ng-if="commentText.type === \'task\'">--\x3e\n        \x3c!--<input type="checkbox" ng-model="commentText.use_date" class="mar-l-15"/><span class="mar-l-10" translate>End date</span>--\x3e\n        \x3c!--<div class="form-group">--\x3e\n          \x3c!--<input type="text" class="mar-l-15 b-linkoptions__ttl half-width mar-b-10" datepicker-popup="{{datePickerOpt.format}}"--\x3e\n               \x3c!--datepicker-options="datePickerOpt" min-date="datePickerMin" show-button-bar="false" ng-if="commentText.use_date"--\x3e\n               \x3c!--is-open="datePickerOpt.isOpen" close-on-date-selection="true" readonly ng-required="true"--\x3e\n               \x3c!--ng-model="commentText.due_date" ng-focus="openDatePicker()" placeholder="{{ \'Choose date\' | translate }}" ng-change="checkDate()">--\x3e\n        \x3c!--</div>--\x3e\n      \x3c!--</div>--\x3e\n        <div class="col-sm-7 form-control-wide">\n          <button type="submit" class="btn btn-primary btn-full btn-sm" ng-click="addCommentAction(commentText)" ng-disabled="!commentText.value" translate>Send</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n')}]),b.module("clFilePreview/clFilePreviewHeader.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreviewHeader.tpl.html","")}]),b.module("clFilePreview/clFilePreviewToobar.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreviewToobar.tpl.html",'<div class="container-fluid">\n  <div class="row">\n    <div class="b-modal-preview__toolbar-label col-sm-6 col-md-3 hidden-xs text-left" ng-if="opts.toolbar !== null">\n      <a class="btn-preview-link" href="" ng-if="opts.toolbar.download !== false" ng-click="downloadFile(currentItem.version)" cl-ellipsis ng-bind="currentItem.path | filename"></a>\n    </div>\n    <div class="b-modal-preview__toolbar-label col-sm-6 col-md-3 hidden-xs text-left" ng-if="opts.toolbar === null">\n      <span class="btn btn-link btn-preview-link" cl-ellipsis ng-bind="currentItem.path | filename"></span>\n    </div>\n    <div class="col-md-6 hidden-xs hidden-sm">\n      <div ng-if="contentItems.length <= 100 && (prevItem || nextItem)" cl-preview-carousel="contentItems" cl-preview-carousel-item="currentItem"></div>\n    </div>\n    <div class="b-modal-preview__toolbar-buttons col-xs-12 col-sm-6 col-md-3" ng-if="opts.toolbar !== null">\n      <button class="btn btn-link pull-right" type="button" cl-popover-metadata-info="currentItem"><i class="icon icon-info"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.versions !== false" ng-click="changeFlag(\'versionPanel\', true)" title="Versions ({{currentItem.versions.length}})"><i class="icon icon-clocks"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.sharing !== false" ng-click="showSharingDialog()"><i class="icon icon-link"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.download !== false" ng-click="downloadFile(currentItem.version)"><i class="icon icon-down-arrow"></i></button>\n    </div>\n  </div>\n</div>\n')}]),b.module("clFilePreview/clFilePreviewVersion.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreviewVersion.tpl.html",'<div class="modal-version-wrapper">\n  <button class="btn-fxd btn-fxd-top" type="button" ng-click="changeFlag(\'versionPanel\', false)"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h2 translate>Versions</h2>\n      </div>\n    </div>\n    <hr class="hr-sm border-none">\n    <div class="row">\n      <div class="col-md-12">\n        <span type="button" class="btn btn-primary btn-sm b-versions__btn-uploader" ng-if="metadata.role !== \'reader\'">\n          <span class="b-uploader__file-select">\n            <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n            <span translate>Upload new version</span>\n          </span>\n        </span>\n      </div>\n    </div>\n    <hr class="hr-sm border-none">\n    <div class="row" ng-if="!currentItem.versions">\n      <div cl-loaded></div>\n    </div>\n    <div class="row" ng-if="currentItem.versions">\n      <ul class="b-versions__list">\n        <li ng-repeat="v in currentItem.versions" ng-click="changeVersion($event, v)">\n          <div class="container-fluid" ng-class="{\'active\': currentItem.version === v.version}">\n            <div class="row">\n              <div class="col-md-12">\n                <div class="preview-version">\n                  <div class="preview-toolbar" ng-if="currentItem.version === v.version">\n                    <button type="button" class="btn btn-link btn-xs" ng-if="$root.CurrentUser.can_download" ng-click="downloadFile(v.version)" title="{{\'Download\' | translate}}"><i class="icon icon-down-arrow"></i></button>\n                    <button type="button" class="btn btn-link btn-xs" ng-if="currentItem.version !== currentItem.versions[0].version && metadata.role !== \'reader\'" ng-click="restoreVersion(currentItem.version)" title="{{\'Restore\' | translate}}"><i class="icon icon-restart"></i></button>\n                  </div>\n                  <table class="b-layout-fixed">\n                    <col width="50%">\n                    <col width="50%">\n                    <tr>\n                      <td>\n                        <small ng-bind="v.timestamp | date:\'short\'"></small>\n                        <br>\n                        <small class="text-muted" ng-bind="v.author_name"></small>\n                      </td>\n                      <td class="text-right">\n                        <div class="b-content-list-grid__icon" cl-item-icon="v.content" cl-icon-size="medium"></div>\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),b.module("clFilePreview/previewAdobe.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/previewAdobe.tpl.html",'<div ng-if="($root.link_metadata && $root.link_metadata.use_watermarks) ||\n          ($root.CurrentUser && $root.CurrentUser.use_watermarks)" class="document_pagination" ng-hide="isLoadingPagination">\n  <button class="btn left-btn" ng-click="prevPage()"><i class="glyphicon glyphicon-chevron-left"></i></button>\n  <button class="btn right-btn" ng-click="nextPage()"><i class="glyphicon glyphicon-chevron-right"></i></button>\n  <input name="page" type="text" ng-model="form.current_page" class="text"/>\n  <span ng-bind=" \'/\' + form.whole_page"></span>\n  <button class="btn" ng-click="goToPage()" translate>Go</button>\n</div>\n\x3c!--<div class="fake-panel" ng-hide="PageChainging"></div>--\x3e\n<div class="preview preview-document">\n  <iframe\n   class="pdf-viewer" frameborder="0" border="0" marginwidth="0" marginheight="0" scrolling="no"\n   allowfullscreen="true" mozallowfullscreen="true" msallowfullscreen="true" oallowfullscreen="true" webkitallowfullscreen="true"\n   frameBorder="0"\n   ng-if="currentItem.icon === \'ebook_adobe\' && !currentItem.extradata.pdf.link"\n   ng-src="{{\'/assets/pdfjs/web/viewer.html?file=\'|trustsrc:currentItem.file.url}}" cl-pdfjs></iframe>\n  <iframe\n   class="pdf-viewer" frameborder="0" border="0" marginwidth="0" marginheight="0" scrolling="no"\n   allowfullscreen="true" mozallowfullscreen="true" msallowfullscreen="true" oallowfullscreen="true" webkitallowfullscreen="true"\n   frameBorder="0"\n   ng-if="currentItem.extradata.pdf.link"\n   ng-src="{{\'/assets/pdfjs/web/viewer.html?file=\'|trustsrc:currentItem.extradata.pdf.link}}" cl-pdfjs></iframe>\n</div>')}]),b.module("clFilePreview/previewAudio.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/previewAudio.tpl.html",'<div class="preview preview-audio" ng-if="currentItem.file.url">\n  <span class="align-guide"></span>\n  <div>\n    <div class="b-preview-audio__icon">\n        <div class="b-content-list-grid__icon" cl-item-icon="currentItem" cl-icon-size="large"></div>\n    </div>\n    <audio controls>\n      <source ng-src="{{currentItem.file.url|trustsrc}}" type="{{currentItem.mime_type}}">\n    </audio>\n  </div>\n</div>\n')}]),b.module("clFilePreview/previewImage.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/previewImage.tpl.html",'<div class="b-modal-preview__preview-image preview preview-image" cl-swipe-preview cl-swipe-preview-left="!!nextItem" cl-swipe-preview-right="!!prevItem" cl-swipe-preview-onend="onSwipeEnd">\n  <span class="align-guide"></span>\n  \x3c!--<a ng-if="nextItem" ui-sref="{{$root.$state.$current.name}}({file: nextItem.path})">\n    <img class="b-modal-preview__img" ng-src="{{currentItem.extradata.thumbnails.preview.link | trustsrc}}" alt="">\n  </a>\n  <img class="b-modal-preview__img" ng-if="!nextItem" ng-src="{{currentItem.extradata.thumbnails.preview.link | trustsrc}}" alt="">--\x3e\n  <img class="b-modal-preview__img" ng-src="{{currentItem.extradata.thumbnails.preview.link | trustsrc}}" alt="">\n</div>\n')}]),b.module("clFilePreview/previewOther.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/previewOther.tpl.html",'<div class="preview preview-other">\n  <span class="align-guide"></span>\n  <div class="download-file-wrapper">\n    <div ng-if="currentItem.previewIsNotReady || (currentItem.needUrlForPreview && isLoading)" class="alert alert-danger" translate>Preview is not available yet</div>\n    <div ng-if="currentItem.extradata.pdf.status === \'waiting\'" class="alert alert-danger" translate>Create a preview, please wait...</div>\n    <h4 ng-bind="currentItem.path | filename" cl-ellipsis></h4>\n    <div class="b-content-list-grid__icon" cl-item-icon="currentItem" cl-icon-size="medium"></div>\n\n    <p><small><span translate>Uploaded</span> <span ng-bind="currentItem.updated | date:\'short\'"></span><br><span translate>User</span> <span ng-bind="currentItem.author_name"></span></small></p>\n    <p ng-if="opts.toolbar.download !== false"><button class="btn btn-primary" type="button" ng-click="downloadFile(currentItem.version)"><span translate>Download</span> (<span ng-bind="currentItem.bytes | bytes"></span>)</button></p>\n    <p ng-if="$root.CurrentUser.userid && CurrentUser.userid == currentItem.owner && opts.toolbar && opts.toolbar.sharing !== false"><button type="button" class="btn btn-primary" ng-click="showSharingDialog()" translate>Sharing</button></p>\n    \x3c!--<p ng-if="$root.CurrentUser.userid && CurrentUser.userid != currentItem.owner"><button type="button" class="btn btn-primary" ng-click="appendToMyCloudike()" translate>Add to my Cloudike</button></p>--\x3e\n  </div>\n</div>\n')}]),b.module("clFilePreview/previewVideo.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/previewVideo.tpl.html",'<div class="preview preview-video">\n  <span class="align-guide"></span>\n  <div cl-video="currentItem"></div>\n</div>\n')}]),b.module("clFolderAsTree/clFolderAsTree-simple-with-size.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderAsTree/clFolderAsTree-simple-with-size.tpl.html",'<ul once-class="{\'nav nav-pills nav-stacked simple-mode no-animate\': true}" once-style="{transform: translate3d(0,0,0)}">\n <li once-class="{\'collapse-in\': $root.testPath(currentPath, folder.path)}">\n  <a once-class="{\'b-menu__item-link\': true}" data-path="{{folder.path}}">\n      <span ng-click="folder.folder && clickItemMenu($event, folder)">\n        <span once-class="{\'col-xs-2 b-menu__item-link-toolbar\': true}" once-if="folder.folder">\n          <span once-class="{\'b-menu__item-icon b-menu__item-icon-chevron-right\': true}"><i once-class="{\'fa fa-caret-right\': true}"></i></span>\n          <span once-class="{\'b-menu__item-icon b-menu__item-icon-chevron-down\': true}"><i once-class="{\'fa fa-caret-down\': true}"></i></span>\n        </span>\n       <div once-class="{\'col-xs-10 pad-a-0\': true}">\n        <div once-class="{\'col-xs-8\': true}">\n         <i once-wait-for="folder.folder" once-class="{\'icon icon-2  text-muted\': true, \'icon-folder\': folder.folder, \'icon-file\' : !folder.folder}"></i>\n         <span once-class="{\'slide-item\': true}" once-text="folder.path | filename:($root.CONST.be.app_name | translate)"></span>\n        </div>\n        <span once-wait-for="folder.path" once-if="folder.path !== \'undefined\'" once-class="{\'slide-item col-xs-4 strong\': true}" once-text="folder.bytes | bytes" translate></span>\n       </div>\n      </span>\n  </a>\n  <div once-class="{\'collapse\': true}" once-if="folder.content.length">\n   <div ng-repeat="folder in folder.content | orderBy: [\'-folder\', \'path\'] track by folder.path" on-finish-render\n        ng-if="folder.modified < doneTime"\n        ng-include="\'clFolderAsTree/clFolderAsTree-simple-with-size.tpl.html\'"></div>\n  </div>\n </li>\n</ul>\n')}]),b.module("clFolderAsTree/clFolderAsTree-simple.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderAsTree/clFolderAsTree-simple.tpl.html",'<ul class="nav nav-pills nav-stacked simple-mode" ng-if="folder.folder">\n  <li\n    ng-class="{\'collapse-in\': $root.testPath(currentPath, folder.path)}"\n  >\n    <a class="b-menu__item-link" href=""\n      data-path="{{folder.path}}"\n    >\n      <span ng-click="clickItemMenu($event, folder)">\n        <span class="b-menu__item-link-toolbar">\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-right"><i class="fa fa-caret-right"></i></span>\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-down"><i class="fa fa-caret-down"></i></span>\n        </span>\n        <span class="slide-item" ng-bind="folder.path | filename:($root.CONST.be.app_name | translate)"></span>\n      </span>\n    </a>\n    <form ng-if="createFolderPath == folder.path" name="formCreateFolder" ng-submit="formCreateFolder.$valid && createFolder(formCreateFolder)" cl-server-validate="{403: \'FolderExists\', 400: \'ServerError\'}" novalidate>\n      <div class="form-group" ng-class="{\'has-error\': formCreateFolder.$dirty && formCreateFolder.$invalid}">\n        <div class="input-group">\n          <input type="text" class="form-control input-sm" ng-model="newFolder.name" name="newFolderName" cl-set-focus-once="true" ng-click="$event.stopPropagation()" ng-required="true" ng-pattern="$root.CONST.fe.filenameAllowedCharactersPattern" />\n          <span class="input-group-btn">\n            <button class="btn btn-sm btn-primary" type="submit"><i class="fa fa-check"></i></button>\n          </span>\n        </div>\n        <span class="help-block" ng-if="formCreateFolder.$dirty && formCreateFolder.newFolderName.$error.required" translate>Folder name should be specified</span>\n        <span class="help-block" ng-if="formCreateFolder.newFolderName.$error.pattern" translate>Invalid character in folder name</span>\n        <span class="help-block" ng-if="formCreateFolder.$error.FolderExists" translate>Folder already exists</span>\n        <span class="help-block" ng-if="formCreateFolder.$error.ServerError" translate>Server error occurred during request processing</span>\n      </div>\n    </form>\n    <div class="collapse" ng-if="folder.content.length">\n      <div ng-repeat="folder in folder.content | naturalOrderBy:\'path\'"\n           ng-if="folder.folder"\n           ng-include="\'clFolderAsTree/clFolderAsTree-simple.tpl.html\'"></div>\n    </div>\n  </li>\n</ul>\n')}]),b.module("clFolderAsTree/clFolderAsTree.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderAsTree/clFolderAsTree.tpl.html",'<ul class="nav nav-pills nav-stacked" ng-if="folder.folder">\n  <li\n    ng-class="{\'collapse-in\': $root.testPath(currentPath, folder.path)}"\n    ui-sref-active="active"\n    cl-draggable="folder.path != \'/\'" drag-set-data="dragSetData(folder)" drag-channel="moveFile" drag-template="clDragDrop/moveFiles.tpl.html"\n  >\n    <a class="b-menu__item-link" href=""\n      ui-sref="drive({path: folder.path != \'/\' ? folder.path : \'\'})"\n      cl-on-drop="onDrop(folder, $data)" drop-channel="moveFile"\n      data-path="{{folder.path}}"\n      cl-analytics-on="click" cl-analytics-on-event="transition.drive.tree"\n    >\n      <span ng-click="clickItemMenu($event, folder)">\n        <span class="b-menu__item-link-toolbar">\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-right"><i class="fa fa-caret-right"></i></span>\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-down"><i class="fa fa-caret-down"></i></span>\n        </span>\n        <span class="slide-item" ng-bind="folder.path | filename:($root.CONST.be.app_name | translate)"></span>\n      </span>\n    </a>\n    <div class="collapse" ng-if="folder.content.length">\n      <div ng-repeat="folder in folder.content | naturalOrderBy:\'path\'"\n           ng-if="folder.folder"\n           ng-include="\'clFolderAsTree/clFolderAsTree.tpl.html\'"></div>\n    </div>\n  </li>\n  <li ng-if="folder.isRoot" ui-sref-active="active" class="single-item">\n    <a ui-sref="shared({path: \'\'})" class="b-menu__item-link"><span><span translate>Shared files</span></span></a>\n  </li>\n  <li ng-if="folder.isRoot && $root.CurrentUser.company_id" ui-sref-active="active" class="single-item">\n     <a ui-sref="companyFolders" class="b-menu__item-link"><span><span translate="COMPANY folders" translate-values="{COMPANY: $root.CurrentCompany.name}"></span></span></a>\n  </li>\n  <li ng-if="folder.isRoot && $root.CONST.be.disable_contacts !== true" ui-sref-active="active" class="single-item">\n    <a ui-sref="contacts" class="b-menu__item-link"><span><span translate>Contacts</span></span></a>\n  </li>\n  <li ng-if="folder.isRoot" ui-sref-active="active" class="single-item">\n    <a ui-sref="trash({path: \'\'})" class="b-menu__item-link"><span><span translate>Trash</span></span></a>\n  </li>\n</ul>\n')}]),b.module("clFolderContents/folderContentsAsGrid.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/folderContentsAsGrid.tpl.html",'<ul class="b-content-item-grid">\n  <li class="thumbnail b-content-list-grid__item b-no-animation"\n    ng-repeat="item in currentFolder.content || currentFolder | naturalOrderBy:currentSort"\n    ng-class="{active: selectedItems[item[uniqueItemField]]}"\n    cl-context-menu="item" cl-context-menu-disabled="opts.disableContextMenu" cl-context-menu-folder="currentFolder.content ? currentFolder : {}" cl-context-menu-entry="{{contextMenuEntry}}" cl-context-menu-namespace="folder-contents-context"\n    cl-draggable="opts.enableItemDragging" drag-set-data="dragSetData(item)" drag-channel="moveFile" drag-template="clDragDrop/moveFiles.tpl.html"\n    cl-on-drop="onDrop(item, $data)" drop-channel="moveFile"\n    cl-folder-contents-grid-cell></li>\n</ul>\n')}]),b.module("clFolderContents/folderContentsAsGridCell.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/folderContentsAsGridCell.tpl.html",'<span ng-if="opts.enableShare" class="icon-link-tiny-wrapper" ng-class="(item.shared || item.public_hash) ? \'\' : \'icon-link-tiny-wrapper__hidden\'">\n  <i class="icon icon-4 icon-link-tiny-circle p-cursor-pointer" ng-click="showSharingDialog(item)"></i>\n</span>\n<label ng-if="opts.checkboxes !== false">\n  <input type="checkbox" ng-model="selectedItems[item[uniqueItemField]]" ng-change="updateSelectedItems()" ng-disabled="!item.__allowSelect" class="b-content-list-grid__checkbox">\n</label>\n<a once-href="itemHref(item)">\n  <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="large"></div>\n</a>\n<div class="caption">\n  <table class="b-layout-fixed input-sm">\n    <tbody>\n      <tr>\n        <td>\n          <a class="b-content-list__item-filename"\n            once-href="itemHref(item)"\n            cl-rename="item"\n            cl-rename-namespace="folder-contents folder-contents-context"\n            once-title="item.path | filename"\n          >\n            <span class="text-ellipsis" ng-if="item.folder" once-text="item.path | filename" cl-analytics-on="click" cl-analytics-on-event="transition.drive.grid"></span>\n            <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),b.module("clFolderContents/folderContentsAsList.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/folderContentsAsList.tpl.html",'<table class="table table-condensed table-hover b-content-list b-layout-fixed" cl-sortable-table="opts.gridName" cl-sortable-table-sort="opts.defaultSort">\n  <col width="35px" ng-if="opts.checkboxes !== false">\n  <col width="10px" ng-if="opts.checkboxes === false">\n  <col ng-repeat="col in opts.columnDefs" ng-class="col.colClass" width="{{col.size}}">\n  <col class="b-table-rpad" ng-if="opts.rpad === true">\n  <thead>\n    <tr>\n      <th class="text-center" ng-if="opts.checkboxes !== false">\n        \x3c!--<cl-checkbox state="{value:commonCheckboxState}" change="toggleCommonCheckbox()"></cl-checkbox>--\x3e\n        <label class="b-content-list__label"><input type="checkbox" ng-checked="commonCheckboxState == \'checked\'" ui-indeterminate="commonCheckboxState == \'indeterminate\'" ng-click="toggleCommonCheckbox()"></label>\n      </th>\n      <th ng-if="opts.checkboxes === false"></th>\n      <th ng-repeat="col in opts.columnDefs" ng-class="[col.cellClass, col.colClass]" cl-sortable-table-column="{{col.sortKey}}"  once-text="col.title"></th>\n      <th class="b-table-rpad" ng-if="opts.rpad === true"></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="b-no-animation"\n      ng-repeat="item in currentFolder.content || currentFolder | naturalOrderBy:currentSort"\n      ng-class="{active: selectedItems[item[uniqueItemField]]}"\n      cl-context-menu="item" cl-context-menu-disabled="opts.disableContextMenu" cl-context-menu-folder="currentFolder.content ? currentFolder : {}" cl-context-menu-entry="{{contextMenuEntry}}" cl-context-menu-namespace="folder-contents-context"\n      cl-draggable="opts.enableItemDragging" drag-set-data="dragSetData(item)" drag-channel="moveFile" drag-template="clDragDrop/moveFiles.tpl.html"\n      cl-on-drop="onDrop(item, $data)" drop-channel="moveFile"\n      cl-folder-contents-list-row></tr>\n  </tbody>\n</table>\n')}]),b.module("clFolderContents/folderContentsAsListRow.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/folderContentsAsListRow.tpl.html",'<td class="b-content-list__cell text-center" ng-if="opts.checkboxes !== false">\n  <label class="b-content-list__label">\n    <input type="checkbox" ng-model="selectedItems[item[uniqueItemField]]" ng-change="updateSelectedItems()" ng-disabled="!item.__allowSelect">\n  </label>\n</td>\n<td ng-if="opts.checkboxes === false"></td>\n<td ng-repeat="col in opts.columnDefs" ng-class="[\'b-content-list__cell\' ,col.cellClass, col.colClass]" cl-folder-contents-list-cell></td>\n<td ng-if="opts.rpad === true"></td>\n')}]),b.module("clHiddenInput/clHiddenInput.tpl.html",[]).run(["$templateCache",function(a){a.put("clHiddenInput/clHiddenInput.tpl.html",'<div class="hidden-input"\n     ng-class="{\'{{class}}\': true, \'active\': !model[options.valueField] || model._focused, \'was-focused\': wasFocused}">\n  <div class="holder" ng-if="readonly">\n    <span ng-if="!model[options.valueField]">&nbsp;</span>\n    {{model[options.valueField]}}\n  </div>\n  <div class="holder" ng-click="setFocus()" tabindex="0" ng-focus="setFocus()" ng-if="!readonly">\n    <span ng-if="!model[options.valueField]">&nbsp;</span>\n    {{model[options.valueField]}}\n  </div>\n  <input type="text" class="form-control control" maxlength="150" placeholder="{{placeholder | translate}}"\n         ng-if="!readonly && options.input != \'textarea\'"\n         ng-model="model[options.valueField]"\n         ng-focus="model._focused = true;"\n         ng-blur="blur()"\n         ng-pattern="inputPattern">\n\n  <div ng-if="!readonly && options.input == \'textarea\'">\n    <textarea class="form-control control" maxlength="300" placeholder="{{placeholder | translate}}"\n              ng-model="model[options.valueField]"\n              ng-focus="model._focused = true;"\n              ng-blur="blur()"\n              msd-elastic></textarea>\n  </div>\n</div>\n')}]),b.module("clItemIcon/clItemIcon.tpl.html",[]).run(["$templateCache",function(a){a.put("clItemIcon/clItemIcon.tpl.html",'<div ng-class="type.className">\x3c!--\n  --\x3e<span></span>\x3c!--\n  --\x3e<img ng-if="type.tmb" ng-src="{{type.tmb}}" alt="{{type.alt}}">\x3c!--\n  --\x3e<i ng-if="!type.tmb" ng-class="type.iClass" alt="{{type.alt}}"></i>\x3c!--\n--\x3e</div>\n')}]),b.module("clLoading/progressbar.tpl.html",[]).run(["$templateCache",function(a){a.put("clLoading/progressbar.tpl.html",'<div class="alert alert-info">\n  <img src="/assets/cl-ajax-loader.gif" alt="" />\n</div>\n')}]),b.module("clMenu/menuContext.tpl.html",[]).run(["$templateCache",function(a){a.put("clMenu/menuContext.tpl.html",'<li ng-repeat="m in menu" ng-if="m.shown" ng-class="{\'divider\': m.divider}">\n  \x3c!-- $parent.$parent.$parent.action because none root node --\x3e\n  <button type="button" class="btn btn-link btn-block" ng-disabled="!m.enabled" clip-copy="$parent.$parent.$parent.action(m.clip)"\n          ng-if="!m.divider && m.clip && clip_available">\n    <i class="icon" ng-class="m.iconClass"></i>\n    <span once-text="m.title | translate"></span>\n  </button>\n  <button type="button" class="btn btn-link btn-block" ng-disabled="!m.enabled" ng-click="$parent.$parent.$parent.action(m.action)"\n          ng-if="!m.divider && !m.clip">\n    <i class="icon" ng-class="m.iconClass"></i>\n    <span once-text="m.title | translate"></span>\n  </button>\n</li>\n')}]),b.module("clMenu/menuNav.tpl.html",[]).run(["$templateCache",function(a){a.put("clMenu/menuNav.tpl.html",'<li ng-repeat="m in menu" ng-if="m.shown" ng-class="{\'divider-vertical\': m.divider, \'is-disabled\': !m.enabled}">\n  \x3c!-- $parent.$parent.$parent.action because none root node --\x3e\n  <button class="text-center" type="button" ng-disabled="!m.enabled" ng-click="$parent.$parent.$parent.action(m.action)" ng-if="!m.divider" title="{{m.title | translate}}">\n    <i class="icon icon-3" ng-class="m.iconClass"></i>\n    <span ng-bind="m.title | translate"></span>\n  </button>\n</li>\n')}]),b.module("clMoveOrCopy/clMoveOrCopy.tpl.html",[]).run(["$templateCache",function(a){a.put("clMoveOrCopy/clMoveOrCopy.tpl.html",'<div class="modal-header mv-or-cp">\n  <button type="button" class="close" ng-click="$close(0)"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>Choose destination folder</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body mv-or-cp">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <div class="metadata-tree b-menu" cl-folder-as-tree-simple cl-folder-as-tree-item-click="itemClick" cl-folder-as-tree-namespace="moveOrCopy" cl-perfect-scrollbar></div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer mv-or-cp">\n  <div class="container-fluid">\n    <div class="row" ng-if="opts.noCreateFolder !== true">\n      <div class="col-md-12 create-folder text-muted" ng-if="toPath">\n        <span><a href="" class="p-cursor-pointer" ng-click="createFolder()" translate>Create new folder</a><span class="text-muted"> <span translate>in</span> {{toPath | filename:(\'My Cloudike\' | translate)}}</span></span>\n      </div>\n    </div>\n    <div class="row" ng-if="opts.onlyCopy !== true">\n      <div class="col-xs-6">\n        <button class="btn btn-primary btn-block" type="button" ng-disabled="!toPath" ng-click="move()" translate>Move</button>\n      </div>\n      <div class="col-xs-6 text-left">\n        <span class="text-muted hidden-xs" translate>or</span>\n        <button class="btn btn-link" type="button" ng-disabled="!toPath" ng-click="copy()" translate>Copy</button>\n      </div>\n    </div>\n    <div class="row" ng-if="opts.onlyCopy === true">\n      <div class="col-xs-12">\n        <button class="btn btn-primary btn-block" type="button" ng-disabled="!toPath" ng-click="copy()" translate>Copy</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clNoticesList/clNoticeInviteToFolder.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticeInviteToFolder.tpl.html",'<button class="btn btn-primary" type="button" ng-if="item.status == \'new\'" ng-click="acceptInvite(item)" translate>Accept</button>\n<button class="btn btn-link" type="button" ng-if="item.status == \'new\'" ng-click="denyInvite(item)" translate>Refuse</button>\n<button class="btn btn-link" type="button" ng-if="item.status == \'accepted\'" disabled translate>Accepted</button>\n<button class="btn btn-link" type="button" disabled ng-if="item.status == \'declined\'" translate>Refused</button>\n')}]),b.module("clNoticesList/clNoticeRequestAccess.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticeRequestAccess.tpl.html",'<div ng-if="item.status == \'new\'" ng-init="dummy = {showAccessSelection: false};">\n  <div ng-if="!dummy.showAccessSelection" class="b-notice_request_access">\n    <button class="btn btn-primary" type="button" ng-click="dummy.showAccessSelection=true;" translate>Approve</button>\n    <button class="btn btn-link" type="button" ng-click="denyRequestAccess(item)" translate>Deny</button>\n  </div>\n  <div ng-if="dummy.showAccessSelection" class="btn-group b-notice_request_access" cl-off-click="dummy.showAccessSelection=false;">\n    <button class="btn btn-sm btn-primary" type="button" ng-click="approveRequestAccess(item, 0)" translate>Read only</button>\n    <button class="btn btn-sm btn-primary" type="button" ng-click="approveRequestAccess(item, 1)" translate>Can edit</button>\n  </div>\n</div>\n<div ng-if="item.status == \'accepted\'">\n  <button class="btn btn-link" type="button" disabled translate>Approved</button>\n</div>\n<div ng-if="item.status == \'declined\'">\n  <button class="btn btn-link" type="button" disabled translate>Declined</button>\n</div>\n')}]),b.module("clNoticesList/clNoticesList.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticesList.tpl.html",'<ul class="b-list__events" cl-perfect-scrollbar cl-noclick="true">\n  <li ng-repeat="item in notices | orderBy:sort" ng-class="\'notice-\' + item.status">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <table class="b-layout-fixed">\n            <colgroup>\n              <col width="50px">\n              <col width="*">\n              <col width="40%">\n            </colgroup>\n            <tbody>\n              <tr>\n                <td>\n                  <div class="b-content-list-grid__icon" cl-item-icon="{type: \'folder\'}" cl-icon-size="small"></div>\n                </td>\n                <td>\n                  <div>\n                    <span class="b-activity" cl-item-log item-info="item" item-info-icon-flag="false"></span>\n                    <a ng-if="item.status === \'new\' && item.action === \'share_request_sent\'" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'"></a>\n                    <a ng-if="item.status === \'new\' && item.action !== \'share_request_sent\'" ui-sref="shares({hash: item.hash})" once-text="item.path | filename:\'/\'"></a>\n                    <a ng-if="item.status === \'declined\'" once-text="item.path | filename:\'/\'"></a>\n                    <a ng-if="item.status !== \'new\' && item.status !== \'declined\'" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'"></a>\n                  </div>\n                  <div>\n                    <small ng-bind="item.timestamp | date:\'short\'"></small>\n                  </div>\n                </td>\n                <td class="text-right" ng-include="item.noticeActionTemplate"></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>\n')}]),b.module("clPopoverMetadataInfo/clPopoverMetadataInfo.tpl.html",[]).run(["$templateCache",function(a){a.put("clPopoverMetadataInfo/clPopoverMetadataInfo.tpl.html",'<div class="popover {{placement}}" ng-class="{in: isOpen(), fade: animation()}">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n    <div class="popover-content">\n      <div class="popover-content-wrapper">\n        <h4 translate>File</h4>\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-xs-6 text-right"><span translate>Name</span>:</div>\n            <div class="col-xs-6 break-word" ng-bind="metadata.path | filename"></div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6 text-right"><span translate>Size</span>:</div>\n            <div class="col-xs-6 break-word" ng-bind="metadata.bytes | bytes"></div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6 text-right"><span translate>Modified</span>:</div>\n            <div class="col-xs-6 break-word" ng-bind="metadata.modified | date:\'short\'"></div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6 text-right"><span translate>Imported</span>:</div>\n            <div class="col-xs-6 break-word" ng-bind="metadata.created | date:\'short\'"></div>\n          </div>\n        </div>\n        <div ng-show="metadata.extradata.metainfo.width">\n          <hr class="border-none hr-sm">\n          <h4 class="text-muted" translate>Image</h4>\n          <div class="container-fluid">\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Width</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.width"></div>\n            </div>\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Height</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.height"></div>\n            </div>\n            <div class="row" ng-show="metadata.extradata.metainfo.creation_time">\n              <div class="col-xs-6 text-right"><span translate>Original date</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.creation_time | date:\'short\'"></div>\n            </div>\n            <div class="row" ng-show="metadata.extradata.metainfo.duration">\n              <div class="col-xs-6 text-right"><span translate>Duration</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.duration"></div>\n            </div>\n          </div>\n        </div>\n        <div ng-show="metadata.icon === \'image\' && metadata.extradata.metainfo.make">\n          <hr class="border-none hr-sm">\n          <h4 class="text-muted" translate>Camera</h4>\n          <div class="container-fluid">\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Maker</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.make"></div>\n            </div>\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Model</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.model"></div>\n            </div>\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Exposure time</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.exposure_time"></div>\n            </div>\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>ISO speed ratings</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.iso_speed_ratings"></div>\n            </div>\n            <div class="row">\n              <div class="col-xs-6 text-right"><span translate>Aperture value</span>:</div>\n              <div class="col-xs-6 break-word" ng-bind="metadata.extradata.metainfo.aperture_value"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clPreviewCarousel/clPreviewCarousel.tpl.html",[]).run(["$templateCache",function(a){a.put("clPreviewCarousel/clPreviewCarousel.tpl.html",'<div class="carousel-wrapper">\n  <table>\n    <tr>\n      <td ng-repeat="item in items">\n        <a ui-sref="{{ $root.$state.$current.name }}({file: item.path})">\n          <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="c-medium"></div>\n        </a>\n      </td>\n    </tr>\n  </table>\n</div>\n')}]),b.module("clProgressBar/clProgressBar.tpl.html",[]).run(["$templateCache",function(a){a.put("clProgressBar/clProgressBar.tpl.html",'<div class="progress">\n  <div class="progress-bar" style="width: 60%;">\n  </div>\n</div>\n')}]),b.module("clRename/clRename.tpl.html",[]).run(["$templateCache",function(a){a.put("clRename/clRename.tpl.html",'<form ng-class="formClass" ng-submit="close()">\n  <div class="input-group">\n    <input type="text" class="form-control input-sm" ng-model="filename">\n    <span class="input-group-btn">\n      <button class="btn btn-sm btn-primary" type="submit"><i class="fa fa-check"></i></button>\n    </span>\n  </div>\n</form>\n')}]),b.module("clSearchForm/clSearchForm.tpl.html",[]).run(["$templateCache",function(a){a.put("clSearchForm/clSearchForm.tpl.html",'<form ng-submit="gotoSearch(searchform.query)" autocomplete="off" novalidate>\n  <div class="input-group">\n    <input class="form-control" type="text" placeholder="{{\'search...\' | translate}}" ng-required="true" ng-model="searchform.query">\n    <span class="input-group-btn">\n      <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>\n    </span>\n  </div>\n</form>\n')}]),b.module("clSelect/clSelect.tpl.html",[]).run(["$templateCache",function(a){a.put("clSelect/clSelect.tpl.html",'<div class="radio-select">\n  <span class="placeholder">\n    <strong ng-show="model != \'\'">\n      <span ng-show="showPlaceholder">{{placeholder | translate}}</span>\n      <span ng-show="!showPlaceholder">{{model | translate}}</span>\n    </strong>\n    <span ng-show="model == \'\'" class="text-muted">Input text</span>\n  </span>\n  <input type="text" ng-model="modelLower" ng-if="!readonly"><span class="caret" ng-if="!readonly"></span>\n  <div class="options">\n    <label ng-repeat="option in options" ng-click="hide(); $event.stopPropagation()" ng-class="{\'hover\': $index == activeIndex}">\n      <input type="radio" ng-value="option" ng-model="$parent.model">{{option | translate}}\n    </label>\n  </div>\n</div>\n')}]),b.module("clShare/clShare.tpl.html",[]).run(["$templateCache",function(a){a.put("clShare/clShare.tpl.html",'<div class="modal-tabs">\n  <button type="button" class="close" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <tabset class="modal-tabs-tabset" justified="true">\n    <tab>\n      <tab-heading ng-show="item.folder">\n        <i class="fa fa-globe fa-lg"></i>&nbsp;&nbsp;<span class="h4 text-bold media-bottom" translate>PUBLIC LINK</span>\n      </tab-heading>\n      <div class="container-fluid">\n        <div class="row">\n          <div class="col-md-2 hidden-xs hidden-sm" ng-if="!isAlbumMode">\n            <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="medium"></div>\n          </div>\n          <div class="col-md-2 hidden-xs hidden-sm" ng-if="isAlbumMode">\n            <div class="b-content-list-grid__icon medium">\n              <div class="file-gray">\n                <span></span>\n                <i class="fa fa-share-square-o"></i>\n              </div>\n            </div>\n          </div>\n          <div class="col-md-10 col-xs-12">\n            <div class="row">\n              <div class="col-xs-4 visible-xs" ng-if="!isAlbumMode">\n                <div class="b-content-list-grid__icon hidden-xxs" cl-item-icon="item" cl-icon-size="medium"></div>\n                <div class="b-content-list-grid__icon visible-xxs" cl-item-icon="item" cl-icon-size="s-medium"></div>\n              </div>\n              <div class="col-xs-4 visible-xs" ng-if="isAlbumMode">\n                <div class="b-content-list-grid__icon hidden-xxs medium">\n                  <div class="file-gray">\n                    <span></span>\n                    <i class="fa fa-share-square-o"></i>\n                  </div>\n                </div>\n                <div class="b-content-list-grid__icon visible-xxs s-medium">\n                  <div class="file-gray">\n                    <span></span>\n                    <i class="fa fa-share-square-o"></i>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-12 col-xs-8" ng-if="!isAlbumMode">\n                <h3 class="text-break">\n                  <span translate="Public link to \'FOLDER_NAME\'" translate-values="{FOLDER_NAME: $root.pathAsFilename(item.path)}"></span>\n                </h3>\n                <p class="text-left visible-xs">\n                  <span class="text-muted" ng-if="item.folder" translate>Anyone with the link can see it and download content of this folder</span>\n                  <span class="text-muted" ng-if="!item.folder" translate>Anyone with the link can see it and download this file</span>\n                </p>\n              </div>\n              <div class="col-md-12 col-xs-8" ng-if="isAlbumMode">\n                <h3 class="text-break">\n                  <span translate>Album link</span>\n                </h3>\n                <p class="text-left visible-xs">\n                  <span class="text-muted" translate>Anyone with the link can see it</span>\n                </p>\n              </div>\n            </div>\n            <div class="visible-xs" ng-if="!isAlbumMode && !item.public_hash_url">\n              <hr class="border-none hr-sm">\n              <button class="btn btn-primary btn-block" type="button" ng-click="getPublicLink()"><span translate>Create link</span></button>\n              <hr class="border-none hr-md">\n            </div>\n            <div class="visible-xs" ng-if="isAlbumMode && !albumHashUrl">\n              <hr class="border-none hr-sm">\n              <button class="btn btn-primary btn-block" type="button" ng-click="getAlbumLink()"><span translate>Create album</span></button>\n              <hr class="border-none hr-md">\n            </div>\n            <div class="visible-xs" ng-if="!isAlbumMode && item.public_hash_url">\n              <hr class="border-none hr-sm">\n              <button ng-if="CONST.fe.clip_available" class="btn btn-primary btn-block" type="button" clip-copy="item.public_hash_url" clip-click="afterClipMessage(\'public-link\')"><span translate>Copy</span></button>\n              <span ng-if="CONST.fe.clip_available" class="row-hint display-block text-center success-text fade" ng-class="{in: clipHints[\'public-link\']}" translate>Link is copied to clipboard</span>\n              <hr ng-if="CONST.fe.clip_available" class="border-none hr-xs">\n              <a class="btn btn-primary btn-block" ng-href="{{item.public_hash_url}}" target="_blank"><span translate>Open link</span></a>\n              <hr class="border-none hr-xs">\n              <button class="btn btn-primary btn-block" type="button" ng-click="deletePublicLink()"><span translate>Remove link</span></button>\n              <hr class="border-none hr-md">\n            </div>\n            <div class="visible-xs" ng-if="isAlbumMode && albumHashUrl">\n              <hr class="border-none hr-sm">\n              <button ng-if="CONST.fe.clip_available" class="btn btn-primary btn-block" type="button" clip-copy="albumHashUrl" clip-click="afterClipMessage(\'album-link\')"><span translate>Copy</span></button>\n              <span ng-if="CONST.fe.clip_available" class="row-hint display-block text-center success-text fade" ng-class="{in: clipHints[\'album-link\']}" translate>Link is copied to clipboard</span>\n              <hr ng-if="CONST.fe.clip_available" class="border-none hr-xs">\n              <a class="btn btn-primary btn-block" ng-href="{{albumHashUrl}}" target="_blank"><span translate>Open link</span></a>\n              <hr class="border-none hr-md">\n            </div>\n            <div class="visible-xs" ng-if="$root.CONST.be.disable_social_shared !== true">\n              <div class="btn-group btn-group-justified">\n                <a class="btn btn-default clr-gray" href="" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'facebook\')"><i class="fa fa-facebook"></i></a>\n                <a class="btn btn-default clr-gray" href="" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'twitter\')"><i class="fa fa-twitter"></i></a>\n                <a class="btn btn-default clr-gray" href="" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'g+\')"><i class="fa fa-google-plus"></i></a>\n                <a class="btn btn-default clr-gray" href="" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'vk\')"><i class="fa fa-vk"></i></a>\n              </div>\n            </div>\n            <div class="row hidden-xs">\n              <div class="col-xs-12" ng-if="!isAlbumMode" ng-class="{\'col-md-9\': $root.CONST.be.disable_social_shared !== true}">\n                <div class="input-group pos-1" ng-class="{\'input-group-with-outside-btn\': $root.CONST.be.disable_social_shared && item.public_hash_url}">\n                  <input type="text" class="form-control p-cursor-default" readonly ng-model="item.public_hash_url" ng-attr-placeholder="{{\'Public link is not created yet\' | translate}}" cl-select-on-click>\n                  <div class="input-group-hint hidden-xs" ng-if="item.folder" translate>Anyone with the link can see it and download content of this folder</div>\n                  <div class="input-group-hint hidden-xs" ng-if="!item.folder" translate>Anyone with the link can see it and download this file</div>\n                  <div class="input-group-hint success-text fade" ng-class="{in: clipHints[\'public-link\']}" translate>Link is copied to clipboard</div>\n                  <span class="input-group-btn" ng-if="!item.public_hash_url">\n                    <button class="btn btn-primary btn-thin" type="button" ng-click="getPublicLink()" title="{{\'Create link\' | translate}}"><i class="fa fa-globe visible-xs-inline-block"></i><span class="hidden-xs" translate>Create link</span></button>\n                  </span>\n                  <span class="input-group-btn" ng-if="item.public_hash_url">\n                    <button class="btn btn-primary btn-thin" type="button" ng-disabled="!CONST.fe.clip_available" clip-copy="item.public_hash_url" clip-click="afterClipMessage(\'public-link\')" title="{{\'Copy link\' | translate}}"><i class="fa fa-copy visible-xs-inline-block"></i><span class="hidden-xs" translate>Copy</span></button>\n                    <button class="btn btn-link btn-go-outside btn-link-black" type="button" ng-click="deletePublicLink()" title="{{\'Remove link\' | translate}}"><i class="fa fa-trash-o"></i></button>\n                    <a class="btn btn-primary btn-thin" ng-href="{{item.public_hash_url}}" target="_blank" title="{{\'Open preview\' | translate}}"><i class="fa fa-external-link visible-xs-inline-block"></i><span class="hidden-xs" translate>Preview</span></a>\n                  </span>\n                </div>\n              </div>\n              <div class="col-xs-12" ng-if="isAlbumMode" ng-class="{\'col-md-9\': $root.CONST.be.disable_social_shared !== true}">\n                <div class="input-group pos-1" ng-class="{\'input-group-with-outside-btn\': $root.CONST.be.disable_social_shared && item.public_hash_url}">\n                  <input type="text" class="form-control p-cursor-default" readonly ng-model="albumHashUrl" ng-attr-placeholder="{{\'Link is not created yet\' | translate}}" cl-select-on-click>\n                  <div class="input-group-hint hidden-xs" translate>Anyone with the link can see it</div>\n                  <div class="input-group-hint success-text fade" ng-class="{in: clipHints[\'album-link\']}" translate>Link is copied to clipboard</div>\n                  <span class="input-group-btn" ng-if="!albumHashUrl">\n                    <button class="btn btn-primary btn-thin" type="button" ng-click="getAlbumLink()" title="{{\'Create link\' | translate}}"><i class="fa fa-globe visible-xs-inline-block"></i><span class="hidden-xs" translate>Create link</span></button>\n                  </span>\n                  <span class="input-group-btn" ng-if="albumHashUrl">\n                    <button class="btn btn-primary btn-thin" type="button" ng-disabled="!CONST.fe.clip_available" clip-copy="albumHashUrl" clip-click="afterClipMessage(\'album-link\')" title="{{\'Copy link\' | translate}}"><i class="fa fa-copy visible-xs-inline-block"></i><span class="hidden-xs" translate>Copy</span></button>\n                    <a class="btn btn-primary btn-thin" ng-href="{{albumHashUrl}}" target="_blank" title="{{\'Open preview\' | translate}}"><i class="fa fa-external-link visible-xs-inline-block"></i><span class="hidden-xs" translate>Preview</span></a>\n                  </span>\n                </div>\n              </div>\n              <div class="col-md-3 pos-0 hidden-xs hidden-sm" ng-if="$root.CONST.be.disable_social_shared !== true">\n                <div class="btn-group btn-group-sm sns-link-group pull-right">\n                  <button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'facebook\')"><i class="fa fa-facebook"></i></button>\n                  <button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'twitter\')"><i class="fa fa-twitter"></i></button>\n                  <button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'g+\')"><i class="fa fa-google-plus"></i></button>\n                  <button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url && !albumHashUrl" ng-click="shareLink(\'vk\')"><i class="fa fa-vk"></i></button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </tab>\n    <tab ng-if="item.folder">\n      <tab-heading>\n        <i class="fa fa-users fa-lg"></i>&nbsp;&nbsp;<span class="h4 text-bold media-bottom" translate>SHARE WITH OTHERS</span>\n      </tab-heading>\n      <div class="container-fluid">\n        <div class="row" ng-if="!isAllowed.status">\n          <div class="col-xs-12">\n            <div class="b-share-modal__errormessage">\n              <div ng-if="isAllowed.data !== \'Path contains shared folder\' && isAllowed.data !== \'Path is located in shared folder\'">\n                <span class="text-danger text-large" translate>Sorry, can\'t share this folder.</span>\n                <span ng-if="isAllowed.data === \'Path is another shared folder\'" translate>You are a collaborator shared folder.</span>\n              </div>\n              <div ng-if="isAllowed.data === \'Path contains shared folder\'">\n                <span class="text-danger text-large" translate>This folder contains a shared folder and cannot be shared with others.</span>\n                <span translate>If you want to share this folder unshare the enclosed folder and try again.</span>\n              </div>\n              <div ng-if="isAllowed.data === \'Path is located in shared folder\'">\n                <span class="text-danger text-large" translate>You can\'t share a folder contained in a shared folder.</span>\n                <span translate>If you want to share this folder unshare the parent folder and try again.</span>\n              </div>\n              <div ng-if="isAllowed.data === \'Path is another shared folder\'">\n                <hr class="hr-xs hr-border-none">\n                <div class="form-inline">\n                  <div class="form-group">\n                    <label translate>You may leave a general reference</label>\n                  </div>\n                  <button type="button" class="btn btn-default" ng-click="leave()" translate>Leave</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row" ng-if="isAllowed.status">\n          <div class="col-md-2 hidden-xs hidden-sm">\n            <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="medium"></div>\n          </div>\n          <div class="col-md-10 col-xs-12">\n            <div class="row" ng-if="shareOwnerIsMe">\n              <div class="col-xs-4 visible-xs">\n                <div class="b-content-list-grid__icon hidden-xxs" cl-item-icon="item" cl-icon-size="medium"></div>\n                <div class="b-content-list-grid__icon visible-xxs" cl-item-icon="item" cl-icon-size="s-medium"></div>\n              </div>\n              <div class="col-md-12 col-xs-8">\n                <h3 class="text-break">\n                  <span translate="Shared access link to \'FOLDER_NAME\'" translate-values="{FOLDER_NAME: $root.pathAsFilename(item.path)}"></span>\n                </h3>\n                <p class="text-left visible-xs">\n                  <span class="text-muted" translate>Anyone with the link can see it and download content of this folder</span>\n                </p>\n              </div>\n            </div>\n            <div class="b-share-modal__spared-form" ng-if="shareOwnerIsMe">\n              <div ng-if="!isModernMode" ng-form="Invite.Form" cl-server-validate="{400: \'BadUser\', 403: \'SharingOutside\',  409: \'Conflict\'}">\n                <tags-input name="inviteCollaborators" ng-model="invite.collaborators" min-length="0" allowed-tags-pattern="{{$root.CONST.fe.phonePattern.source}}" placeholder="{{\'Invite more people via email or phone number\' | translate}}"></tags-input>\n                <textarea class="form-control" ng-model="invite.comment" ng-if="inviteCommentOpened" placeholder="{{\'Optional message\' | translate}}"></textarea>\n                <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.BadUser || Invite.Form.$error.Conflict" translate>Some invites were not sent. Please, check entered emails or phones.</div>\n                <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.SharingOutside" translate>Some invites were not sent. You can\'t share outside.</div>\n              </div>\n              <div ng-if="isModernMode">\n                <div class="visible-xs" ng-if="!sharedLink">\n                  <hr class="border-none hr-sm">\n                  <button class="btn btn-primary btn-block" type="button" ng-click="share()" title="{{\'Make share link\' | translate}}"><span translate>Make share link</span></button>\n                </div>\n                <div class="visible-xs" ng-if="sharedLink">\n                  <hr ng-if="CONST.fe.clip_available" class="border-none hr-sm">\n                  <button ng-if="CONST.fe.clip_available" class="btn btn-primary btn-block" type="button" clip-copy="sharedLink" clip-click="afterClipMessage(\'shared-link\')" title="{{\'Copy link\' | translate}}"><span translate>Copy</span></button>\n                  <span ng-if="CONST.fe.clip_available" class="row-hint display-block text-center success-text fade" ng-class="{in: clipHints[\'shared-link\']}" translate>Link is copied to clipboard</span>\n                  <hr class="border-none hr-xs">\n                  <button class="btn btn-primary btn-block" type="button" ng-click="unshareAll()" title="{{\'Unshare link\' | translate}}"><span translate>Revoke access</span></button>\n                </div>\n                <div class="hidden-xs">\n                  <div class="input-group">\n                    <input type="text" class="form-control p-cursor-default" readonly ng-model="sharedLink" ng-attr-placeholder="{{\'Shared link is not created yet\' | translate}}" cl-select-on-click>\n                    <div class="input-group-hint" translate>Anyone with the link can view/edit and sync this folder</div>\n                    <div class="input-group-hint success-text fade fade" ng-class="{in: clipHints[\'shared-link\']}" translate>Link is copied to clipboard</div>\n                    <span class="input-group-btn" ng-if="!sharedLink">\n                      <button class="btn btn-primary btn-thin" type="button" ng-click="share()" title="{{\'Make share link\' | translate}}"><i class="fa fa-share visible-xs-inline-block"></i><span class="hidden-xs" translate>Make share link</span></button>\n                    </span>\n                    <span class="input-group-btn" ng-if="sharedLink">\n                      <button ng-if="CONST.fe.clip_available" class="btn btn-primary btn-thin" type="button" clip-copy="sharedLink" clip-click="afterClipMessage(\'shared-link\')" title="{{\'Copy link\' | translate}}"><i class="fa fa-copy visible-xs-inline-block"></i><span class="hidden-xs" translate>Copy</span></button>\n                      <button class="btn btn-primary btn-thin" type="button" ng-click="unshareAll()" title="{{\'Unshare link\' | translate}}"><i class="fa fa-trash-o visible-xs-inline-block"></i><span class="hidden-xs" translate>Unshare</span></button>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <h4 class="b-share-modal__who-can-edit"><span translate="Who can edit contents of \'FOLDER_NAME\':" translate-values="{FOLDER_NAME: $root.pathAsFilename(item.path)}"></span></h4>\n            <table class="table b-layout-fixed collaborators">\n              <col width="*">\n              <col width="200px" ng-if="!isModernMode">\n              <col width="40%">\n              <tbody>\n                <tr ng-repeat="collaborator in collaborators">\n                  <td>\n                    <label><input class="p-cursor-default" type="checkbox" ng-disabled="!shareOwnerIsMe || collaborator.userid == $root.CurrentUser.userid" ng-model="collaborator.writer" ng-change="toggleRule(collaborator)"></label>\n                    <span ng-class="{\'text-bold\': collaborator.userid == $root.CurrentUser.userid}">{{collaborator.userid == $root.CurrentUser.userid ? (\'Me\' | translate) : collaborator.name}}{{collaborator.owner ? \' (\' + (\'Owner\' | translate) + \')\' : \'\'}}</span>\n                  </td>\n                  <td class="text-right" ng-if="!isModernMode">\n                    <span class="text-muted" ng-if="collaborator.status === \'waiting\'" translate>Hasn\'t joined yet</span>\n                  </td>\n                  <td class="text-right">\n                    <span ng-if="shareOwnerIsMe && collaborator.userid != $root.CurrentUser.userid">\n                      <a href="" ng-click="unshare(collaborator)" translate>Unshare</a>\n                    </span>\n                    <span ng-if="!shareOwnerIsMe && collaborator.userid == $root.CurrentUser.userid">\n                      <a href="" ng-click="leave(collaborator)" ng-if="!shareOwnerIsMe" translate>Leave</a>\n                    </span>\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot ng-if="!isModernMode">\n                <tr>\n                  <td colspan="4" class="text-right"><a href="" ng-if="shareOwnerIsMe && item.shared && collaborators.length > 1" ng-click="unshareAll()" translate>Cancel sharing</a></td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n      </div>\n    </tab>\n  </tabset>\n</div>\n<div class="modal-footer modal-gray">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-offset-2 col-md-10">\n        <button class="btn btn-primary btn-wide" ng-if="!inviteCommentOpened" ng-click="$close()" translate>Done</button>\n        <button class="btn btn-primary" ng-if="inviteCommentOpened" ng-click="sendInvites()" translate>Send invites</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clShareType/clShareType.tpl.html",[]).run(["$templateCache",function(a){a.put("clShareType/clShareType.tpl.html",'<span tooltip="{{shareTip}}" tooltip-trigger="mouseenter" tooltip-placement="right">\n  <i class="icon icon-3 icon-collab-tiny-circle text-success"></i><i class="icon icon-3 icon-link-tiny-circle text-danger"></i>\n</span>\n')}]),b.module("clUnsupportBrowser/clUnsupportBrowser.tpl.html",[]).run(["$templateCache",function(a){a.put("clUnsupportBrowser/clUnsupportBrowser.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$close(0)"><i class="icon icon-cross"></i></button>\n</div>\n<div class="modal-body">\n  <div class="b-app-unsuport-browser">\n    <div class="b-app-unsuport-browser__message">\n      <p>JavaScript and websocket need to be supported in order to use the site.</p>\n      <p>To be able to use all of the site\'s functions, download and install one of the following browsers:</p>\n    </div>\n    <div class="b-app-unsuport-browser__list">\n      <div>\n        <a href="http://www.google.com/chrome/" target="_blank">\n          <img src="/assets/chrome.png" alt="Chrome">\n          <span>Chrome</span>\n        </a>\n      </div>\n      <div>\n        <a href="http://www.mozilla-europe.org/" target="_blank">\n          <img src="/assets/firefox.png" alt="Firefox">\n          <span>Firefox</span>\n        </a>\n      </div>\n      <div>\n        <a href="http://www.opera.com/" target="_blank">\n          <img src="/assets/opera.png" alt="Opera">\n          <span>Opera</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clVideo/clVideo.tpl.html",[]).run(["$templateCache",function(a){a.put("clVideo/clVideo.tpl.html",'<span class="b-preview-video__thumbnail" ng-if="!playVideo" ng-click="start()">\n  <img ng-src="{{item.extradata.thumbnails.preview.link | trustsrc}}" ng-attr-width="{{item.extradata.metainfo.width}}" ng-attr-height="{{item.extradata.metainfo.height}}" />\n</span>\n\n<span class="b-preview-video__player" ng-if="playVideo">\n  <video ui-event="{canplay: \'startPlaying()\'}" ng-attr-width="{{item.extradata.metainfo.width}}" ng-attr-height="{{item.extradata.metainfo.height}}" ng-attr-poster="{{item.extradata.thumbnails.preview.link}}" preload="none" controls autoplay>\n    <source ng-repeat="s in sources" ng-if="s.src" ng-src="{{s.src | trustsrc}}" ng-attr-type="{{s.mime}}">\n  </video>\n</span>\n')}]),b.module("fileUploader/fileUploader.tpl.html",[]).run(["$templateCache",function(a){a.put("fileUploader/fileUploader.tpl.html",'<div class="well" ng-class="{\'ng-uploading\': $root.uploader.isUploading, \'ng-minimized\': isMinimized, \'ng-hidden\': isHidden || !$root.uploader.queue.length}">\n  <div class="b-uploader__header">\n    <span ng-if="$root.uploader.isHTML5 && $root.uploader.isUploading"><strong><span ng-bind="$root.uploader.progressBySize"></span>%</strong></span>\n    <span ng-if="$root.uploader.queue.length">{{$root.filter($root.uploader.queue, {isSuccess: true}).length}}/<span ng-bind="$root.uploader.queue.length"></span>&nbsp;<span translate>files uploaded so far</span></span>\n    <div class="b-uploader__toolbar">\n      <button class="btn btn-link btn-xs" type="button" ng-click="toggleMode(\'isMinimized\')">_</button>\n      <button class="btn btn-link btn-xs" type="button" ng-click="toggleMode(\'isHidden\')" ng-disabled="$root.uploader.isUploading">&times;</button>\n    </div>\n  </div>\n  <div class="b-uploader__content">\n    <ul class="b-uploader__list" ng-if="$root.uploader.queue.length">\n      <li class="b-uploader__list_item" ng-repeat="item in $root.uploader.queue">\n        <div class="progress b-uploader-progress">\n          <div class="progress-bar">\n            <div ng-class="{\'progress-left\': item.isUploading}" ng-style="{width: item.progress + \'%\'}"></div>\n            <table class="b-uploader__file-item">\n              <colgroup>\n                <col width="35px">\n                <col>\n                <col width="150px">\n              </colgroup>\n              <tr>\n                <td class="b-uploader__file-item-icon">\n                  <div class="b-uploader__file_icon" cl-up-item-icon="item.file" cl-icon-size="small"></div>\n                </td>\n                <td>\n                  <a ng-if="!item.isError && item.metadata" once-href="$root.itemHref(\'drive\', \'drive.preview\', {folderPath: item.folderPath, filePath: item.metadata.path})" once-title="item.metadata.path" once-text="$root.pathAsFilename(item.metadata.path)" cl-ellipsis></a>\n                  <span ng-if="!item.isError && !item.metadata" title="{{item.storagePath + (item.filename || item.file.name)}}" cl-ellipsis>{{item.filename || item.file.name}}</span>\n                  <span ng-if="item.isError" class="text-danger" once-title="uploadErrMsg" cl-ellipsis>{{item.filename || item.file.name}}</span>\n                </td>\n                <td class="b-uploader__file-item-status">\n                  <span once-if="$root.uploader.isHTML5">\n                    <span class="text-muted" ng-class="{\'success-color\': item.isSuccess, \'text-danger\': item.isError}" once-text="item.file.size | bytes"></span>\n                    <span ng-if="item.isUploading"><span ng-bind="item.progress"></span>%</span>\n                    <span class="text-muted" ng-if="item.isCancel" translate>Canceled</span>\n                    <a href="" class="text-danger" ng-if="item.isError" ng-click="toastError()" translate>Error</a>\n                  </span>\n                  <a ng-if="!item.isUploaded" href="" ng-click="item.remove()"><i class="fa fa-times"></i></a>\n                  \x3c!--<a ng-if="item.isUploading" href="" ng-click="item.cancel()"><i class="fa fa-times"></i></a>--\x3e\n                  <a ng-if="item.isError" href="" ng-click="item.upload()"><i class="fa fa-repeat"></i></a>\n                  <i ng-if="item.isSuccess" class="fa fa-check-circle success"></i>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <div class="b-uploader__btn text-right" ng-if="$root.uploader.queue.length">\n      <button class="btn btn-default btn-sm" type="button" ng-disabled="!$root.uploader.queue.length" ng-click="clearQueue()" translate>Clear</button>\n    </div>\n  </div>\n</div>\n')}]),b.module("templates-common",["clCompanySettingsWizard/clCompanySettingsWizard.tpl.html","clFilePreview/clFilePreviewToobar.tpl.html","clFolderAsTree/clFolderAsTree-simple.tpl.html","clFolderAsTree/clFolderAsTree.tpl.html","clFolderContents/folderContentsAsGridCell.tpl.html","clFolderContents/nameColumn.tpl.html","clFolderContents/nameColumnNoHref.tpl.html","clMoveOrCopy/clMoveOrCopy.tpl.html","clNoticesList/clNoticeAccept.tpl.html","clNoticesList/clNoticeInviteToFolder.tpl.html","clNoticesList/clNoticeRequestAccess.tpl.html","clNoticesList/clNoticesList.tpl.html","clShare/clShare.tpl.html"]),b.module("clCompanySettingsWizard/clCompanySettingsWizard.tpl.html",[]).run(["$templateCache",function(a){a.put("clCompanySettingsWizard/clCompanySettingsWizard.tpl.html",'<div class="modal-header text-center">\n  <h4>\n    <span translate>Step</span>\n    {{currentStep+1}}\n    <span translate>of</span>\n    {{steps.length}}\n  </h4>\n  <div class="progress">\n    <div class="progress-bar progress-bar-info" role="progressbar" ng-style="{width: 100 * currentStep / (steps.length - 1) + \'%\'}"></div>\n  </div>\n</div>\n<form ng-if="steps[currentStep].alias == \'domain\'" name="Step1Form" ng-submit="next()">\n  <div class="modal-body">\n    <div class="form-group" ng-class="{\'has-error\': Step1Form.$dirty && Step1Form.domain.$invalid}">\n      <div class="form-group">\n        <label translate>Company domain</label>\n        <div class="input-group">\n          <input type="text" name="domain" class="form-control"\n                 ng-model="companyForm.domain"\n                 ng-required="true"\n                 ng-minlength="2" ng-maxlength="63" ng-pattern="$root.CONST.fe.domainAllowedCharactersPattern"\n                 ng-change="checkDomainAvailability(Step1Form)">\n          <span class="input-group-addon">.{{CONST.be.web_host}}</span>\n        </div>\n      </div>\n      <div class="help-block form-group">\n        <span ng-if="Step1Form.domain.$error.required" translate>field should be filled-in</span>\n        <span ng-if="Step1Form.domain.$error.minlength" translate>field must be more than 1 character</span>\n        <span ng-if="Step1Form.domain.$error.maxlength" translate>field should be less than 63 characters</span>\n        <span ng-if="Step1Form.domain.$error.pattern" translate>Domain name can contain only latin letters, digits and hyphens. Also, domain name could not start or end with a hyphen.</span>\n        <span ng-if="Step1Form.domain.$error.busy" translate>This domain is busy</span>\n        <span ng-if="checkingDomainAvailability"><span translate>Checking domain availability</span>...</span>\n        &nbsp;\n      </div>\n      <div class="form-group">\n        <button class="btn btn-primary btn-block" ng-disabled="Step1Form.$invalid || checkingDomainAvailability" translate>Next</button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<form ng-if="steps[currentStep].alias == \'logo\'" name="Step2Form" ng-submit="next()">\n  <div class="modal-body">\n    <div class="form-group">\n      <label translate>Company logo</label>\n      <div class="panel panel-default" nv-file-drop uploader="logoUploader">\n        <div class="panel-body text-center">\n          <div ng-if="companyForm.logo">\n            <div class="b-navbar-logo" ng-style="{backgroundImage: \'url(\' + companyForm.logo + \')\'}"></div>\n            <button class="close" type="button" ng-click="removeCompanyLogo()">&times;</button>\n          </div>\n          <div ng-if="!companyForm.logo">\n            <div class="b-navbar-logo" ng-show="uploadingLogo">\n              <span class="vertical-guide"></span>\n              <span translate>Please, wait...</span>\n            </div>\n            <div ng-show="!uploadingLogo">\n              <span class="droptext" translate>Drop here or</span>\n              <span class="b-uploader__file-select" type="button">\n                <input name="file" type="file" nv-file-select uploader="logoUploader" />\n                <a href="" translate>choose from disk</a>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary btn-block" ng-disabled="Step2Form.$invalid" translate>Next</button>\n    <br/><a href="" class="pull-left" ng-click="prev()"><span class="fa fa-arrow-left"></span>&nbsp;{{\'Back\' | translate}}</a>\n  </div>\n</form>\n\n<form ng-if="steps[currentStep].alias == \'loginMethod\'" name="Step3Form" ng-submit="next()">\n  <div class="modal-body">\n    <div class="form-group">\n      <label translate>Login method for users</label>\n      <div class="radio">\n        <label><input type="radio" name="loginMethod" ng-model="companyForm.loginMethod" value="email" ng-checked="companyForm.loginMethod == \'email\'" />{{\'Email\' | translate}}</label>\n        <small class="help-block" translate>Users will login to Cloudike with their own emails and passwords. Administrator will be able to invite users by email.</small>\n      </div>\n      <div class="radio">\n        <label><input type="radio" name="loginMethod" ng-model="companyForm.loginMethod" value="windows_login" ng-checked="companyForm.loginMethod == \'windows_login\'" />{{\'Windows login\' | translate}}</label>\n        <small class="help-block" translate>Users will login to Cloudike with their Windows logins and passwords.</small>\n      </div>\n    </div>\n    <div class="form-group" ng-if="companyForm.loginMethod == \'windows_login\'">\n      <div class="col-md-6"><input type="text" class="form-control" ng-model="companyForm.ldap_address" placeholder="{{\'LDAP server\' | translate}}" /></div>\n      <div class="col-md-4"><input type="text" class="form-control" ng-model="companyForm.ldap_port" placeholder="{{\'port\' | translate}}" /></div>\n      <button type="button" class="btn btn-primary col-md-2" ng-click="testLDAP()" translate>Test</button>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary btn-block" ng-disabled="Step3Form.$invalid" translate>Next</button>\n    <br/><a href="" class="pull-left" ng-click="prev()"><span class="fa fa-arrow-left"></span>&nbsp;{{\'Back\' | translate}}</a>\n  </div>\n</form>\n\n<form ng-if="steps[currentStep].alias == \'addUsersByEmail\'" name="Step4Form" ng-submit="next()">\n  <div class="modal-body">\n    <div class="form-group">\n      <label translate>Add some users</label>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary btn-block" ng-disabled="Step4Form.$invalid" translate>Next</button>\n    <br/><a href="" class="pull-left" ng-click="prev()"><span class="fa fa-arrow-left"></span>&nbsp;{{\'Back\' | translate}}</a>\n  </div>\n</form>\n\n<form ng-if="steps[currentStep].alias == \'finish\'" name="Step5Form" ng-submit="saveWizard()">\n  <div class="modal-body">\n    <h4 class="text-center">\n      <span translate>All is set!</span><br/>\n      <span translate>Now we are ready to work!</span></h4>\n      <span translate>Current company plan is trial. If you want to use more storage with users please change your company plan</span>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-primary" ng-click="goPaymentWithSave(true)" translate>Go to the payment page</button>\n    <button class="btn btn-primary" translate>Finish</button>\n    <br/><a href="" class="pull-left mar-t-20" ng-click="prev()"><span class="fa fa-arrow-left"></span>&nbsp;{{\'Back\' | translate}}</a>\n  </div>\n</form>\n')}]),b.module("clFilePreview/clFilePreviewToobar.tpl.html",[]).run(["$templateCache",function(a){a.put("clFilePreview/clFilePreviewToobar.tpl.html",'<div class="container-fluid">\n  <div class="row">\n    <div class="b-modal-preview__toolbar-label col-sm-6 col-md-3 hidden-xs text-left" ng-if="opts.toolbar !== null">\n      <a class="btn-preview-link" href="" ng-if="opts.toolbar.download !== false && !currentItem.is_in_trash" ng-click="downloadFile(currentItem.version)" cl-ellipsis ng-bind="currentItem.path | filename"></a>\n    </div>\n    <div class="b-modal-preview__toolbar-label col-sm-6 col-md-3 hidden-xs text-left" ng-if="opts.toolbar === null">\n      <span class="btn btn-link btn-preview-link" cl-ellipsis ng-bind="currentItem.path | filename"></span>\n    </div>\n    <div class="col-md-6 hidden-xs hidden-sm">\n      <div ng-if="contentItems.length <= 100 && (prevItem || nextItem)" cl-preview-carousel="contentItems" cl-preview-carousel-item="currentItem"></div>\n    </div>\n    <div class="b-modal-preview__toolbar-buttons col-xs-12 col-sm-6 col-md-3" ng-if="opts.toolbar !== null">\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.remove !== false && (CurrentUser.userid === currentItem.owner || metadata.role === \'collaborator\') && !currentItem.is_in_trash" ng-click="action(\'remove\', currentItem)"><i class="icon icon-bin"></i></button>\n      <button class="btn btn-link pull-right" type="button" cl-popover-metadata-info="currentItem"><i class="icon icon-info"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.versions !== false && !currentItem.is_in_trash" ng-click="changeFlag(\'versionPanel\', true)" title="Versions ({{currentItem.versions.length}})"><i class="icon icon-clocks"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.comments !== false && !currentItem.is_in_trash" ng-click="changeFlag(\'commentsPanel\', true)" title="{{\'Comments\' | translate}}"><i class="fa fa-custom-2x fa-commenting-o"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.sharing !== false && !currentItem.is_in_trash" ng-click="showSharingDialog()"><i class="icon icon-link"></i></button>\n      <button class="btn btn-link pull-right" type="button" ng-if="opts.toolbar.download !== false && !currentItem.is_in_trash" ng-click="downloadFile(currentItem.version)"><i class="icon icon-down-arrow"></i></button>\n    </div>\n  </div>\n</div>\n')}]),b.module("clFolderAsTree/clFolderAsTree-simple.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderAsTree/clFolderAsTree-simple.tpl.html",'<ul class="nav nav-pills nav-stacked simple-mode" ng-if="folder.folder">\n  <li\n    ng-class="{\'collapse-in\': $root.testPath(currentPath, folder.path)}">\n    <a href="" class="b-menu__item-link" data-path="{{folder.path}}">\n      <span ng-click="clickItemMenu($event, folder)">\n        <span class="b-menu__item-link-toolbar">\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-right"><i class="fa fa-caret-right"></i></span>\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-down"><i class="fa fa-caret-down"></i></span>\n        </span>\n        <span class="slide-item" ng-bind="folder.path | filename:($root.CONST.be.app_name | translate)"></span>\n      </span>\n    </a>\n    <form ng-if="createFolderPath == folder.path" name="formCreateFolder" ng-submit="formCreateFolder.$valid && createFolder(formCreateFolder)" cl-server-validate="{403: \'FolderExists\', 400: \'ServerError\'}" novalidate>\n      <div class="form-group" ng-class="{\'has-error\': formCreateFolder.$dirty && formCreateFolder.$invalid}">\n        <div class="input-group">\n          <input type="text" class="form-control input-sm" ng-model="newFolder.name" name="newFolderName" cl-set-focus-once="true" ng-click="$event.stopPropagation()" ng-required="true" ng-pattern="$root.CONST.fe.filenameAllowedCharactersPattern" />\n          <span class="input-group-btn">\n            <button class="btn btn-sm btn-primary" type="submit"><i class="fa fa-check"></i></button>\n          </span>\n        </div>\n        <span class="help-block" ng-if="formCreateFolder.$dirty && formCreateFolder.newFolderName.$error.required" translate>Folder name should be specified</span>\n        <span class="help-block" ng-if="formCreateFolder.newFolderName.$error.pattern" translate>Invalid character in folder name</span>\n        <span class="help-block" ng-if="formCreateFolder.$error.FolderExists" translate>Folder already exists</span>\n        <span class="help-block" ng-if="formCreateFolder.$error.ServerError" translate>Server error occurred during request processing</span>\n      </div>\n    </form>\n    <div class="collapse" ng-if="folder.content.length">\n      <div ng-repeat="folder in folder.content | naturalOrderBy:\'path\'"\n           ng-include="\'clFolderAsTree/clFolderAsTree-simple.tpl.html\'"></div>\n    </div>\n  </li>\n</ul>\n')}]),b.module("clFolderAsTree/clFolderAsTree.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderAsTree/clFolderAsTree.tpl.html",'<ul class="nav nav-pills nav-stacked" ng-if="folder.folder">\n  <li\n    ng-class="{\'collapse-in\': $root.testPath(currentPath, folder.path)}"\n    ui-sref-active="active"\n    cl-draggable="folder.path != \'/\'" drag-set-data="dragSetData(folder)" drag-channel="moveFile" drag-template="clDragDrop/moveFiles.tpl.html">\n    <a class="b-menu__item-link"\n       ui-sref="drive({path: folder.path != \'/\' ? folder.path : \'\'})"\n       cl-on-drop="onDrop(folder, $data)" drop-channel="moveFile"\n       data-path="{{folder.path}}"\n   >\n      <span ng-click="clickItemMenu($event, folder)">\n        <span class="b-menu__item-link-toolbar">\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-right"><i class="fa fa-caret-right"></i></span>\n          <span class="b-menu__item-icon b-menu__item-icon-chevron-down"><i class="fa fa-caret-down"></i></span>\n        </span>\n        <span class="slide-item" ng-bind="folder.path|filename:($root.CONST.be.app_name | translate)"></span>\n      </span>\n    </a>\n    <div class="collapse" ng-if="folder.content.length">\n      <div ng-repeat="folder in folder.content | naturalOrderBy:\'path\'"\n           ng-include="\'clFolderAsTree/clFolderAsTree.tpl.html\'"></div>\n    </div>\n  </li>\n  <li ng-if="folder.isRoot" ui-sref-active="active" class="single-item">\n    <a ui-sref="shared({path: \'\'})" class="b-menu__item-link"><span><span translate>Shared files</span></span></a>\n  </li>\n  <li id="company_folder_menu" ng-if="folder.isRoot && $root.CurrentUser.company_id" ui-sref-active="active" class="single-item">\n     <a ui-sref="companyFolders" class="b-menu__item-link"><span><span translate="COMPANY folders" translate-values="{COMPANY: $root.CurrentCompany.name}"></span></span></a>\n  </li>\n  <li ng-if="folder.isRoot && $root.CurrentUser.company_id" ui-sref-active="active" class="single-item">\n    <a ui-sref="transfers" class="b-menu__item-link"><span><span translate>Pending transfers</span></span></a>\n  </li>\n  <li ng-if="folder.isRoot && CONST.be.display_contacts_menu_entry" ui-sref-active="active" class="single-item">\n    <a ui-sref="contacts" class="b-menu__item-link"><span><span translate>Contacts</span></span></a>\n  </li>\n  <li ng-if="folder.isRoot" ui-sref-active="active" class="single-item">\n    <a ui-sref="trash({path: \'\'})" class="b-menu__item-link"><span><span translate>Trash</span></span></a>\n  </li>\n</ul>\n')}]),b.module("clFolderContents/folderContentsAsGridCell.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/folderContentsAsGridCell.tpl.html",'<span ng-if="opts.enableShare" class="icon-link-tiny-wrapper" ng-class="(item.shared || item.public_hash) ? \'\' : \'icon-link-tiny-wrapper__hidden\'">\n  <i class="icon icon-4 icon-link-tiny-circle p-cursor-pointer" ng-click="showSharingDialog(item)"></i>\n</span>\n<label ng-if="opts.checkboxes !== false">\n  <input type="checkbox" ng-model="selectedItems[item[uniqueItemField]]" ng-change="updateSelectedItems()" ng-disabled="!item.__allowSelect" class="b-content-list-grid__checkbox">\n</label>\n\n<a once-href="itemHref(item)">\n  <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="large"></div>\n</a>\n\n<div class="link-options-{{$index}} b-content-list-grid__link-options collapse">\n  <span ng-if="item.public_hash">\n    <i ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" once-title="\'Published\' | translate" class="fa fa-lg fa-share-alt"></i>\n  </span>\n  <span ng-if="item.access_rights === \'upload\'">\n    <i class="fa fa-lg fa-upload" once-title="\'You can upload files to this folder\' | translate"></i>\n  </span>\n  <span ng-if="item.password">\n    <i class="fa fa-lg fa-lock" once-title="\'Password\' | translate"></i>\n  </span>\n  <span ng-if="item.download_max">\n    <i class="fa fa-lg fa-arrow-circle-down" once-title="\'{{item.download_count}}/{{item.download_max}}\'"></i>\n  </span>\n  <span ng-if="item.expires">\n    <i ng-if="item.expires && item.time_left !== -1" class="fa fa-lg fa-clock-o" once-title="\'{{item.time_left | time:\'w\'}}\'"></i>\n    <span ng-if="item.expires && item.time_left === -1" class="fa-stack" once-title="\'Expired\' | translate">\n      <i class="fa fa-lg fa-clock-o"></i>\n      <i class="fa fa-lg fa-times fa-stack-1x text-danger"></i>\n    </span>\n  </span>\n</div>\n\n<div class="caption">\n  <table class="b-layout-fixed input-sm">\n    <tbody>\n      <tr>\n        <td>\n          <a class="b-content-list__item-filename"\n            once-href="itemHref(item)"\n            cl-rename="item"\n            cl-rename-namespace="folder-contents folder-contents-context"\n            once-title="item.path | filename">\n            <span ng-if="item.folder" once-text="item.path | filename"></span>\n            <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n          </a>\n        </td>\n        <td class="visible-xs visible-sm" ng-if="item.public_hash">\n          <button class="link-options-toggle" type="button" data-toggle="collapse" data-target=".link-options-{{$index}}"><i class="fa fa-lg-2 fa-bars"></i></button>\n        </td>\n        <td class="hidden-xs hidden-sm" ng-if="item.public_hash">\n          <i ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" once-title="\'Published\' | translate" class="fa fa-lg fa-share-alt"></i>\n        </td>\n        <td class="hidden-xs hidden-sm" ng-if="item.access_rights === \'upload\'">\n          <i class="fa fa-lg fa-upload" once-title="\'You can upload files to this folder\' | translate"></i>\n        </td>\n        <td class="hidden-xs hidden-sm" ng-if="item.password">\n          <i class="fa fa-lg fa-lock" once-title="\'Password\' | translate"></i>\n        </td>\n        <td class="hidden-xs hidden-sm" ng-if="item.download_max">\n          <i class="fa fa-lg fa-arrow-circle-down" once-title="\'{{item.download_count}}/{{item.download_max}}\'"></i>\n        </td>\n        <td class="hidden-xs hidden-sm" ng-if="item.expires">\n          <i ng-if="item.expires && item.time_left !== -1" class="fa fa-lg fa-clock-o" once-title="\'{{item.time_left | time:\'w\'}}\'"></i>\n          <span ng-if="item.expires && item.time_left === -1" class="fa-stack" once-title="\'Expired\' | translate">\n            <i class="fa fa-lg fa-clock-o"></i>\n            <i class="fa fa-lg fa-times fa-stack-1x text-danger"></i>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),b.module("clFolderContents/nameColumn.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/nameColumn.tpl.html",'<table class="b-layout-full-width b-layout-fixed">\n  <col width="42px">\n  <col>\n  <col ng-if="item.public_hash">\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a\n        class="b-content-list__item-filename"\n        cl-rename="item"\n        cl-rename-namespace="folder-contents folder-contents-context"\n        once-href="itemHref(item)"\n        once-title="item.path | filename">\n        <span ng-if="item.folder" once-text="item.path | filename"></span>\n        <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n        </a>\n    </td>\n    <td class="text-left hidden-xxs" ng-if="item.public_hash">\n      <span ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" class="label label-success" once-text="\'Published Link\' | translate"></span>\n      <span ng-if="item.access_rights === \'upload\'" class="label label-success" once-title="\'You can upload files to this folder\' | translate" once-text="\'Uploadable\' | translate"></span>\n      <span ng-if="$root.CurrentCompany && !$root.CurrentCompany.public_links_allow" class="label label-danger" once-text="\'Published but inaccessible\' | translate"></span>\n      <span ng-if="item.password" class="label label-warning" once-text="\'Password\' | translate"></span>\n      <span ng-if="item.download_max" class="label label-info"><span translate>Downloads</span> <span once-text="\'{{item.download_count}}/{{item.download_max}}\'"></span></span>\n      <span ng-if="item.expires && item.time_left !== -1" class="label label-danger"><span once-text="\'{{item.time_left}}\' | time:\'w\'"></span> <span translate>left</span></span>\n      <span ng-if="item.expires && item.time_left === -1" class="label label-danger"><span translate>Expired</span></span>\n    </td>\n    <td class="text-left visible-xxs" ng-if="item.public_hash">\n      <i ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" once-title="\'Published\' | translate" class="fa fa-lg fa-share-alt"></i>\n      <i ng-if="item.access_rights === \'upload\'" class="fa fa-lg fa-upload" once-title="\'You can upload files to this folder\' | translate"></i>\n      <i ng-if="item.password" class="fa fa-lg fa-lock" once-title="\'Password\' | translate"></i>\n      <i ng-if="item.download_max" class="fa fa-lg fa-arrow-circle-down" once-title="\'{{item.download_count}}/{{item.download_max}}\'"></i>\n      <i ng-if="item.expires && item.time_left !== -1" class="fa fa-lg fa-clock-o" once-title="\'{{item.time_left | time:\'w\'}}\'"></i>\n      <span ng-if="item.expires && item.time_left === -1" class="fa-stack" once-title="\'Expired\' | translate">\n        <i class="fa fa-lg fa-clock-o"></i>\n        <i class="fa fa-lg fa-times fa-stack-1x text-danger"></i>\n      </span>\n    </td>\n  </tr>\n</table>\n')}]),b.module("clFolderContents/nameColumnNoHref.tpl.html",[]).run(["$templateCache",function(a){a.put("clFolderContents/nameColumnNoHref.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px" />\n  <col />\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a ng-if="item.folder && item.isOwner"\n         ui-sref="drive({path: item.path})"\n         class="b-content-list__item-filename"\n         once-text="(item.public_name || item.path) | filename" once-title="item.public_name"></a>\n      <span ng-if="!item.folder || (item.folder && !item.isOwner)"\n            once-text="(item.public_name || item.path) | filename" once-title="item.public_name"></span>\n    </td>\n    <td class="text-left hidden-xs" ng-if="item.public_hash">\n      <span ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" class="label label-success" once-text="\'Published\' | translate"></span>\n      <span ng-if="item.access_rights === \'upload\'" class="label label-success" once-title="\'You can upload files to this folder\' | translate" once-text="\'Uploadable\' | translate"></span>\n      <span ng-if="$root.CurrentCompany && !$root.CurrentCompany.public_links_allow" class="label label-danger" once-text="\'Published but inaccessible\' | translate"></span>\n      <span ng-if="item.password" class="label label-warning" once-text="\'Password\' | translate"></span>\n      <span ng-if="item.download_max" class="label label-info"><span translate>Downloads</span> <span once-text="\'{{item.download_count}}/{{item.download_max}}\'"></span></span>\n      <span ng-if="item.expires && item.time_left !== -1" class="label label-danger"><span once-text="\'{{item.time_left}}\' | time:\'w\'"></span> <span translate>left</span></span>\n      <span ng-if="item.expires && item.time_left === -1" class="label label-danger"><span translate>Expired</span></span>\n    </td>\n  </tr>\n</table>\n\n')}]),b.module("clMoveOrCopy/clMoveOrCopy.tpl.html",[]).run(["$templateCache",function(a){a.put("clMoveOrCopy/clMoveOrCopy.tpl.html",'<div class="modal-header mv-or-cp">\n  <button type="button" class="close" ng-click="$close(0)"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>Choose destination folder</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body mv-or-cp">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <div class="metadata-tree b-menu" cl-folder-as-tree-simple cl-folder-as-tree-item-click="itemClick"\n             cl-folder-as-tree-namespace="moveOrCopy" cl-perfect-scrollbar></div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer mv-or-cp">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 create-folder text-muted" ng-if="toPath">\n        <span><a href="" class="p-cursor-pointer" ng-click="createFolder()" translate>Create new folder</a><span class="text-muted"> <span translate>in</span> {{toPath | filename:(\'My Cloudike\' | translate)}}</span></span>\n      </div>\n    </div>\n    <div class="row" ng-if="opts.onlyCopy !== true">\n      <div class="col-xs-6">\n        <button class="btn btn-primary btn-block" type="button" ng-disabled="!toPath" ng-click="move()" translate>Move</button>\n      </div>\n      <div class="col-xs-6 text-left">\n        <span class="text-muted hidden-xs" translate>or</span>\n        <button class="btn btn-link" type="button" ng-disabled="!toPath" ng-click="copy()" translate>Copy</button>\n      </div>\n    </div>\n    <div class="row" ng-if="opts.onlyCopy === true">\n      <div class="col-xs-12">\n        <button class="btn btn-primary btn-block" type="button" ng-disabled="!toPath" ng-click="copy()" translate>Copy</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("clNoticesList/clNoticeAccept.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticeAccept.tpl.html",'<button class="btn btn-primary" type="button" ng-if="item.status == \'new\'" ng-click="acceptInvite(item)" translate>Accept</button>\n<button class="btn btn-link" type="button" ng-if="item.status == \'accepted\'" disabled translate>Accepted</button>\n<button class="btn btn-link" type="button" disabled ng-if="item.status == \'declined\'" translate>Refused</button>\n')}]),b.module("clNoticesList/clNoticeInviteToFolder.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticeInviteToFolder.tpl.html",'<button class="btn btn-primary" type="button" ng-if="item.status == \'new\'" ng-click="acceptInvite(item)" translate>Accept</button>\n<button class="btn btn-link" type="button" ng-if="item.status == \'new\'" ng-click="denyInvite(item)" translate>Refuse</button>\n<button class="btn btn-link" type="button" ng-if="item.status == \'accepted\'" disabled translate>Accepted</button>\n<button class="btn btn-link" type="button" disabled ng-if="item.status == \'declined\'" translate>Refused</button>\n<button class="btn btn-link" type="button" disabled ng-if="item.status == \'nfound\'" translate>Transfer not found</button>\n')}]),b.module("clNoticesList/clNoticeRequestAccess.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticeRequestAccess.tpl.html",'<div ng-if="item.status == \'new\'" ng-init="dummy = {showAccessSelection: false, isLoading: false};">\n  <div ng-if="!dummy.showAccessSelection && !dummy.isLoading" class="b-notice_request_access">\n    <button class="btn btn-primary" type="button" ng-click="dummy.showAccessSelection=true" translate>Approve</button>\n    <button class="btn btn-link" type="button" ng-click="denyRequestAccess(item)" translate>Deny</button>\n  </div>\n  <div ng-if="dummy.showAccessSelection" class="btn-group b-notice_request_access" cl-off-click="dummy.showAccessSelection=false;">\n    <button class="btn btn-sm btn-primary" type="button" ng-click="approveRequestAccess(item, 0);dummy.showAccessSelection=false;dummy.isLoading=true" translate>Read only</button>\n    <button class="btn btn-sm btn-primary mar-t-5-xs" type="button" ng-click="approveRequestAccess(item, 1);dummy.showAccessSelection=false;dummy.isLoading=true" translate>Can edit</button>\n  </div>\n  <div ng-if="dummy.isLoading" class="b-notice_loading"></div>\n</div>\n<div ng-if="item.status == \'accepted\'">\n  <button class="btn btn-link hidden-xs" type="button" disabled><span translate>Approved:</span> <span ng-if="item.permissions === \'write\'" once-text="\'can edit\' | translate"></span><span ng-if="item.permissions === \'read\'" once-text="\'read only\' | translate"></span></button>\n  <span class="break-word visible-xs btn-fake-link"><span translate>Approved:</span> <span ng-if="item.permissions === \'write\'" once-text="\'can edit\' | translate"></span><span ng-if="item.permissions === \'read\'" once-text="\'read only\' | translate"></span></span>\n  \x3c!-- <button class="btn btn-link" type="button" ng-click="denyRequest(item)" translate>Undo</span></button> --\x3e\n</div>\n<div ng-if="item.status == \'declined\'">\n  <button class="btn btn-link" type="button" disabled translate>Declined</button>\n</div>\n')}]),b.module("clNoticesList/clNoticesList.tpl.html",[]).run(["$templateCache",function(a){a.put("clNoticesList/clNoticesList.tpl.html",'<ul class="b-list__events" cl-perfect-scrollbar cl-noclick="true">\n  <li ng-repeat="item in notices | orderBy:sort" ng-class="\'notice-\' + item.status">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <table class="b-layout-fixed">\n            <colgroup class="visible-xs">\n              <col width="70%">\n              <col width="30%">\n            </colgroup>\n            <colgroup class="hidden-xs">\n              <col width="50px">\n              <col width="*">\n              <col width="40%">\n            </colgroup>\n            <tbody>\n              <tr>\n                <td class="hidden-xs">\n                  <div class="b-content-list-grid__icon" cl-item-icon="icon" cl-icon-size="small"></div>\n                </td>\n                <td class="pad-a-15-xs">\n                  <div>\n                    <span class="b-activity" cl-item-log item-info="item" item-info-icon-flag="false"></span>\n                    <a ng-if="item.status === \'new\' && item.action === \'share_request_sent\'" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'"></a>\n                    <a ng-if="item.status === \'new\' && item.action === \'share_invitation_sent\'" ui-sref="shares({hash: item.hash})" once-text="item.path | filename:\'/\'"></a>\n                    <span ng-if="item.status === \'new\' && item.action === \'migration_request_sent\'" once-text="item.path | filename:\'/\'"></span>\n                    <a ng-if="item.status === \'declined\' && item.action !== \'migration_request_sent\'" once-text="item.path | filename:\'/\'"></a>\n                    <span ng-if="item.status === \'declined\' && item.action === \'migration_request_sent\'" once-text="item.path | filename:\'/\'"></span>\n                    <a ng-if="item.status !== \'new\' && item.status !== \'declined\' && item.action !== \'migration_request_sent\'" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'"></a>\n                    <span ng-if="item.status !== \'new\' && item.status !== \'declined\' && item.action === \'migration_request_sent\'" once-text="item.path | filename:\'/\'"></span>\n                  </div>\n                  <div>\n                    <small ng-bind="item.timestamp | date:\'short\'"></small>\n                  </div>\n                </td>\n                <td class="text-right" ng-include="item.noticeActionTemplate"></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </li>\n</ul>\n')}]),b.module("clShare/clShare.tpl.html",[]).run(["$templateCache",function(a){a.put("clShare/clShare.tpl.html",'<div class="modal-tabs">\n  <button type="button" class="close" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <tabset class="modal-tabs-tabset" justified="true">\n    <tab>\n      <tab-heading>\n        <i class="fa fa-globe"></i>&nbsp;<span class="uppercase" translate>Public link</span>\n      </tab-heading>\n      <div class="container-fluid pad-t-30">\n\n        <div class="row">\n          <div class="col-md-2 hidden-xs hidden-sm">\n            <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="medium"></div>\n          </div>\n          <div class="col-xs-12 col-md-10">\n            <div class="row">\n              <div class="col-md-12">\n                <h3 class="b-share-filename"><span title="{{$root.pathAsFilename(item.path)}}" translate="Public link to FOLDER_NAME" translate-values="{FOLDER_NAME: $root.pathAsFilename(item.path)}"></span></h3>\n              </div>\n            </div>\n\n            <div class="row">\n              <div class="col-md-9">\n                <div class="input-group">\n                  <input type="text" class="form-control p-cursor-default" readonly ng-model="item.public_hash_url" ng-attr-placeholder="{{\'Public link is not created yet\' | translate}}" cl-select-on-click />\n                  <div class="input-group-hint success-text fade" ng-class="{in: clipHints[\'public-link\']}" translate>Link is copied to clipboard</div>\n                  <span class="input-group-btn" ng-if="!item.public_hash_url">\n                    <button class="btn btn-primary btn-thin" type="button" ng-click="getPublicLink()" title="{{\'Create link\' | translate}}"><i class="fa fa-globe visible-xs-inline-block"></i><span class="hidden-xs" translate>Create link</span></button>\n                  </span>\n                  <div class="input-group-btn">\n                    <span ng-if="item.public_hash_url" id="linkCopy" once-text="item.public_hash_url"/>\n                    <button class="btn btn-primary btn-thin" type="button" data-clipboard-action="copy" data-clipboard-target="#linkCopy" title="{{\'Copy link\' | translate}}"><i class="fa fa-copy visible-xs-inline-block"></i><span class="hidden-xs" translate>Copy</span></button>\n                    <a class="btn btn-primary btn-thin" ng-href="{{item.public_hash_url}}" target="_blank" title="{{\'Open preview\' | translate}}"><i class="fa fa-external-link visible-xs-inline-block"></i><span class="hidden-xs" translate>Preview</span></a>\n                    <button class="btn btn-link btn-go-outside btn-link-black" type="button" ng-click="deletePublicLink()" title="{{\'Remove link\' | translate}}"><i class="fa fa-trash-o"></i></button>\n                  </div>\n                </div>\n              </div>\n              \x3c!--<div class="col-md-3 mar-t-5-xs">--\x3e\n                \x3c!--<div class="btn-group btn-group-sm sns-link-group pull-right">--\x3e\n                  \x3c!--<button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url" ng-click="shareLink(\'facebook\')"><i class="fa fa-facebook"></i></button>--\x3e\n                  \x3c!--<button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url" ng-click="shareLink(\'twitter\')"><i class="fa fa-twitter"></i></button>--\x3e\n                  \x3c!--<button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url" ng-click="shareLink(\'vk\')"><i class="fa fa-vk"></i></button>--\x3e\n                  \x3c!--<button type="button" class="btn btn-default" ng-disabled="!item.public_hash_url" ng-click="shareLink(\'ok\')"><i class="fa fa-ok"></i></button>--\x3e\n                \x3c!--</div>--\x3e\n              \x3c!--</div>--\x3e\n            </div>\n\n            <div class="b-link-options pad-t-10" ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow">\n              <div class="row pad-b-10 pad-t-10">\n                <div class="col-xs-12 col-md-9">\n                  <div ng-show="$root.CurrentCompany.company_id && !item.public_hash">\n                    <span class="fa fa-caret-right"></span>\n                    <span translate>Link Options</span>\n                    <span class="text-muted">{{linkOptText}}</span>\n                    <span class="text-danger pull-right">\n                      <span ng-if="form.linkOption.password.$invalid" translate>4 ~ 32 characters.</span>\n                      <span ng-if="form.linkOption.download_max.$error.pattern">1 - 99999999</span>\n                    </span>\n                  </div>\n                  <div ng-show="$root.CurrentCompany.company_id && item.public_hash">\n                    <span class="fa fa-caret-right"></span>\n                    <span translate>Link Options</span>\n                    <span class="text-muted" ng-if="!$root.CurrentCompany.public_links_allow">\n                      <span class="fa fa-caret-right"></span>\n                      <span translate>Link Options</span>\n                    </span>\n                    <span class="text-muted">{{itemOptText}}</span>\n                  </div>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-9">\n                  <form name="form.linkOption">\n                    <div class="list-group">\n                      <div class="list-group-item list-item-datepicker">\n                        <label class="col-xs-5 col-xxs-12 col-md-3"><input type="checkbox" ng-model="pubLinkOpt.ttl" /><span translate>Active Until</span></label>\n                        <div class="opt-input-wrap col-xs-5 col-xxs-12 col-md-3 mar-l-45-xxs">\n                          <input type="text" name="ttl" class="form-control" set-focus="pubLinkOpt.ttl"\n                                 datepicker-popup="{{datePickerOpt.format}}" datepicker-options="datePickerOpt"\n                                 min-date="datePickerMin" show-button-bar="false" is-open="datePickerOpt.isOpen" close-on-date-selection="false"\n                                 ng-model="datePickerOpt.selDate" ng-click="openDatePicker()" ng-disabled="!pubLinkOpt.ttl" ng-change="dateChange()" />\n                        </div>\n                        <span>&nbsp;</span>\n                        <div class="opt-input-wrap col-xs-4 col-md-2 mar-t-5-xs">\n                          <select class="form-control" ng-disabled="!pubLinkOpt.ttl" ng-model="datePickerOpt.selHour" ng-options="hour.val as hour.name for hour in makeTimeOptions.hour"></select>\n                        </div>\n                        <span class="mar-l-10-xxs">:</span>\n                        <div class="opt-input-wrap col-xs-4 col-md-2 mar-t-5-xs">\n                          <select class="form-control" ng-disabled="!pubLinkOpt.ttl" ng-model="datePickerOpt.selMin" ng-options="min for min in makeTimeOptions.min"></select>\n                        </div>\n                      </div>\n                      <div class="list-group-item" ng-if="!pubLinkOpt.upload_folder">\n                        <label class="col-xs-5 col-xxs-12 col-md-3"><input type="checkbox" ng-model="pubLinkOpt.password" /><span translate>Password</span></label>\n                        <div class="col-xs-6 col-md-5 opt-input-wrap" ng-switch="pubLinkOpt.passwordHide" ng-class="{\'has-error\': form.linkOption.password.$invalid}">\n                          <input class="form-control switch"  ng-switch-default type="text" name="password" set-focus="pubLinkOpt.password && !pubLinkOpt.passwordHide"\n                                 ng-minlength="4" ng-maxlength="32" ng-model="pubLinkParam.password" ng-disabled="!pubLinkOpt.password" ng-focus="checkPassword()" ng-blur="checkPassword()" />\n                          <input class="form-control switch" ng-switch-when="true" type="password" name="password" set-focus="pubLinkOpt.password && pubLinkOpt.passwordHide"\n                                 ng-minlength="4" ng-maxlength="32" ng-model="pubLinkParam.password" ng-disabled="!pubLinkOpt.password" ng-focus="checkPassword()" ng-blur="checkPassword()" />\n                        </div>\n                        <label class="col-md-2"><input type="checkbox" ng-model="pubLinkOpt.passwordHide" ng-disabled="!pubLinkOpt.password" /><span translate>Hide</span></label>\n                      </div>\n                      <div class="list-group-item" ng-if="!pubLinkOpt.upload_folder">\n                        <label class="col-xs-8 col-xxs-12 col-md-3"><input type="checkbox" ng-model="pubLinkOpt.download_max" /><span translate>Max. Download</span></label>\n                        <div class="col-xs-3 col-xxs-12 col-md-2 opt-input-wrap" ng-class="{\'has-error\': form.linkOption.download_max.$error.pattern}">\n                          <input type="text" name="download_max" class="form-control" set-focus="pubLinkOpt.download_max"\n                                 ng-change="downloadMaxPatternValidity()"\n                                 ng-model="pubLinkParam.download_max" ng-disabled="!pubLinkOpt.download_max || $root.CurrentCompany.plan === \'trial\'" ng-blur="checkDownMax()" ng-pattern="/^[1-9]{1}[0-9]{0,7}$/"/>\n                        </div>\n                        <span ng-if="$root.CurrentCompany.plan === \'trial\'" class="col-xs-3 col-xxs-12 col-md-6 opt-input-wrap" translate>download limited to 3 for trial users</span>\n                      </div>\n                      <div ng-if="item.folder" class="list-group-item">\n                        <label>\n                          <input type="checkbox" ng-model="pubLinkOpt.upload_folder" />\n                          <span translate>Allow uploads only to this folder</span>\n                        </label>\n                      </div>\n                    </div>\n                    <div class="help-block alert alert-warning" ng-if="!$root.CurrentUser.can_download || $root.CurrentUser.use_watermarks || !$root.CurrentUser.can_print">\n                      <span translate>Following restrictions applied to this public link. You can contact your company\'s administrator</span>\n                      <li ng-if="!$root.CurrentUser.can_download" translate>Download restricted</li>\n                      <li ng-if="!$root.CurrentUser.can_print" translate>Printing restricted</li>\n                      <li ng-if="$root.CurrentUser.use_watermarks" translate>Use Watermark</li>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div class="mar-t-20 modal-grey-block" ng-if="!unsharable && item.folder && $root.CurrentCompany.company_id && ($root.CurrentUser.role === \'company_admin\' || ($root.CurrentCompany.company_folder_creation_allow && item.role === \'owner\'))">\n          <div class="row">\n            <div id="company_folder_checkbox" class="col-xs-12 col-md-offset-2 col-md-9">\n\n              <label class="no-margin">\n                <table class="table no-border no-margin">\n                  <col width="30px" />\n                  <col width="*" />\n                  <tbody>\n                    <tr>\n                      <td>\n                        <input type="checkbox" ng-model="companyLink.isCompany" ng-change="toggleCompanyVisibility()" />\n                      </td>\n                      <td>\n                        <h3 class="no-margin"><strong translate="Show in COMPANY folders list" translate-values="{COMPANY: $root.CurrentCompany.name}"></strong></h3>\n                        <div><small class="text-muted" translate="Every user in your company will see the folder in COMPANY folder list but will not be able to view its contents until owner will grant the access." translate-values="{COMPANY: $root.CurrentCompany.name}"></small></div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </label>\n\n            </div>\n          </div>\n        </div>\n\n        <div class="row pad-b-30 pad-t-30">\n          <div class="col-md-offset-2 col-md-10">\n            <div class="pull-right">\n              <button class="btn btn-primary btn-wide" ng-if="!inviteCommentOpened" ng-click="publicLinkDone()" translate>Done</button>\n              <button class="btn btn-primary" ng-if="inviteCommentOpened" ng-click="sendInvites()" translate>Send invites</button>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </tab>\n    <tab ng-if="item.folder">\n      <tab-heading>\n        <i class="fa fa-share-square-o"></i>&nbsp;<span class="uppercase" translate>Share with others</span>\n      </tab-heading>\n      <div class="container-fluid pad-t-30">\n\n        <div class="row">\n          <div class="col-md-2 hidden-xs hidden-sm">\n            <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="medium"></div>\n          </div>\n          <div class="col-xs-12 col-md-10">\n            <div class="row" ng-if="sharingNotAllowedYet">\n              <div class="col-md-12">\n                <h3 class="b-share-filename" translate>You can not use sharing unless you approve your account</h3>\n              </div>\n            </div>\n            <div class="row" ng-if="!sharingNotAllowedYet">\n              <div class="col-md-12" ng-if="!unsharable">\n                <h3 class="b-share-filename"><span translate="Invite people to FOLDER_NAME" translate-values="{FOLDER_NAME: $root.pathAsFilename(item.path)}"></span></h3>\n              </div>\n            </div>\n            <div class="row" ng-if="!sharingNotAllowedYet">\n              <div class="col-xs-12 col-md-12">\n\n                <div ng-if="!unsharable && shareOwnerIsMe">\n                  <div ng-if="!isModernMode" ng-form="Invite.Form" cl-server-validate="{400: \'BadUser\', 403: [\'FolderIntersectsWithSharedOrPublished\', \'CompanyOperationsOutsideForbidden\'], 409: \'Conflict\'}">\n                    <div class="row form-group">\n                      <div class="col-md-9">\n                        <tags-input name="inviteCollaborators"\n                                    ng-model="invite.collaborators"\n                                    display-property="text"\n                                    min-length="0"\n                                    add-on-space="false" add-on-paste="true" paste-split-pattern="[;,]+"\n                                    replace-spaces-with-dashes="false"\n                                    placeholder="{{\'Invite company users via email/ldap\' | translate}}"\n                                    on-tag-removed="tagRemoved($tag)"\n                                    add-from-autocomplete-only="true">\n                          <auto-complete source="getUserlistForAutocomplete($query)"\n                                         min-length="0"\n                                         max-results-to-show="5"\n                                         template="autocomplete-template"></auto-complete>\n                        </tags-input>\n                      </div>\n                      <div class="col-md-3 mar-t-5-xs">\n\n                        <cl-multiple-select\n                          cl-list-items="groupsList" cl-selected="selectedGroups"\n                          cl-value="name"\n                          cl-on-change="updateGroupsList"\n                          cl-placeholder="{{\'Add group access\' | translate}}"\n                          cl-no-items-text="No groups yet"\n                          cl-no-items-button-text="{{CurrentUser.role == \'company_admin\' ? \'Add group\' : \'\'}}"\n                          cl-no-items-button-call="goToGroups"\n                          cl-width="147"></cl-multiple-select>\n\n                      </div>\n                    </div>\n                    <textarea class="form-control mar-t-5" ng-model="invite.comment" ng-if="inviteCommentOpened" placeholder="{{\'Optional message\' | translate}}"></textarea>\n                    <div class="form-group">\n                      <label translate>Invite language</label>\n                      <select class="form-control" ng-model="inviteUsersLang" ng-value="inviteUsersLang">\n                        <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="inviteUsersLang == item.value" once-text="item.label"></option>\n                      </select>\n                    </div>\n                    <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.BadUser || Invite.Form.$error.Conflict" translate>Some invites were not sent. Please, check entered emails or phones.</div>\n                    <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.CompanyOperationsOutsideForbidden" translate>Some invites were not sent. You can\'t share outside.</div>\n                    <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.FolderIntersectsWithSharedOrPublished" translate>Some invites were not sent. Folder intersects with other shared folder</div>\n                  </div>\n                  <div ng-if="isModernMode">\n                    <div class="input-group">\n                      <input type="text" class="form-control p-cursor-default" readonly ng-model="sharedLink" ng-attr-placeholder="{{sharedLink ? \'\' : (\'Shared link is not created yet\' | translate)}}" cl-select-on-click />\n                      <div class="input-group-hint fade" ng-class="{in: clipHints[\'shared-link\']}">Link is copied to clipboard</div>\n                      <span class="input-group-btn">\n                        <button class="btn btn-primary" ng-if="!sharedLink" ng-click="share()"><span translate>Make share link</span></button>\n                        <button class="btn btn-primary" ng-if="sharedLink" clip-copy="sharedLink" clip-click="afterClipMessage(\'shared-link\')"><span translate>Copy</span></button>\n                        <button class="btn btn-primary" ng-if="sharedLink" ng-click="unshareAll()"><span translate>Unshare</span></button>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class="row">\n                  <div class="col-md-12 pad-t-30">\n                    <h3 class="pad-bottom-0" translate>Who can edit content of this folder:</h3>\n                  </div>\n                </div>\n                <table class="table b-layout-fixed collaborators">\n                  <col width="30px" />\n                  <col width="*" />\n                  <col width="30%" ng-if="!isModernMode" />\n                  <col width="150px" />\n                  <tbody>\n                    <tr ng-repeat="collaborator in collaborators | orderBy:[\'-owner\',\'is_group\',\'name\']">\n                      <td class="text-right">\n                        <label>\n                          <input class="p-cursor-default" type="checkbox" ng-disabled="!shareOwnerIsMe || collaborator.userid == $root.CurrentUser.userid"\n                                 ng-model="collaborator.writer" ng-change="toggleRule(collaborator)" />\n                        </label>\n                      </td>\n                      <td>\n                        <span>\n                          {{collaborator.userid == $root.CurrentUser.userid ? (\'Me\' | translate) : collaborator.name}}\n                          {{collaborator.owner ? \' (\' + (\'Owner\' | translate) + \')\' : \'\'}}\n                          {{collaborator.is_group ? \' (\' + (\'group\' | translate) + \')\' : \'\'}}\n                        </span>\n                      </td>\n                      <td class="text-right" ng-if="!isModernMode">\n                        <span class="text-muted" ng-if="collaborator.status === \'waiting\'" translate>Hasn\'t joined yet</span>\n                      </td>\n                      <td class="text-right">\n                        <span ng-if="shareOwnerIsMe && collaborator.userid != $root.CurrentUser.userid">\n                          <a ng-click="unshare(collaborator)" translate>Unshare</a>\n                        </span>\n                        <span ng-if="!shareOwnerIsMe && collaborator.userid == $root.CurrentUser.userid">\n                          <a ng-click="leave(collaborator)" ng-if="!shareOwnerIsMe" translate>Leave</a>\n                        </span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="mar-t-20 modal-grey-block" ng-if="!unsharable && item.folder && $root.CurrentCompany.company_id && ($root.CurrentUser.role === \'company_admin\' || ($root.CurrentCompany.company_folder_creation_allow && item.role === \'owner\'))">\n          <div class="row">\n            <div class="col-xs-12 col-md-offset-2 col-md-9">\n\n              <label class="no-margin">\n                <table class="table no-border no-margin">\n                  <col width="30px" />\n                  <col width="*" />\n                  <tbody>\n                    <tr>\n                      <td>\n                        <input type="checkbox" ng-model="companyLink.isCompany" ng-change="toggleCompanyVisibility()" />\n                      </td>\n                      <td>\n                        <h3 class="no-margin"><strong translate="Show in COMPANY folders list" translate-values="{COMPANY: $root.CurrentCompany.name}"></strong></h3>\n                        <div><small class="text-muted" translate="Every user in your company will see the folder in COMPANY folder list but will not be able to view its contents until owner will grant the access." translate-values="{COMPANY: $root.CurrentCompany.name}"></small></div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </label>\n\n            </div>\n          </div>\n        </div>\n\n        <div class="row pad-b-30 pad-t-30">\n          <div class="col-md-offset-2 col-md-10">\n            <div class="pull-right float-none-xxs">\n              <button class="btn btn-primary btn-wide col-xxs-12" ng-if="!inviteCommentOpened" ng-click="$close()" translate>Done</button>\n              <button class="btn btn-primary col-xxs-12" ng-if="inviteCommentOpened" ng-click="sendInvites()" translate>Send invites</button>\n            </div>\n\n            <button class="btn btn-default col-xxs-12 mar-t-5-xxs" ng-if="shareOwnerIsMe && item.shared && collaborators.length > 1" ng-click="unshareAll()" translate>Cancel sharing</button>\n          </div>\n        </div>\n\n      </div>\n    </tab>\n  </tabset>\n</div>\n<script type="text/ng-template" id="autocomplete-template">\n  <div class="break-word white-space-normal bold">\n    <span ng-bind-html="$highlight(data.name)"></span>\n  </div>\n  <div class="break-word white-space-normal">\n    <span ng-repeat="login in data.logins">\n      <span ng-bind-html="$highlight(login.value)"></span>\n      <span ng-if="!$last" class="separator"></span>\n    </span>\n    <span ng-if="data.aliases" class="brackets">\n      <span ng-repeat="alias in data.aliases">\n        <span ng-bind-html="$highlight(alias)"></span>\n        <span ng-if="!$last" class="comma"></span>\n      </span>\n    </span>\n  </div>\n<\/script>\n')}]),b.module("templates-gstates",["contacts/contacts-edit.tpl.html","contacts/contacts-menu.tpl.html","contacts/contacts-sidebar.tpl.html","contacts/contacts.tpl.html","drive/drive-ceil-name.tpl.html","drive/drive-navbar.tpl.html","drive/drive-sidebar.tpl.html","drive/drive-toolbar.tpl.html","drive/drive.tpl.html","drivePublic/drivePublic-ceil-name.tpl.html","drivePublic/drivePublic-navbar.tpl.html","driveSearch/driveSearch-ceil-name.tpl.html","driveSearch/driveSearch-ceil-path.tpl.html","driveSearch/driveSearch-navbar.tpl.html","driveShared/driveShared-ceil-name.tpl.html","driveShared/driveShared-navbar.tpl.html","driveShares/driveShares-ceil-name.tpl.html","driveShares/driveShares-navbar.tpl.html","driveTrash/driveTrash-ceil-name.tpl.tpl.html","driveTrash/driveTrash-navbar.tpl.html","layouts/col-1.tpl.html","layouts/col-2.tpl.html","layouts/navbar-with-menu.tpl.html","layouts/navbar.tpl.html","layouts/sidebar-bottom.tpl.html","layouts/sidebar.tpl.html","oauth/oauth-verifier.tpl.html","oauth/oauth.tpl.html","page404/page404-navbar.tpl.html","page404/page404.tpl.html","profile/contactsandcalendar.tpl.html","profile/details.tpl.html","profile/log.tpl.html","profile/profile-menu.tpl.html","profile/profile-sidebar.tpl.html","profile/profile.tpl.html","profile/security.tpl.html","resetPassword/resetPassword.tpl.html","signup/offer.tpl.html","signup/signup.tpl.html","unavailable/unavailable-navbar.tpl.html","unavailable/unavailable.tpl.html"]),b.module("contacts/contacts-edit.tpl.html",[]).run(["$templateCache",function(a){a.put("contacts/contacts-edit.tpl.html",'<div class="row full-height contact" ng-class="{\'is-readonly\': CONST.be.contacts_readonly}">\n  <div class="col-md-9 col-lg-7 b-content-wrap full-height">\n    <div ng-if="loading" class="contacts-loading b-content">\n      <p translate>Please wait...</p>\n\n      <div class="contacts-spinner">\n        <div class="double-bounce1"></div>\n        <div class="double-bounce2"></div>\n      </div>\n      <p translate>We\'re loading your contacts</p>\n    </div>\n    <div ng-if="!loading" class="b-content">\n      <header>\n        <a ui-sref="contacts"><i class="icon icon-back-arrow icon-1"></i> <span translate>Back to contacts list</span></a>\n      </header>\n      <form name="forms.ContactForm" ng-submit="save()" autocomplete="off" ng-init="setFormScope(this)">\n        <div class="row">\n          <div class="col-sm-3 hidden-xs text-right">\n            <div class="photo" flow-init flow-object="$flow" ng-class="{\'selected\': card.photo[0]}">\n              <button type="button" title="Remove image" ng-click="clearImage();$event.stopPropagation()">&times;</button>\n              <img ng-if="card.photo[0]"\n                   ng-src="data:image/{{card.photo[0].meta.type[0]}};base64,{{card.photo[0].value}}" alt="">\n              <span flow-btn ng-if="!CONST.be.contacts_readonly">\n                <span ng-if="!card.photo[0]" translate>Add a picture</span>\n                <span ng-if="card.photo[0]" translate>Change a picture</span>\n                <input type="file" style="visibility: hidden; position: absolute;">\n              </span>\n              <span ng-if="CONST.be.contacts_readonly">\n                <span ng-if="!card.photo[0]" translate>No photo</span>\n              </span>\n            </div>\n          </div>\n          <div class="col-sm-7 col-sm-offset-0 col-xs-offset-1 col-xs-10">\n            <hidden-input cl-options="{valueField: \'value\'}"\n                          placeholder="\'name\' | translate"\n                          class="hidden-input-name"\n                          autofocus="true"\n                          readonly="CONST.be.contacts_readonly"\n                          ng-model="card.fn[0]"></hidden-input>\n\n            <div class="hidden-input-organization">\n              <button type="button" class="btn btn-sm btn-link"\n                      ng-click="$parent.showOrg = true"\n                      ng-show="!showOrg && !card.org[0].value"\n                      ng-if="!CONST.be.contacts_readonly"\n                      translate>Add organization</button>\n              <div ng-show="showOrg || card.org[0].value">\n                <hidden-input cl-options="{valueField: \'value\'}"\n                              placeholder="\'Organization\' | translate"\n                              readonly="CONST.be.contacts_readonly"\n                              ng-model="card.org[0]"></hidden-input>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <div class="wrapper">\n          <div class="inner">\n            <div class="inner-content">\n              <div ng-repeat="input in inputs" class="form-input-group"\n                   ng-if="input.multiple != false && card[input.field].length">\n\n                <div class="row form-input" ng-repeat="field in card[input.field]">\n                  <div class="col-sm-3 col-xs-4 form-label">\n                    <cl-select cl-model="field.meta.type[0]" cl-options="input.types"\n                               cl-rules="input.rules" cl-card="card" cl-type="input.field"\n                               placeholder="input.label" show-placeholder="field[input.valueField] == \'\'"\n                               readonly="CONST.be.contacts_readonly"\n                    ></cl-select>\n                  </div>\n                  <div class="col-sm-7 col-xs-6">\n                    <hidden-input cl-options="input" readonly="CONST.be.contacts_readonly" ng-model="field"></hidden-input>\n                  </div>\n                  <div class="col-sm-1 col-xs-1" ng-if="!CONST.be.contacts_readonly">\n                    <button type="button" class="btn btn-link btn-remove" title="{{\'Delete\' | translate}}" tabindex="-1"\n                            ng-show="!(field[input.valueField]==\'\' && card[input.field].length == 1) || !input.defaultShow"\n                            ng-class="{\'was-focused\': field.wasFocused || field._focused}"\n                            ng-click="removeElement(input.field, $index)"><i class="icon icon-bin icon-2"></i></button>\n                  </div>\n                </div>\n\n                <div class="row add-field-row" ng-if="!CONST.be.contacts_readonly && card[input.field].length && card[input.field][0][input.valueField]">\n                  <div class="col-sm-7 col-sm-offset-3 col-xs-offset-4">\n                    <button type="button" class="btn btn-link btn-sm" ng-click="addElement(input.field)">\n                      <span translate>Add</span> {{input.label | translate}}\n                    </button>\n                  </div>\n                </div>\n                <div ng-if="!card[input.field].length || !card[input.field][0][input.valueField]"\n                     style="padding-top: 10px;"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <footer ng-if="!CONST.be.contacts_readonly">\n          <div class="add-field row">\n            <div class="col-sm-8 col-sm-offset-3 col-xs-offset-4">\n              <input type="submit" style="display: none;">\n              <div class="btn-group">\n                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button" ng-click="clickThrough()">\n                  <span translate>Add field</span> <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu dropdown-menu__up" role="menu">\n                  <li ng-repeat="input in inputs" ng-if="input.multiple != false">\n                    <a href="#" ng-click="addElement(input.field)">{{input.label}}</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class="row form-save">\n            <div class="col-sm-4 col-sm-offset-3 col-xs-5 col-xs-offset-1">\n              <button class="btn btn-primary btn-block" type="button" ng-click="save()" ng-disabled="forms.ContactForm.$invalid || cardIsEmpty" translate>Save</button>\n            </div>\n            <div class="col-sm-4 col-xs-4 text-right">\n              <button class="btn btn-link text-muted" type="button" ng-click="remove()" ng-if="!isNew">\n                <span class="text-muted" translate>Delete</span>\n              </button>\n              <a class="btn btn-link" type="button" ui-sref="contacts" ng-click="forms.ContactForm.$dirty = false" ng-if="isNew">\n                <span class="text-muted" translate>Cancel</span>\n              </a>\n            </div>\n          </div>\n        </footer>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),b.module("contacts/contacts-menu.tpl.html",[]).run(["$templateCache",function(a){a.put("contacts/contacts-menu.tpl.html",'<ul class="nav navbar-nav" ng-class="{\'visibility-hidden\': CONST.be.contacts_readonly}">\n  <li>\n    <a class="text-center ng-scope" href="/contacts/new/" attr="\'New contact\' | translate">\n      <i class="icon icon-add icon-3"></i>&nbsp;<span translate>New contact</span>\n    </a>\n  </li>\n  <li class="divider-vertical"></li>\n  <cl-menu class="pull-left" cl-menu-entry="contactsMenu"\n           cl-menu-type="nav"\n           cl-menu-namespace="contacts"></cl-menu>\n</ul>\n')}]),b.module("contacts/contacts-sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("contacts/contacts-sidebar.tpl.html",'<div class="metadata-tree b-menu" cl-folder-as-tree cl-perfect-scrollbar></div>\n')}]),b.module("contacts/contacts.tpl.html",[]).run(["$templateCache",function(a){a.put("contacts/contacts.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="infinite-scroll-container b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header" ng-if="!loading && items.length">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc"><span translate>Contacts</span><span ng-if="allItems.length"> [<span ng-bind="allItems.length"></span>]</span></h2>\n          </div>\n        </div>\n        <div ng-if="loading" class="contacts-loading">\n          <p translate>Please wait...</p>\n\n          <div class="contacts-spinner">\n            <div class="double-bounce1"></div>\n            <div class="double-bounce2"></div>\n          </div>\n          <p translate>We\'re loading your contacts</p>\n        </div>\n        <div ng-if="!loading">\n          <div ng-if="!items.length && CONST.be.contacts_readonly" class="contacts-empty">\n            <h3 translate>Contacts</h3>\n\n            <div class="empty-img"></div>\n            <p><strong translate>It seems like you have no contacts here.</strong></p>\n\n            <p translate>Update the application on your mobile device</p>\n          </div>\n          <div ng-if="!items.length && !CONST.be.contacts_readonly" class="contacts-empty">\n            <h3 translate>Contacts</h3>\n\n            <div class="empty-img"></div>\n            <p><strong translate>It seems like you have no contacts here.</strong></p>\n\n            <p translate>Create a first one</p>\n            <a class="btn btn-primary btn-lg btn-new"\n               ui-sref="contacts-one({uid: \'new\'})">+&nbsp;<span translate>New contact</span></a>\n\n            <p>\n              <span translate>or setup your account</span>\n              <br>\n              <span translate>to import contacts automaticaly</span>\n            </p>\n            <a ui-sref="contactsandcalendar" class="btn btn-primary btn-lg" translate>Open settings</a>\n          </div>\n          <div ng-if="items.length" class="contacts-list b-infinite-scroll-element"\n            infinite-scroll="metadataMore()"\n            infinite-scroll-distance="2"\n            infinite-scroll-container="CONST.fe.infinite_scroll_container"\n          >\n            <div class="row">\n              <div class="col-sm-2">\n                <div class="btn-group" ng-if="!CONST.be.contacts_readonly">\n                  <button type="button" class="btn btn-gray dropdown-toggle" data-toggle="dropdown"\n                          aria-expanded="false">\n                    <cl-checkbox state="commonCheckboxState" change="toggleCommonCheckbox()"></cl-checkbox>\n                    &nbsp;<span translate>Select</span> <span class="caret"></span>\n                  </button>\n                  <ul class="dropdown-menu" role="menu">\n                    <li><a href="#" ng-click="commonCheckboxState.value = \'checked\';toggleCommonCheckbox()" translate>All</a></li>\n                    <li><a href="#" ng-click="commonCheckboxState.value = \'unchecked\';toggleCommonCheckbox()" translate>None</a></li>\n                  </ul>\n                </div>\n              </div>\n              <div class="col-sm-6 col-sm-offset-4">\n                <input ng-model="query" placeholder="{{\'search...\' | translate}}" class="form-control" type="search">\n              </div>\n            </div>\n            <table class="table table-condensed table-hover" style="margin-top: 20px;">\n              <thead>\n                <tr>\n                  <th class="b-content-list__cell-item" width="39" ng-if="!CONST.be.contacts_readonly">&nbsp;</th>\n                  <th class="b-content-list__cell-item" translate>Title</th>\n                  <th class="b-content-list__cell-item hidden-xs" width="20%" translate>Phone</th>\n                  <th class="b-content-list__cell-item hidden-xs" width="20%" translate>Email</th>\n                  <th class="b-content-list__cell-item hidden-xs" width="25%" translate>Organization</th>\n                  <th class="b-content-list__cell-item" width="50">&nbsp;</th>\n                </tr>\n              </thead>\n              <tbody>\n              <tr ng-repeat="card in (query ? allItems : items) | contactsFilter : query"\n                  ng-class="{\'active\': selectedItems[card._url]}"\n                  ng-click="$state.go(\'contacts-one\', {uid:card.uid[0].value})">\n                <td ng-if="!CONST.be.contacts_readonly">\n                  <label class="b-content-list__label" ng-click="$event.stopPropagation()">\n                    <input type="checkbox" ng-model="selectedItems[card._url]" ng-change="updateCheckbox()">\n                  </label>\n                </td>\n                <td>\n                  <a class="text-bold" ui-sref="contacts-one({uid: card.uid[0].value, hrefuid: card._uidhref})"><span once-text="card | cardtitle"></span></a>\n                </td>\n                <td class="hidden-xs">\n                  <span ng-if="!card.tel[0].value">&nbsp;</span>\n                  <span once-text="card.tel[0].value"></span>\n                  <span class="text-muted" ng-if="card.tel.length > 1">(+<span once-text="card.tel.length-1"></span>)</span>\n                </td>\n                <td class="hidden-xs">\n                  <span ng-if="!card.email[0].value">&nbsp;</span>\n                  <span class="text-muted">\n                    <span once-text="card.email[0].value"></span>\n                    <span ng-if="card.email.length > 1">(+<span once-text="card.email.length-1"></span>)</span>\n                  </span>\n                </td>\n                <td class="hidden-xs">\n                  <span ng-if="!card.org[0].value">&nbsp;</span>\n                  <span class="text-muted">\n                    <span once-text="card.org[0].value"></span>\n                  </span>\n                </td>\n                <td>\n                  <button class="btn btn-remove"\n                          ng-click="remove(card);$event.stopPropagation();"\n                          ng-if="!CONST.be.contacts_readonly"\n                          title="{{\'Delete\'|translate}}"\n                  ><i class="icon icon-bin icon-2"></i></button>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("drive/drive-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        cl-rename="item"\n        cl-rename-namespace="folder-contents folder-contents-context"\n        once-href="itemHref(item)"\n        once-title="item.path | filename"\n      >\n          <span ng-if="item.folder" once-text="item.path | filename" cl-analytics-on="click" cl-analytics-on-event="transition.drive.list"></span>\n          <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n      </a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("drive/drive-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-navbar.tpl.html",'<ul class="nav navbar-nav" ng-show="navbar.visible">\n  <li ng-class="{\'is-disabled\': navbar.showUploader.disabled}">\n    <span class="b-uploader__file-select text-center" type="button" ng-class="{\'disabled\': navbar.showUploader.disabled}" title="{{\'Upload\' | translate}}">\n      <input name="file" type="file" multiple ng-show="!navbar.showUploader.disabled" nv-file-select uploader="$root.uploader">\n      <i class="icon icon-upload icon-3"></i>\n      <span translate>Upload</span>\n    </span>\n  </li>\n  <li ng-class="{\'is-disabled\': navbar.showNewFolder.disabled}">\n    <button class="text-center" type="button" ng-disabled="navbar.showNewFolder.disabled" ng-click="toggleCollapseNode(navbar.showNewFolder)" title="{{\'New folder\' | translate}}">\n      <i class="icon icon-folder icon-3"></i>\n      <span translate>New folder</span>\n    </button>\n    <div class="collapse-wrapper" ng-show="navbar.showNewFolder.showForm">\n      <div class="well">\n        <button type="button" class="close"><i class="icon icon-cross"></i></button>\n        <form name="formCreateFolder" class="form-block col-fx-300" ng-submit="formCreateFolder.$valid && createFolder(formCreateFolder, navbar.showNewFolder.name)" novalidate cl-server-validate="{403: \'FolderExists\', \'403:Access denied\': \'AccessDenied\', 400: \'ServerError\', \'400:InvalidParameters\': \'InvalidParameters\'}">\n          <div class="b-new-folder" ng-class="{\'has-error\': formCreateFolder.$dirty && navbar.showNewFolder.name && formCreateFolder.$invalid}">\n            <div class="input-group" cl-click-outside="navbar.showNewFolder.showForm = false" cl-click-outside-esc="true">\n              <input class="form-control noSwipe" name="path" type="text" ng-model="navbar.showNewFolder.name" ng-required="true" ng-pattern="$root.CONST.fe.filenameAllowedCharactersPattern" cl-set-focus="navbar.showNewFolder.showForm" on-select="true">\n              <span class="input-group-btn">\n                <button id="btn-create-new-folder" class="btn btn-primary" type="submit" ng-disabled="!navbar.showNewFolder.name || formCreateFolder.$invalid" translate>Create</button>\n              </span>\n            </div>\n            <span class="help-block" ng-if="formCreateFolder.$dirty && navbar.showNewFolder.name && formCreateFolder.path.$error.required" translate>Folder name should be specified</span>\n            <span class="help-block" ng-if="formCreateFolder.path.$error.pattern" translate>Invalid character in folder name</span>\n            <span class="help-block" ng-if="formCreateFolder.$error.FolderExists" translate>Folder already exists</span>\n            <span class="help-block" ng-if="formCreateFolder.$error.AccessDenied" translate>Access denied</span>\n            <span class="help-block" ng-if="formCreateFolder.$error.InvalidParameters" translate>Incorrect folder name or path</span>\n            <span class="help-block" ng-if="formCreateFolder.$error.ServerError" translate>Server error occurred during request processing</span>\n          </div>\n        </form>\n      </div>\n    </div>\n  </li>\n  <li class="divider-vertical"></li>\n  <cl-menu class="pull-left" cl-menu-entry="driveMenu"\n           cl-menu-type="nav"\n           cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("drive/drive-sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-sidebar.tpl.html",'<div class="metadata-tree b-menu" cl-folder-as-tree cl-perfect-scrollbar></div>\n')}]),b.module("drive/drive-toolbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-toolbar.tpl.html",'<div class="row" ng-class="{\'invisible\': metadata.status === 404}">\n  <div class="g-sidebarview" ng-if="opts.oneColumn !== true">&nbsp;</div>\n  <div class="g-toolbar" ng-class="{\'g-mainview\': !opts.oneColumn, \'col-md-8 col-md-offset-2\': opts.oneColumn}">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="visible-xs">\n          <div class="b-toolbar__breadcrumbs" ui-view="toolbar-breadcrumbs"></div>\n          <div class="b-toolbar__bar">\n            <div class="b-toolbar__bar-sort btn-group">\n              <button type="button" class="btn btn-xs btn-link" ng-class="{\'b-sortable-cell__direction-asc\': currentSort.rule[1].charAt(0) == \'+\', \'b-sortable-cell__direction-desc\': currentSort.rule[1].charAt(0) == \'-\'}" cl-dropdown ng-if="mode == \'grid\'">\n                <span class="p-lc">{{(gridOptions.columnDefs | filter:{sortKey: currentSort.rule[1].substr(1)})[0].sortTitleForThumbnailView | translate}}</span>\n                <div class="b-dropdown open" cl-dropdown-body cl-sortable-table="gridOptions.gridName" cl-sortable-table-sort="gridOptions.defaultSort">\n                    <ul class="dropdown-menu">\n                      <li ng-repeat="col in gridOptions.columnDefs" ng-if="col.sortKey" ng-class="{active: (currentSort | filter:col.sortKey).length}">\n                        <a href="" cl-sortable-table-column="{{col.sortKey}}">{{col.sortTitleForThumbnailView}}</a>\n                      </li>\n                    </ul>\n                </div>\n              </button>\n            </div>\n            <div class="b-toolbar__bar-mode btn-group">\n              <button type="button" class="btn btn-xs btn-default btn-mtb" ng-class="{\'active\': mode == \'grid\'}" ng-click="toggleMode(\'grid\')"><i class="icon icon-tiles icon-3-h"></i></button>\n              <button type="button" class="btn btn-xs btn-default btn-mtb" ng-class="{\'active\': mode == \'list\'}" ng-click="toggleMode(\'list\')"><i class="icon icon-list icon-3-h"></i></button>\n            </div>\n          </div>\n        </div>\n        <table class="b-toolbar__table hidden-xs">\n          <colgroup>\n            <col width="*">\n            <col width="1%">\n            <col width="1%" ng-if="$root.CONST.be.show_search && opts.showSearch">\n          </colgroup>\n          <tr>\n            <td>\n              <div class="b-toolbar__breadcrumbs" ui-view="toolbar-breadcrumbs"></div>\n            </td>\n            <td>\n              <div class="b-toolbar__bar">\n                <div class="btn-group">\n                  <button type="button" class="btn btn-link" ng-class="{\'b-sortable-cell__direction-asc\': currentSort.rule[1].charAt(0) == \'+\', \'b-sortable-cell__direction-desc\': currentSort.rule[1].charAt(0) == \'-\'}" cl-dropdown ng-if="mode == \'grid\'">\n                    {{\'Sort\' | translate}}\n                    <span class="p-lc">{{(gridOptions.columnDefs | filter:{sortKey: currentSort.rule[1].substr(1)})[0].sortTitleForThumbnailView | translate}}</span>\n                    <div class="b-dropdown open" cl-dropdown-body cl-sortable-table="gridOptions.gridName" cl-sortable-table-sort="gridOptions.defaultSort">\n                        <ul class="dropdown-menu">\n                          <li ng-repeat="col in gridOptions.columnDefs" ng-if="col.sortKey" ng-class="{active: (currentSort | filter:col.sortKey).length}">\n                            <a href="" cl-sortable-table-column="{{col.sortKey}}">{{col.sortTitleForThumbnailView}}</a>\n                          </li>\n                        </ul>\n                    </div>\n                  </button>\n                </div>\n                <div class="b-toolbar__bar-mode btn-group">\n                  <button type="button" class="btn btn-default btn-mtb" ng-class="{\'active\': mode == \'grid\'}" ng-click="toggleMode(\'grid\')"><i class="icon icon-tiles icon-3-h"></i></button>\n                  <button type="button" class="btn btn-default btn-mtb" ng-class="{\'active\': mode == \'list\'}" ng-click="toggleMode(\'list\')"><i class="icon icon-list icon-3-h"></i></button>\n                </div>\n              </div>\n            </td>\n            <td ng-if="$root.CONST.be.show_search && opts.showSearch">\n              <div class="b-toolbar__search">\n                <cl-search-form></cl-search-form>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("drive/drive.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height"  ng-class="{\'b-content-grid-wrap\': mode == \'grid\' && metadata.content.length}">\n    <div ng-show="metadata.$status !== 200" class="full-height" cl-empty-page cl-empty-state="metadata.$status" cl-empty-topic="metadata.empty"></div>\n    <div ng-show="metadata.$status === 200 && !metadata.content.length" class="b-content b-content-empty">\n      <span></span>\n      <div class="empty-wrap">\n        \x3c!-- TODO: Refactor ng-if state conditions, too ugly --\x3e\n        <i class="empty-icon icon icon-upload" ng-if="$state.current.data.showDropZoneInEmptyFolder"></i>\n        <i class="empty-icon icon icon-folder" ng-if="!$state.current.data.showDropZoneInEmptyFolder && !$state.current.data.showTrashNotify"></i>\n        <i class="empty-icon icon icon-bin-x" ng-if="$state.current.data.showTrashNotify"></i>\n        <div class="empty-drop">\n          <span ng-bind="emptyFolderText"></span><br>\n          <span class="droptext" ng-if="$state.current.data.showDropZoneInEmptyFolder" translate>Drop some files here or</span>\n          <span class="b-uploader__file-select" ng-if="$state.current.data.showDropZoneInEmptyFolder">\n            <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n            <span translate>choose from disk</span>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class="infinite-scroll-container b-fullheight"\n      ng-show="metadata.$status === 200 && metadata.content.length"\n      ng-class="{\'b-content\': mode == \'list\'}"\n    >\n      <div class="b-infinite-scroll-element"\n        infinite-scroll="metadataMore()"\n        infinite-scroll-distance="2"\n        infinite-scroll-container="CONST.fe.infinite_scroll_container"\n      >\n        <div class="b-folder-contents"\n          cl-folder-contents="metadata"\n          cl-folder-contents-type="mode"\n          cl-folder-opts="gridOptions"\n          cl-context-menu-entry="{{contextMenuEntry}}"></div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("drivePublic/drivePublic-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        once-href="itemHref(item)"\n        once-title="item.path | filename">\n          <span ng-if="item.folder" once-text="item.path | filename"></span>\n          <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n      </a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("drivePublic/drivePublic-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic-navbar.tpl.html",'<ul class="nav navbar-nav public-files" ng-show="navbar.visible">\n  <cl-menu cl-menu-entry="publicFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveSearch/driveSearch-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        once-if="item.folder"\n        once-href="$root.$state.href(\'drive\', {path: item.path})"\n        once-title="item.path | filename"><span once-text="item.path | filename"></span></a>\n      <a class="b-content-list__item-filename"\n        once-if="!item.folder"\n        once-href="itemHref(item)"\n        once-title="item.path | filename"><span cl-ellipsis once-text="item.path | filename"></span></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveSearch/driveSearch-ceil-path.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-ceil-path.tpl.html",'<a class="b-content-list__item-filename"\n  once-href="$root.$state.href(\'drive\', {path: $root.pathAsParentFoldername(item.path, \'\')})"\n  once-title="item.path | parentfolder"><span once-text="item.path | parentfolder"></span></a>\n')}]),b.module("driveSearch/driveSearch-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-navbar.tpl.html",'<ul class="nav navbar-nav">\n  <cl-menu class="pull-left" cl-menu-entry="sharedFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveShared/driveShared-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShared/driveShared-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        once-if="item.folder"\n        once-href="$root.$state.href(\'drive\', {path: item.path})"\n        once-title="item.path | filename"><span once-text="item.path | filename"></span></a>\n      <a class="b-content-list__item-filename"\n        once-if="!item.folder"\n        once-href="itemHref(item)"\n        once-title="item.path | filename"><span cl-ellipsis once-text="item.path | filename"></span></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveShared/driveShared-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShared/driveShared-navbar.tpl.html",'<ul class="nav navbar-nav">\n  <cl-menu class="pull-left" cl-menu-entry="sharedFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveShares/driveShares-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShares/driveShares-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        once-href="itemHref(item)"\n        once-title="item.path | filename">\n          <span ng-if="item.folder" once-text="item.path | filename"></span>\n          <span ng-if="!item.folder" cl-ellipsis once-text="item.path | filename"></span>\n      </a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveShares/driveShares-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShares/driveShares-navbar.tpl.html",'<ul class="nav navbar-nav shares-files" ng-show="navbar.visible">\n  <cl-menu cl-menu-entry="sharesFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveTrash/driveTrash-ceil-name.tpl.tpl.html",[]).run(["$templateCache",function(a){a.put("driveTrash/driveTrash-ceil-name.tpl.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename p-cursor-default"\n        once-if="item.folder"\n        once-title="item.path"><span once-text="item.name"></span></a>\n      <a class="b-content-list__item-filename"\n        once-if="!item.folder"\n        once-href="itemHref(item)"\n        once-title="item.path"><span cl-ellipsis once-text="item.name"></span></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveTrash/driveTrash-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveTrash/driveTrash-navbar.tpl.html",'<ul class="nav navbar-nav" ng-show="navbar.visible">\n  <cl-menu class="pull-left" cl-menu-entry="trashMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("layouts/col-1.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/col-1.tpl.html",'<div class="row full-height">\n  <div class="col-md-8 col-md-offset-2 full-height layout-col-pad" ui-view="main"></div>\n</div>\n')}]),b.module("layouts/col-2.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/col-2.tpl.html",'<div class="row full-height">\n  <div class="g-sidebarview full-height" ui-view="sidebar"></div>\n  <div class="g-mainview layout-col-pad full-height" ui-view="main"></div>\n</div>\n')}]),b.module("layouts/navbar-with-menu.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/navbar-with-menu.tpl.html",'<div class="header b-nav b-nav_with-menu">\n  <div class="navbar navbar-static-top b-nav__navbar">\n    <div class="navbar-header">\n      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".b-nav__menubar">\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <button class="navbar-toggle navbar-search" type="button" data-toggle="collapse" data-target=".b-nav__search">\n        <i class="fa fa-search"></i>\n      </button>\n      <a class="navbar-brand hidden-sm hidden-md" ng-if="!CurrentUser.userid" ui-sref="signin">\n        <img src="/assets/navbar-logo2.png" alt="{{CONST.be.app_name}}">\n      </a>\n      <a class="navbar-brand hidden-sm hidden-md" ng-if="CurrentUser.userid" ui-sref="drive({path: null})">\n        <img src="/assets/navbar-logo2.png" alt="{{CONST.be.app_name}}">\n      </a>\n      <div class="b-nav__navigation" ng-if="$root.AppLocale" ui-view="navbar-menu" cl-swipe-bar="{item: \'li\'}"></div>\n    </div>\n    <div class="visible-xs">\n      <div class="collapse navbar-collapse b-nav__search">\n        <hr class="hr-border-none hr-xs">\n        <cl-search-form></cl-search-form>\n      </div>\n    </div>\n    <div class="collapse navbar-collapse b-nav__menubar">\n      <div ng-if="$root.screenSize.xs">\n        <div ng-if="$root.AppLocale" ui-view="topbar-menu"></div>\n      </div>\n      <ul class="nav navbar-nav navbar-right cuser-menu-wrap">\n        <li ng-if="CurrentUser.userid">\n          <ul class="cuser-menu">\n            <li>\n              <div class="btn-group b-group-usermenu" dropdown>\n                <a href dropdown-toggle>\n                  <span class="cuser-name" ng-bind="CurrentUser.name"></span>\n                  <span class="caret"></span>\n                </a>\n                <ul class="dropdown-menu">\n                  <li><a ui-sref="profile"><span translate>Profile and settings</span></a></li>\n                  <li><a ui-sref="signout"><span translate>Sign out</span></a></li>\n                </ul>\n              </div>\n            </li>\n            <li ng-if="CONST.be.modern_sharing !== true">\n              <div class="btn-group" dropdown>\n                <a href dropdown-toggle ng-disabled="!$root.MyNotices.length">\n                  <span class="cuser-btn" ng-if="$root.MyNotices.length">\n                    <span class="b-new_events_count" ng-if="$root.MyNoticesNewEventsCount && $root.MyNoticesNewEventsCount !== 0" ng-bind="$root.MyNoticesNewEventsCount"></span>\n                    <span translate="COUNT_NEW Events" translate-values="{COUNT_NEW: $root.MyNoticesNewEventsCount}" translate-interpolation="messageformat"></span>\n                  </span>\n                  <span class="cuser-btn" ng-if="!$root.MyNotices.length" translate>No events</span>\n                  <span class="caret"></span>\n                </a>\n                <div class="dropdown-menu b-nav__navbar__eventlist" cl-notices-list="$root.MyNotices"></div>\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li ng-if="!CurrentUser.userid">\n          <ul class="cuser-menu">\n            <li ng-if="$root.CONST.be.disable_self_destruction !== true">\n              <a ui-sref="signup" translate>Sign up</a>\n            </li>\n            <li>\n              <a ui-sref="signin({back: $root.$state.current.stringifyBack})" translate>Sign in</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),b.module("layouts/navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/navbar.tpl.html",'<div class="header b-nav b-nav_without-menu">\n  <div class="navbar navbar-static-top">\n    <div class="text-center">\n      <a class="navbar-logo" href="">\n        <img src="/assets/navbar-logo1.png" alt="{{CONST.be.app_name}}">\n      </a>\n    </div>\n  </div>\n</div>\n')}]),b.module("layouts/sidebar-bottom.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/sidebar-bottom.tpl.html",'<div ng-if="CurrentUser.quota_size === null" class="text-muted pre-text" translate="Unlimited storage\\nCURRENT_STORAGE_SIZE used" translate-values="{CURRENT_STORAGE_SIZE: CurrentUser.storage_size}"></div>\n<div ng-if="CurrentUser.quota_size === 0" class="text-muted pre-text"><a ui-sref="plans()" translate>Please activate the package</a></div>\n<div ng-if="CurrentUser.quota_size > 1 && CurrentUser.storage_size > CurrentUser.quota_size" class="text-muted pre-text"><a ui-sref="plans()" translate>Storage quota exceeded, please upgrade the package</a></div>\n<div ng-if="CurrentUser.quota_size > 1" class="text-muted pre-text" translate="CURRENT_STORAGE_SIZE\\nof QUOTA_SIZE used" translate-values="{CURRENT_STORAGE_SIZE: CurrentUser.storage_size, QUOTA_SIZE: CurrentUser.quota_size, CURRENT_STORAGE_SIZE_PERCENTS: $root.floor(CurrentUser.storage_size * 100 / CurrentUser.quota_size)}"></div>\n<div class="dropup" dropdown>\n  <a href="" ng-click="$root.getAppLink()" dropdown-toggle translate>Download apps</a>\n  <ul class="dropdown-menu b-apps" ng-if="$root.AppLinks">\n    <li>\n      <div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.android" target="_blank" ng-disabled="!$root.AppLinks.android"><i class="fa fa-android b-apps__item-icon"></i><br/>Android</a></div>\n      <div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.iphone" target="_blank" ng-disabled="!$root.AppLinks.iphone"><i class="fa fa-apple b-apps__item-icon"></i><br/>iPhone</a></div>\n    </li>\n    <li ng-if="$root.AppLinks.windows || $root.AppLinks.mac">\n      <div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.windows" target="_blank" ng-disabled="!$root.AppLinks.windows"><i class="fa fa-windows b-apps__item-icon"></i><br/>Windows</a></div>\n      <div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.mac" target="_blank" ng-disabled="!$root.AppLinks.mac"><i class="fa b-apps__item-icon">X</i><br/>Mac</a></div>\n    </li>\n  </ul>\n</div>\n<div><a href="{{CONST.be.company_url}}" target="_blank" translate>About Company</a></div>\n')}]),b.module("layouts/sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/sidebar.tpl.html",'<div id="sidebar-top" class="g-sidebar-info-container full-height" ui-view="sidebar-top"></div>\n<div id="sidebar-info" class="b-sidebar-info hidden-xs hidden-sm" ui-view="sidebar-bottom" sidebar-bottom-positioning></div>\n')}]),b.module("oauth/oauth-verifier.tpl.html",[]).run(["$templateCache",function(a){a.put("oauth/oauth-verifier.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" ng-bind="CONST.be.app_name"></h3>\n    <div class="pad-t-10">\n      <button class="btn btn-lg btn-primary btn-block" ng-click="enter()" ng-disabled="isProcessing" translate>Sign in</button>\n    </div>\n  </div>\n</div>\n')}]),b.module("oauth/oauth.tpl.html",[]).run(["$templateCache",function(a){a.put("oauth/oauth.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Sign in</h3>\n    <div class="form-group" ng-if="!CONST.fe.singleLoginType">\n      <label translate>Sign in with</label>\n      <div class="btn-group btn-group-justified">\n        <div class="btn-group" ng-if="CONST.be.auth.email.signin">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formEmail\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formEmail\'}" translate>EMAIL</button>\n        </div>\n        <div class="btn-group" ng-if="CONST.be.auth.phone.signin">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formPhone\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formPhone\'}" translate>PHONE</button>\n        </div>\n      </div>\n    </div>\n    <div class="pad-t-10">\n      <form name="forms.formEmail" ng-if="$root.CurrentLoginType === \'formEmail\'" ng-submit="submit()" novalidate cl-server-validate="{401: \'WrongCredentials\', 403: \'UserDisabled\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.login.$dirty && forms.formEmail.login.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="login" class="form-control input-lg" ng-model="user.formEmail.login" ng-maxlength="40" ng-required="true" ng-validate-hint="{email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.password.$dirty && forms.formEmail.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formEmail.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="checkbox" ng-if="0">\n          <label><input type="checkbox" ng-model="user.formEmail.permanent_auth"> <span translate>Stay signed in</span></label>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formEmail.$error.UserDisabled">\n          <span class="help-block" translate>User disabled</span>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formEmail.$error.WrongCredentials">\n          <span class="help-block" translate>Wrong email or password</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="forms.formEmail.$invalid" translate>Sign in</button>\n      </form>\n      <form name="forms.formPhone" ng-if="$root.CurrentLoginType === \'formPhone\'" ng-submit="submit()" novalidate cl-server-validate="{401: \'WrongCredentials\', 403: \'UserDisabled\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.login.$dirty && forms.formPhone.login.$invalid}">\n          <label translate>Phone number</label>      \n          <input type="tel" name="login" class="form-control input-lg" placeholder="{{\'PHONEPLACEHOLDER\' | translate}}" ng-model="user.formPhone.login" ng-pattern="$root.CONST.fe.phonePattern" ng-required="true" ng-validate-hint="{pattern: \'Phone number should contains only digits and optional + sign at start\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.password.$dirty && forms.formPhone.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formPhone.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="checkbox" ng-if="0">\n          <label><input type="checkbox" ng-model="user.formPhone.permanent_auth"> <span translate>Stay signed in</span></label>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formPhone.$error.UserDisabled">\n          <span class="help-block" translate>User disabled</span>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formPhone.$error.WrongCredentials">\n          <span class="help-block" translate>Wrong phone or password</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="forms.formPhone.$invalid" translate>Sign in</button>\n      </form>\n    </div>\n    <hr>\n    <div class="row">\n      <div class="col-xs-6 text-left" ng-class="{\'col-xs-offset-3\': onlySignup}">\n        <a ui-sref="signup" ui-sref-opts="{reload: true}" translate>Need an account?</a>\n      </div>\n      <div class="col-xs-6 text-right" ng-if="!onlySignup">\n        <a ui-sref="resetPassword" translate>Forgot password?</a>\n      </div>\n    </div>\n    <hr>\n    <div class="row b-oauth-form__app-links">\n      <div class="col-xs-3 text-center">\n        <a class="" target="_blank" title="Android" once-href="$root.AppLinks.android" ng-disabled="!$root.AppLinks.android"><i class="fa fa-2x fa-android"></i></a>\n      </div>\n      <div class="col-xs-3 text-center">\n        <a target="_blank" title="iPhone" once-href="$root.AppLinks.iphone" ng-disabled="!$root.AppLinks.iphone"><i class="fa fa-2x fa-apple"></i></a>\n      </div>\n      <div class="col-xs-3 text-center">\n        <a target="_blank" title="Windows" once-href="$root.AppLinks.windows" ng-disabled="!$root.AppLinks.windows"><i class="fa fa-2x fa-windows"></i></a>\n      </div>\n      <div class="col-xs-3 text-center">\n        <a target="_blank" title="Mac OS" once-href="$root.AppLinks.mac" ng-disabled="!$root.AppLinks.mac"><i class="fa fa-2x text-bold">X</i></a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("page404/page404-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("page404/page404-navbar.tpl.html","")}]),b.module("page404/page404.tpl.html",[]).run(["$templateCache",function(a){a.put("page404/page404.tpl.html",'<div class="row">\n  <div class="col-md-12">\n    \n  </div>\n</div>\n')}]),b.module("profile/contactsandcalendar.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/contactsandcalendar.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Contacts</h2>\n          </div>\n        </div>\n        <div class="container-fluid">\n          <div class="row pad-t-10">\n            <div class="col-md-3 text-right">\n              <strong class="checkbox" translate>CardDAV access</strong>\n            </div>\n            <div class="col-md-9">\n              <div class="checkbox"><label><input type="checkbox" ng-model="carddav.isEnable" ng-change="toggleCarddav()" />&nbsp;{{\'Enabled\' | translate}}</label></div>\n              <div ng-if="ContactsAuth.hasOwnProperty(\'login\')">\n                <hr class="hr-xs border-none">\n                <div class="form-horizontal">\n                  <div class="form-group gray-label">\n                    <label class="col-md-3 control-label text-left" translate>URL</label>\n                    <div class="col-md-9">\n                      <p class="form-control-static" ng-bind="CONST.be.carddav"></p>\n                    </div>\n                  </div>\n                  <div class="form-group gray-label">\n                    <label class="col-md-3 control-label text-left" translate>Login</label>\n                    <div class="col-md-9">\n                      <form class="form-inline">\n                        <input type="text" class="form-control p-cursor-text" ng-model="ContactsAuth.login" readonly>\n                      </form>\n                      <form class="form-inline" name="ContactsAuthLoginForm" ng-submit="ContactsAuthLoginForm.$valid && saveContactsAuthForm(ContactsAuthLoginForm, \'login\')" autocomplete="off" novalidate ng-server-validate ng-if="0">\n                        <div class="input-group">\n                          <input type="text" class="form-control p-cursor-text" ng-model="ContactsAuth.login" ng-disabled="!formContactsAuth.login">\n                          <span class="input-group-btn">\n                            <button class="btn btn-default" type="button" ng-if="!formContactsAuth.login" ng-click="toggleEditMode(\'login\')"><i class="fa fa-pencil"></i></button>\n                            <button class="btn btn-default" type="submit" ng-if="formContactsAuth.login"><i class="fa fa-floppy-o"></i></button>\n                          </span>\n                        </div>\n                      </form>\n                    </div>\n                  </div>\n                  <div class="form-group gray-label">\n                    <label class="col-md-3 control-label text-left" translate>Password</label>\n                    <div class="col-md-9">\n                      <form class="form-inline" name="ContactsAuthPasswordForm" ng-submit="ContactsAuthPasswordForm.$valid && saveContactsAuthForm(ContactsAuthPasswordForm, \'password\')" autocomplete="off" novalidate ng-server-validate>\n                        <div class="input-group">\n                          <input type="text" class="form-control p-cursor-text" ng-model="ContactsAuth.password" ng-disabled="!formContactsAuth.password">\n                          <span class="input-group-btn">\n                            <button class="btn btn-default" type="button" ng-if="!formContactsAuth.password" ng-click="toggleEditMode(\'password\')"><i class="fa fa-pencil"></i></button>\n                            <button class="btn btn-default" type="submit" ng-if="formContactsAuth.password"><i class="fa fa-floppy-o"></i></button>\n                          </span>\n                        </div>\n                      </form>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="row pad-t-10" ng-if="carddav.isEnable">\n            <div class="col-md-3 text-right">\n              <p class="form-control-static">\n                <strong translate>Contacts synchronization</strong>\n              </p>\n            </div>\n            <div class="col-md-9">\n              <p ng-if="!LastSync.timestamp" class="form-control-static" translate>No completed synchronization yet</p>\n              <div class="form-horizontal" ng-if="LastSync.timestamp">\n                <div class="form-group gray-label">\n                  <label class="col-md-3 control-label text-left" translate>Contacts count:</label>\n                  <div class="col-md-9">\n                    <p class="form-control-static" ng-bind="ContactsCount.count"></p>\n                  </div>\n                </div>\n                <div class="form-group gray-label">\n                  <label class="col-md-3 control-label text-left" translate>Last sync:</label>\n                  <div class="col-md-9">\n                    <p class="form-control-static" ng-bind="LastSync.timestamp * 1000 | date:\'short\'"></p>\n                    <p class="form-control-static" ng-bind="LastSync.device"></p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/details.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/details.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Details</h2>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="!myOrders.length && !myPromocodes.length && !stats.length">\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>My statistic</strong></label>\n            </div>\n            <div class="col-md-10">\n              <label class="control-label" translate>No data</label>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="LastSync.timestamp">\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>My contacts</strong></label>\n            </div>\n            <div class="col-md-10">\n              <p class="form-control-static" translate>No completed synchronization yet</p>\n              <div class="form-horizontal">\n                <div class="form-group gray-label">\n                  <label class="col-md-3 control-label text-left" translate>Contacts count:</label>\n                  <div class="col-md-9">\n                    <p class="form-control-static" ng-bind="ContactsCount.count"></p>\n                  </div>\n                </div>\n                <div class="form-group gray-label">\n                  <label class="col-md-3 control-label text-left" translate>Last sync:</label>\n                  <div class="col-md-9">\n                    <p class="form-control-static" ng-bind="LastSync.timestamp * 1000 | date:\'short\'"></p>\n                    <p class="form-control-static" ng-bind="LastSync.device"></p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="myOrders.length">\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>My orders</strong></label>\n            </div>\n            <div class="col-md-10">\n              <table class="table b-table__tokens">\n                <colgroup>\n                  <col>\n                  <col width="35%" class="hidden-xs">\n                  <col width="10%">\n                </colgroup>\n                <thead>\n                  <tr>\n                    <th translate>Description</th>\n                    <th class="hidden-xs" translate>Created</th>\n                    <th>&nbsp;</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="order in myOrders">\n                    <td>\n                      <span once-text="order.name"></span>\n                    </td>\n                    <td class="hidden-xs">\n                      <span class="nowrap" once-text="order.created | date"></span>\n                    </td>\n                    <td class="text-right">\n                      <span class="label label-success nowrap" ng-if="order.status === \'running\'" translate>Running</span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="myPromocodes.length">\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>My promocodes</strong></label>\n            </div>\n            <div class="col-md-10">\n              <table class="table b-table__tokens">\n                <colgroup>\n                  <col>\n                  <col width="45%" class="hidden-xs">\n                </colgroup>\n                <thead>\n                  <tr>\n                    <th translate>Description</th>\n                    <th class="hidden-xs" translate>Activated</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="promocode in myPromocodes">\n                    <td>\n                      <span once-text="promocode.name"></span>\n                    </td>\n                    <td class="hidden-xs">\n                      <span class="nowrap" once-text="promocode.activated | date"></span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="stats.length">\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>My statistic</strong></label>\n            </div>\n            <div class="col-md-10">\n              <table class="table b-table__tokens">\n                <colgroup>\n                  <col>\n                  <col width="35%" class="hidden-xs">\n                  <col width="10%">\n                </colgroup>\n                <thead>\n                  <tr>\n                    <th>&nbsp;</th>\n                    <th class="hidden-xs" translate>Size</th>\n                    <th class="text-right" translate>Count</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="stat in stats">\n                    <td class="text-capitalize">\n                      <span once-text="stat.name | translate"></span>\n                    </td>\n                    <td class="hidden-xs">\n                      <span class="nowrap" once-text="stat.size | bytes"></span>\n                    </td>\n                    <td class="text-right">\n                      <span class="nowrap" once-text="stat.count"></span>\n                    </td>\n                  </tr>\n                  <tr ng-if="allStat">\n                    <td class="text-capitalize">\n                      <span once-text="allStat.name | translate"></span>\n                    </td>\n                    <td class="hidden-xs">\n                      <span class="nowrap" once-text="allStat.size | bytes"></span>\n                    </td>\n                    <td class="text-right">\n                      <span class="nowrap" once-text="allStat.count"></span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/log.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/log.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table" cl-on-scroll-end="onScrollEnd">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Activity log</h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="input-group">\n              <select class="form-control" ng-model="filter.currentEvent" ng-change="selectType($event)">\n                <option value="" translate>Any event</option>\n                <option ng-repeat="item in CONST.fe.events" value="{{item.value}}" once-text="item.label | translate"></option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div ng-if="!events.length">\n          <div ng-if="!filter" class="alert alert-info text-center" translate>There are no events</div>\n          <div ng-if="filter" class="alert alert-info text-center" translate>There are no events under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper" ng-if="events.length">\n          <table class="table table-condensed table-hover table-simple-header b-layout-fixed b-content-list">\n            <colgroup>\n              <col width="*">\n              <col class="hidden-xs" width="*">\n              <col class="hidden-xs" width="10%">\n              <col class="hidden-xs" width="15%">\n              <col width="150px">\n              <col class="b-table-rpad">\n            </colgroup>\n            <thead>\n              <tr>\n                <th class="pad-l-40" translate>Event</th>\n                <th class="hidden-xs" translate>Object</th>\n                <th class="hidden-xs" translate>Device</th>\n                <th class="text-right hidden-xs" translate>Item size</th>\n                <th class="text-right" translate>Date</th>\n                <th class="b-table-rpad"></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="item in events">\n                <td class="b-content-list__cell pad-l-40">\n                  <div cl-item-log class="b-activity" item-info="item"></div>\n                </td>\n                <td class="b-content-list__cell hidden-xs">\n                  <a class="b-content-list__filename text-ellipsis" ng-if="!item.logType.disabledLink && item.logType.itemType !== \'file\'" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n                  <a class="b-content-list__filename text-ellipsis" ng-if="!item.logType.disabledLink && item.logType.itemType === \'file\'" ui-sref="drive.preview({path: $root.parsePath(item.path).path, file: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n                  <a class="b-content-list__filename text-ellipsis" ng-if="item.logType.disabledLink" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'" href="" disabled></a>\n                </td>\n                <td class="b-content-list__cell hidden-xs">\n                  <span class="nowrap" ng-if="item.device" once-text="item.device | translate"></span>\n                </td>\n                <td class="b-content-list__cell text-right hidden-xs">\n                  <span class="nowrap" ng-if="item.content.size" once-text="item.content.size | bytes"></span>\n                </td>\n                <td class="b-content-list__cell text-right text-muted">\n                  <span class="nowrap" once-text="item.timestamp | datetime"></span>\n                </td>\n                <td class="b-table-rpad"></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n')}]),b.module("profile/profile-menu.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile-menu.tpl.html",'<ul class="nav navbar-nav">\n  <li>\n    <a class="text-center ng-scope" ui-sref="drive({path: \'\'})" attr="\'Back to files\' | translate">\n      <i class="icon icon-back-arrow icon-3"></i>\n      <span translate>Back to files</span>\n    </a>\n  </li>\n  <li class="divider-vertical"></li>\n  <cl-menu cl-menu-entry="{{navbarMenu}}" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("profile/profile-sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile-sidebar.tpl.html",'<div class="metadata-tree b-menu" cl-perfect-scrollbar>\n  <ul class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="profile" class="b-menu__item-link"><span><span translate>Account</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item" ng-if="$root.CONST.be.billingapi">\n      <a ui-sref="details" class="b-menu__item-link"><span><span translate>Details</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="security" class="b-menu__item-link"><span><span translate>Security</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item" ng-if="$root.CONST.be.disable_contacts !== true && CONST.be.contacts_readonly !== true">\n      <a ui-sref="contactsandcalendar" class="b-menu__item-link"><span><span translate>Contacts</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="log" class="b-menu__item-link"><span><span translate>Activity log</span></span></a>\n    </li>\n  </ul>\n</div>\n')}]),b.module("profile/profile.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Account</h2>\n          </div>\n        </div>\n        <div class="b-content__subheader" ng-if="!$root.CurrentUser.is_approved">\n          <div class="alert alert-info">\n            <p>\n              <span translate>Please complete the registration account</span>\n            </p>\n            <p ng-if="userLoginType === \'email\'">\n              <span translate>Please, check your email and click on the link in the email to confirm your account.</span>&nbsp;<button class="btn btn-inline-link text-bold" type="button" ng-click="resendVerification()" translate>resend verification</button>\n            </p>\n            <p ng-if="userLoginType === \'phone\'">\n              <span translate>Please, check your phone and enter code from sms.</span>&nbsp;<button class="btn btn-inline-link text-bold" type="button" ng-click="resendVerification()" translate>resend verification</button>\n            </p>\n            <hr class="border-none hr-sm" ng-if="userLoginType === \'phone\'">\n            <form name="forms.formPhoneCode" class="form-inline" ng-if="userLoginType === \'phone\'" ng-submit="submitPhoneCode()" novalidate autocomplete="off" cl-server-validate="{400: \'BadHash\'}">\n              <div class="form-group" ng-class="{\'has-error\': forms.formPhoneCode.$dirty && forms.formPhoneCode.code.$invalid}">\n                <label>Code</label>\n                <input type="text" class="form-control" name="code" ng-model="formPhoneCode.code" ng-required="true">\n              </div>\n              <button type="submit" class="btn btn-default" translate>Send</button>\n              <div class="form-group form-group-new-line has-error" ng-if="forms.formPhoneCode.$error.BadHash">\n                <span class="help-block" translate>Your code is invalid or expired</span>\n              </div>\n            </form>\n          </div>\n        </div>\n        <form class="form-horizontal" name="AccountForm" ng-submit="save(AccountForm)" autocomplete="off" cl-server-validate="{}">\n          <div class="form-group" ng-if="CONST.be.disable_edit_profile != true" ng-class="{\'has-error\': AccountForm.$dirty && AccountForm.password.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Change password</strong></label>\n            <div class="col-md-4">\n              <input type="password" name="password" class="form-control" ng-model="user.password" placeholder="{{\'new password\' | translate}}"  ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: /*i18nextract*/\'field must be more than 6 characters\', maxlength: /*i18nextract*/\'field should be less than 32 characters\', pattern: /*i18nextract*/\'Invalid space character\'}" ng-pattern="$root.CONST.fe.passwordAllowedCharactersPattern" popover popover-trigger="value.invalid" popover-placement="bottom">\n            </div>\n          </div>\n          <div class="form-group" ng-class="{\'has-error\': AccountForm.$dirty && AccountForm.name.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Display name</strong></label>\n            <div class="col-md-4">\n              <input type="text" name="name" class="form-control" ng-model="user.name" ng-readonly="CONST.be.disable_edit_profile" ng-required="true" ng-maxlength="40" ng-validate-hint="{required: /*i18nextract*/\'field should be filled-in\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Interface language</strong></label>\n            <div class="col-md-4">\n              <select class="form-control" ng-model="user.lang" ng-required="true">\n                <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="CurrentUser.lang == item.value" once-text="item.label"></option>\n              </select>\n            </div>\n          </div>\n          \x3c!-- <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Time zone</strong></label>\n            <div class="col-md-4">\n              <select class="form-control" ng-model="user.timezone" ng-required="true">\n                <option></option>\n                <option ng-repeat="item in CONST.fe.timezones" value="{{item.value}}" ng-selected="CurrentUser.timezone == item.value" once-text="item.label | translate"></option>\n              </select>\n            </div>\n          </div> --\x3e\n          <hr>\n          <div class="form-group">\n            <div class="col-md-offset-2 col-md-4">\n              <button type="submit" class="btn btn-primary btn-full" ng-disabled=\'AccountForm.$invalid\' translate>Save</button>\n            </div>\n            <div class="col-md-offset-4 col-md-2 pad-r-30" ng-if="CONST.be.disable_self_destruction != true">\n              <button type="button" class="btn btn-link pull-right" ng-click="removeAccount()" translate>Remove account</button>\n            </div>\n          </div>\n        </form>\n        <div class="form-horizontal" ng-if="fbApiStatus !== false">\n          <hr>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Social accounts</strong></label>\n            <div class="col-md-10">\n              <button class="btn btn-facebook" type="button" ng-if="fbApiStatus !== \'connected\'" ng-click="showFacebookOauth()"><i class="fa fa-facebook"></i><span translate>Facebook</span></button>\n              <span class="btn btn-facebook" ng-if="fbApiStatus === \'connected\'"><i class="fa fa-facebook"></i><span translate>Connected</span></span>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="CONST.be.promocode.profile">\n          <hr>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Promo code</strong></label>\n            <div class="col-md-10" ng-if="!promoInfo && !formPromoCode.visible">\n              <button class="btn btn-link" type="button" ng-click="showPromoCodeForm()" translate>Enter promo code</button>\n            </div>\n            <div class="col-md-10" ng-if="!promoInfo && formPromoCode.visible">\n              <form class="form-inline" name="PromoCodeForm" ng-submit="PromoCodeForm.$valid && sendPromoCode(PromoCodeForm)" novalidate ng-server-validate>\n                <div class="form-group" ng-class="{\'has-error\': PromoCodeForm.$dirty && PromoCodeForm.promo_code.$invalid}">\n                  <input type="text" name="promo_code" class="form-control" ng-model="formPromoCode.promo_code" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-validate-hint="{required: /*i18nextract*/\'field should be filled-in\', trimming: /*i18nextract*/\'field must not start or end with a space\', minlength: /*i18nextract*/\'field must be more than 1 characters\'}" popover popover-trigger="value.invalid" popover-placement="top">\n                </div>\n                <button class="btn btn-primary" type="submit" ng-disabled="PromoCodeForm.$invalid" translate>OK</button>\n                <button class="btn btn-default" ng-click="hidePromoCodeForm()" translate>Cancel</button>\n              </form>\n            </div>\n            <div class="col-md-10" ng-if="promoInfo">\n              <p class="form-control-static text-success"><span translate>Congratulations! You\'ve activated promo code</span> <span ng-bind="promoInfo.name"></span></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/security.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/security.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Security</h2>\n          </div>\n        </div>\n        <form class="form-horizontal">\n          <div class="row pad-b-10">\n            <div class="col-md-2 text-left">\n              <strong translate>Login aliases</strong>\n            </div>\n            <div class="col-md-5 text-muted">\n              <span translate>Allow login with following emails and phone numbers:</span>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-offset-2 col-md-5">\n              <div ng-if="CurrentUser.logins.length">\n                <div class="row pad-b-10" ng-repeat="login in CurrentUser.logins">\n                  <div class="col-md-12">\n                    <div class="input-group">\n                      <span class="input-group-addon">{{login.split(\':\')[0]}}:</span>\n                      <input class="form-control p-cursor-text" type="text" value="{{login.split(\':\')[1]}}" readonly>\n                      <span class="input-group-btn" ng-if="$first === false">\n                        <button class="btn btn-default" type="button" ng-click="removeLogin(login)"><i class="fa fa-times"></i></button>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class="row pad-b-10" ng-if="$root.CONST.be.append_contacts">\n                  <div class="col-md-12">\n                    <ng-form class="form-block" name="formNewLogin" ng-if="!login.needApprove" novalidate autocomplete="off" ng-server-validate>\n                      <div class="input-group">\n                        <input class="form-control" name="login" type="text" ng-model="login.value" placeholder="{{\'add email or phonenumber\' | translate}}" ng-minlength="6" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming, phoneoremail: $root.fieldIsPhoneOrEmail}" ng-validate-hint="{trimming: /*i18nextract*/\'field must not start or end with a space\', minlength: /*i18nextract*/\'field must be more than 6 characters\', maxlength: /*i18nextract*/\'field should be less than 40 characters\', phoneoremail: /*i18nextract*/\'field must be email or phone\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n                        <span class="input-group-btn">\n                          <button class="btn btn-primary" type="submit" ng-click="appendLogin(formNewLogin)" ng-disabled="formNewLogin.login.$invalid"><i class="fa fa-plus"></i></button>\n                        </span>\n                      </div>\n                      <div class="help-block text-error" ng-if="login.errors.email" translate>Invalid email</div>\n                      <div class="help-block text-error" ng-if="login.errors.UserAlreadyExists" translate>Email already exists</div>\n                    </ng-form>\n                    <ng-form class="form-block" name="formApproveNewLogin" ng-if="login.needApprove" novalidate autocomplete="off" ng-server-validate>\n                      <div class="input-group">\n                        <input class="form-control" name="code" type="text" ng-model="login.code" placeholder="{{\'enter the code\' | translate}}" ng-required="true">\n                        <span class="input-group-btn">\n                          <button class="btn btn-primary" type="submit" ng-disabled="formApproveNewLogin.code.$invalid" ng-click="approveLogin(formApproveNewLogin)"><i class="fa fa-check"></i></button>\n                          <button class="btn btn-default" type="button" ng-click="denyLogin()"><i class="fa fa-times"></i></button>\n                        </span>\n                      </div>\n                    </ng-form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n        <div class="form-horizontal" ng-if="CONST.be.webdav">\n          <hr>\n          <div class="row pad-b-10">\n            <div class="col-md-2 text-left">\n              <label class="control-label text-left"><strong translate>WebDAV access</strong></label>\n            </div>\n            <div class="col-md-5">\n              <div class="checkbox"><label><input type="checkbox" ng-model="webdav.isEnable" ng-change="toggleWebdav()" />&nbsp;{{\'Enabled\' | translate}}</label></div>\n            </div>\n          </div>\n          <div class="row pad-b-10" ng-if="BasicAuth.hasOwnProperty(\'login\')">\n            <div class="col-md-offset-2 col-md-5">\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>URL</label>\n                <div class="col-md-9">\n                  <p class="form-control-static" ng-bind="CONST.be.webdav"></p>\n                </div>\n              </div>\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>Login</label>\n                <div class="col-md-9">\n                  <form name="BasicAuthLoginForm" ng-submit="BasicAuthLoginForm.$valid && saveBasicAuthForm(BasicAuthLoginForm, \'login\')" autocomplete="off" novalidate ng-server-validate>\n                    <div class="input-group">\n                      <input type="text" class="form-control p-cursor-text" ng-model="BasicAuth.login" ng-disabled="!formBasicAuth.login">\n                      <span class="input-group-btn">\n                        <button class="btn btn-default" type="button" ng-if="!formBasicAuth.login" ng-click="toggleEditMode(\'login\')"><i class="fa fa-pencil"></i></button>\n                        <button class="btn btn-default" type="submit" ng-if="formBasicAuth.login"><i class="fa fa-floppy-o"></i></button>\n                      </span>\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>Password</label>\n                <div class="col-md-9">\n                  <form name="BasicAuthPasswordForm" ng-submit="BasicAuthPasswordForm.$valid && saveBasicAuthForm(BasicAuthPasswordForm, \'password\')" autocomplete="off" novalidate ng-server-validate>\n                    <div class="input-group">\n                      <input type="text" class="form-control p-cursor-text" ng-model="BasicAuth.password" ng-disabled="!formBasicAuth.password" cl-strong-password-validator="score">\n                      <span class="input-group-btn">\n                        <button class="btn btn-default" type="button" ng-if="!formBasicAuth.password" ng-click="toggleEditMode(\'password\')"><i class="fa fa-pencil"></i></button>\n                        <button class="btn btn-default" type="submit" ng-if="formBasicAuth.password"><i class="fa fa-floppy-o"></i></button>\n                      </span>\n                    </div>\n                    <div class="password-strength" ng-class="\'password-strength-\' + score">\n                      <span></span><span></span><span></span><span></span>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="tokens.length">\n          <hr>\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>Tokens</strong></label>\n            </div>\n            <div class="col-md-10">\n              <table class="table b-table__tokens">\n                <colgroup>\n                  <col>\n                  <col class="hidden-xs" width="49%">\n                  <col width="1%">\n                </colgroup>\n                <thead>\n                  <th translate>Device Info</th>\n                  <th class="hidden-xs" translate>Created</th>\n                  <th>&nbsp;</th>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="token in tokens | orderBy:\'-created\'">\n                    <td><span once-text="token.device_description"></span></td>\n                    <td class="hidden-xs"><span class="nowrap" once-text="token.created | date"></span></td>\n                    <td>\n                      <button class="btn btn-inline-link" type="button" ng-click="removeToken(token.id, token.device_description)" translate>Remove token</button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("resetPassword/resetPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("resetPassword/resetPassword.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Reset password</h3>\n    <div class="form-group" ng-if="!CONST.fe.singleLoginType && !formComplete">\n      <label translate>You signed up with</label>\n      <div class="btn-group btn-group-justified">\n        <div class="btn-group" ng-if="CONST.be.auth.email.reset">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formEmail\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formEmail\'}" translate>EMAIL</button>\n        </div>\n        <div class="btn-group" ng-if="CONST.be.auth.phone.reset">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formPhone\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formPhone\'}" translate>PHONE</button>\n        </div>\n      </div>\n    </div>\n    <div class="pad-t-10" ng-if="$root.CurrentLoginType === \'formEmail\'">\n      <form name="forms.formEmail" novalidate ng-if="!formComplete" ng-submit="submit(forms.formEmail)" cl-server-validate="{400: \'BadLogin\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.$dirty && forms.formEmail.login.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="login" class="form-control input-lg" ng-model="user.formEmail.login" ng-maxlength="40" ng-required="true">\n        </div>\n        <div ng-if="forms.formEmail.$error.BadLogin" class="form-group has-error">\n          <span class="help-block ng-scope" translate>Wrong email</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" translate>Reset password</button>\n      </form>\n      <div ng-show="formComplete">\n        <p class="lead text-center"><span translate>Reset instructions was sent to</span> <span ng-bind="user.formEmail.login"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerificationEmail()" translate>try again</button>.</p>\n      </div>\n    </div>\n    <div class="pad-t-10" ng-if="$root.CurrentLoginType === \'formPhone\'">\n      <form name="forms.formPhone" novalidate ng-if="!formComplete" ng-submit="submit(forms.formPhone)" cl-server-validate="{400: \'BadLogin\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.$dirty && forms.formPhone.login.$invalid}">\n          <label translate>Phone number</label>\n          <input type="tel" name="login" class="form-control input-lg" placeholder="{{\'PHONEPLACEHOLDER\' | translate}}" ng-model="user.formPhone.login" ng-required="true">\n        </div>\n        <div ng-if="forms.formPhone.$error.BadLogin" class="form-group has-error">\n          <span class="help-block ng-scope" translate>Wrong phone</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" translate>Reset password</button>\n      </form>\n      <form name="forms.formPhoneCode" novalidate ng-if="formComplete" ng-submit="submitPhoneCode(forms.formPhoneCode)" cl-server-validate="{401: \'BadCode\'}">\n        <p class="lead text-center" translate>Please, check your phone.</p>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhoneCode.$dirty && forms.formPhoneCode.code.$invalid}">\n          <label translate>Code</label>\n          <input type="text" name="code" class="form-control input-lg" ng-model="user.formPhoneCode.code" ng-maxlength="8" ng-required="true">\n        </div>\n        <div class="form-group text-center">\n          <button class="btn btn-link" type="button" ng-click="resendVerificationCode()" translate>Resend verification</button>\n        </div>\n        <div ng-if="forms.formPhoneCode.$error.BadCode" class="form-group has-error">\n          <span class="help-block ng-scope" translate>Wrong code</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" translate>Send</button>\n      </form>\n    </div>\n    <hr>\n    <div class="row">\n      <div class="col-xs-12 text-center">\n        <a ui-sref="signin" translate>Already signed up?</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("signup/offer.tpl.html",[]).run(["$templateCache",function(a){a.put("signup/offer.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>User Agreement</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <div once-html="terms"></div>\n        \x3c!--<iframe ng-src="{{CONST.be.api + \'accounts/get_offer/\' | trustsrc}}" width="100%" height="500px" frameborder="0" sandbox="allow-top-navigation"></iframe>--\x3e\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="$close()" translate>Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("signup/signup.tpl.html",[]).run(["$templateCache",function(a){a.put("signup/signup.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Sign up</h3>\n    <div class="form-group" ng-if="!CONST.fe.singleLoginType && !formComplete">\n      <label translate>Sign up with</label>\n      <div class="btn-group btn-group-justified">\n        <div class="btn-group" ng-if="CONST.be.auth.email.signup">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formEmail\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formEmail\'}" translate>EMAIL</button>\n        </div>\n        <div class="btn-group" ng-if="CONST.be.auth.phone.signup">\n          <button type="button" class="btn btn-lg btn-default" ng-click="$root.setLoginType(\'formPhone\')" ng-class="{\'btn-primary\': $root.CurrentLoginType == \'formPhone\'}" translate>PHONE</button>\n        </div>\n      </div>\n    </div>\n    <div class="pad-t-10" ng-if="$root.CurrentLoginType === \'formEmail\'">\n      <form name="forms.formEmail" ng-if="!formComplete" ng-submit="submit()" novalidate cl-server-validate="{403: \'UserAlreadyExists\',400:\'IncorrectEmail\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.name.$dirty && forms.formEmail.name.$invalid}">\n          <label translate>Your display name</label>\n          <input type="text" name="name" class="form-control input-lg" ng-model="user.formEmail.name" ng-minlength="1" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.login.$dirty && forms.formEmail.login.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="login" class="form-control input-lg" ng-model="user.formEmail.login" ng-maxlength="40" ng-required="true" ng-validate-hint="{email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.password.$dirty && forms.formEmail.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formEmail.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\', pattern: \'Invalid space character\'}" ng-pattern="$root.CONST.fe.passwordAllowedCharactersPattern" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formEmail.promo_code.$dirty && forms.formEmail.promo_code.$invalid}" ng-if="CONST.be.promocode.signup">\n          <label translate>Have a promo code? Type it here</label>\n          <input type="text" name="promo_code" class="form-control" ng-model="user.formEmail.promo_code" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="checkbox" ng-class="{\'has-error\': forms.formEmail.user_agreement.$dirty && forms.formEmail.user_agreement.$invalid}">\n          <label><input type="checkbox" name="user_agreement" ng-model="user.formEmail.user_agreement" ng-required="true"> <span translate>I accept</span> <a href="" ng-click="showOffer()" translate>User Agreement</a></label>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formEmail.$error.UserAlreadyExists">\n          <span class="help-block" translate>User with such email already exists</span>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formEmail.$error.IncorrectEmail">\n          <span class="help-block" translate>Enter a valid email address</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="forms.formEmail.$invalid" translate>Sign up</button>\n      </form>\n      <div ng-if="formComplete">\n        <p class="lead text-center"><span translate>Please, check your email</span> <span ng-bind="user.formEmail.email"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerification()" translate>try again</button>.</p>\n      </div>\n    </div>\n    <div class="pad-t-10" ng-if="$root.CurrentLoginType === \'formPhone\'">\n      <form name="forms.formPhone" ng-if="!formComplete" ng-submit="submit()" novalidate autocomplete="off" cl-server-validate="{403: \'UserAlreadyExists\'}">\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.name.$dirty && forms.formPhone.name.$invalid}">\n          <label translate>Your display name</label>\n          <input type="text" name="name" class="form-control input-lg" ng-model="user.formPhone.name" ng-minlength="1" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.login.$dirty && forms.formPhone.login.$invalid}">\n          <label translate>Phone number</label>\n          <input type="tel" name="login" class="form-control input-lg" placeholder="{{\'PHONEPLACEHOLDER\' | translate}}" ng-model="user.formPhone.login" ng-pattern="$root.CONST.fe.phonePattern" ng-required="true" ng-validate-hint="{pattern: \'Phone number should contains only digits and optional + sign at start\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.password.$dirty && forms.formPhone.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formPhone.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\', pattern: \'Invalid space character\'}" ng-pattern="$root.CONST.fe.passwordAllowedCharactersPattern" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhone.promo_code.$dirty && forms.formPhone.promo_code.$invalid}" ng-if="CONST.be.promocode.signup">\n          <label translate>Have a promo code? Type it here</label>\n          <input type="text" name="promo_code" class="form-control" ng-model="user.formPhone.promo_code" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n        </div>\n        <div class="checkbox" ng-class="{\'has-error\': forms.formPhone.user_agreement.$dirty && forms.formPhone.user_agreement.$invalid}">\n          <label><input type="checkbox" name="user_agreement" ng-model="user.formPhone.user_agreement" ng-required="true" ng-validate-hint="{required: \'You should accept User Agreement\'}" popover popover-trigger="value.invalid" popover-placement="bottom"> <span translate>I accept</span> <a href="" ng-click="showOffer()" translate>User Agreement</a></label>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formPhone.$error.UserAlreadyExists">\n          <span class="help-block" translate>User with such phone already exists</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="forms.formPhone.$invalid" translate>Sign up</button>\n      </form>\n      <form name="forms.formPhoneCode" ng-if="formComplete" ng-submit="submitPhoneCode()" novalidate autocomplete="off" cl-server-validate="{400: \'BadHash\'}">\n        <p class="lead text-center"><span translate>Please, check your phone</span> <span ng-bind="user.formPhone.login"></span></p>\n        <div class="form-group" ng-class="{\'has-error\': forms.formPhoneCode.$dirty && forms.formPhoneCode.code.$invalid}">\n          <label translate>Code</label>\n          <input type="text" name="code" class="form-control input-lg" ng-model="user.formPhoneCode.code" ng-required="true">\n        </div>\n        <div class="form-group text-center">\n          <button class="btn btn-link" type="button" ng-click="resendVerification()" translate>Resend verification</button>\n        </div>\n        <div class="form-group has-error" ng-if="forms.formPhoneCode.$error.BadHash">\n          <span class="help-block" translate>Your code is invalid or expired</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" translate>Send</button>\n      </form>\n    </div>\n    <hr>\n    <div class="row">\n      <div class="col-xs-12 text-center">\n        <a ui-sref="signin" translate>Already signed up?</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("unavailable/unavailable-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("unavailable/unavailable-navbar.tpl.html","")}]),b.module("unavailable/unavailable.tpl.html",[]).run(["$templateCache",function(a){a.put("unavailable/unavailable.tpl.html",'<div class="row">\n  <div class="col-md-6 col-md-offset-3" style="text-align: center;">\n    <i class="icon icon-block icon-large"></i>\n    <p translate>There is a problem with connection to our servers, please try again later</p>\n    <button class="btn btn-large btn-primary" ng-click="tryAgain()" translate>Try again</button>\n  </div>\n</div>\n')}]),b.module("templates-app",["changePassword/changePassword.tpl.html","common/navbar-link.tpl.html","common/navbar-with-menu.tpl.html","common/navbar.tpl.html","common/notices-modal.tpl.html","common/sidebar-bottom.tpl.html","common/sidebar.tpl.html","companyFolders/companyFolders.tpl.html","companyFolders/nameColumn.tpl.html","companyFolders/requestAccessDialog.tpl.html","companyFolders/toolbar.tpl.html","drive/company/dialog/migrate.tpl.html","drive/company/dialog/tutorial.tpl.html","drive/drive-dialogCreateFolder.tpl.html","drive/drive-navbar.tpl.html","drive/drive-sidebar.tpl.html","drive/drive-toolbar.tpl.html","drive/drive.tpl.html","drivePublic/drivePublic-ceil-name.tpl.html","drivePublic/drivePublic-navbar.tpl.html","drivePublic/drivePublic-password.tpl.html","drivePublic/drivePublic.tpl.html","driveSearch/driveSearch-ceil-name.tpl.html","driveSearch/driveSearch-ceil-path.tpl.html","driveSearch/driveSearch-navbar.tpl.html","driveShared/driveShared-ceil-name.tpl.html","driveShared/driveShared-navbar.tpl.html","driveShares/driveShares-ceil-name.tpl.html","driveShares/driveShares-navbar.tpl.html","driveTrash/driveTrash-ceil-name.tpl.tpl.html","driveTrash/driveTrash-navbar.tpl.html","layouts/col-1.tpl.html","layouts/col-2.tpl.html","oauth/oauth.tpl.html","page404/page404-navbar.tpl.html","page404/page404.tpl.html","profile/company/dialog/addUserToCompany.tpl.html","profile/company/dialog/alertCardInfoDelete.tpl.html","profile/company/dialog/alertUserBlock.tpl.html","profile/company/dialog/alertUserDelete.tpl.html","profile/company/dialog/alertUserRemoteWipe.tpl.html","profile/company/dialog/alertUserRemoteWipeConfirm.tpl.html","profile/company/dialog/bulkPermission.tpl.html","profile/company/dialog/cardEdit.tpl.html","profile/company/dialog/changeCompanyAdmin.tpl.html","profile/company/dialog/changeUserPassword.tpl.html","profile/company/dialog/groupAddUsers.tpl.html","profile/company/dialog/groupDelete.tpl.html","profile/company/dialog/groupNew.tpl.html","profile/company/dialog/groupRemoveUsers.tpl.html","profile/company/dialog/groupRename.tpl.html","profile/company/dialog/inviteUserToCompany.tpl.html","profile/company/dialog/paymentTerms.tpl.html","profile/company/dialog/updateUserQuotas.tpl.html","profile/company/folderSizeCalculate.tpl.html","profile/company/folders.tpl.html","profile/company/groups.tpl.html","profile/company/log.tpl.html","profile/company/product.tpl.html","profile/company/settings.tpl.html","profile/company/shares.tpl.html","profile/company/users.tpl.html","profile/log.tpl.html","profile/profile-menu.tpl.html","profile/profile-sidebar.tpl.html","profile/profile.tpl.html","profile/security.tpl.html","resetPassword/newPassword.tpl.html","resetPassword/resetPassword.tpl.html","signup/business/signup.tpl.html","signup/offer.tpl.html","signup/signup.tpl.html","terms/terms.tpl.html","transfers/transfers-navbar.tpl.html","transfers/transfers.tpl.html","unavailable/unavailable-navbar.tpl.html","unavailable/unavailable.tpl.html"]),b.module("changePassword/changePassword.tpl.html",[]).run(["$templateCache",function(a){a.put("changePassword/changePassword.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n\n  <h4 translate>Set new password</h4>\n  <p translate>Company administrator set lifetime property of user passwords for safety reasons. Setting of new password is very recommended.</p>\n</div>\n\n<form name="changePasswordForm" ng-submit="sendRequest()" novalidate autocomplete="off">\n  <div class="modal-body">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group" ng-class="{\'has-error\': changePasswordForm.$dirty && changePasswordForm.new_password.$invalid}">\n            <input type="password" name="new_password" class="form-control" ng-model="password.new" placeholder="{{\'new password\' | translate}}" ng-required="true" ng-change="validatePasswords()" ng-validate-hint="{minlength: \'\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div ng-class="{\'has-error\': changePasswordForm.$dirty && changePasswordForm.repeat_new_password.$invalid}">\n            <input type="password" name="repeat_new_password" class="form-control" ng-model="password.repeat" placeholder="{{\'repeat password\' | translate}}" ng-required="true" ng-change="validatePasswords()" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="has-error" ng-if="changePasswordForm.$error.minLength">\n            <span class="help-block" translate>The password field must be more than 6 characters</span>\n          </div>\n          <div class="has-error" ng-if="!changePasswordForm.$error.minLength && changePasswordForm.$error.passwordsDontMatch">\n            <span class="help-block" translate>The password and confirmation password do not match</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12 text-left">\n          <button type="submit" class="btn btn-primary btn-wide" ng-disabled="changePasswordForm.$invalid" translate>Change password</button>\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("common/navbar-link.tpl.html",[]).run(["$templateCache",function(a){a.put("common/navbar-link.tpl.html",'<div class="header b-nav">\n\t<div class="navbar navbar-static-top">\n\t\t<div class="text-center">\n\t\t\t<a href="/"><span class="navbar-logo" ng-class="{\'company-domain\': $root.CurrentCompany.logo}">\n\t\t\t<img ng-src="{{$root.CurrentCompany.logo ? $root.CurrentCompany.logo : \'/assets/cl-portrait-2.png\'}}" alt="Cloudike"></span></a>\n\t\t</div>\n\t</div>\n</div>\n')}]),b.module("common/navbar-with-menu.tpl.html",[]).run(["$templateCache",function(a){a.put("common/navbar-with-menu.tpl.html",'<div class="header b-nav">\n  <div class="navbar navbar-static-top b-nav__navbar">\n    <div class="navbar-header">\n      <a class="navbar-brand hidden-sm hidden-md" href="/">\n        <div id="drive_menu" class="b-navbar-logo" ng-style="{backgroundImage: \'url(\' + ($root.CurrentCompany.logo ? $root.CurrentCompany.logo : \'/assets/cl-2-y.png\') + \')\'}"></div>\n      </a>\n      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".b-nav__menubar">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <div class="b-nav__navigation" ng-if="$root.AppLocale" ui-view="navbar-menu" cl-swipe-bar="{item: \'li\'}"></div>\n    </div>\n    <div class="collapse navbar-collapse b-nav__menubar">\n      \x3c!--div ui-view="navbar-menu"></div--\x3e\n      <div ng-if="$root.screenSize.xs">\n        <div ui-view="topbar-menu"></div>\n      </div>\n      <ul class="nav navbar-nav navbar-right cuser-menu-wrap">\n        <li ng-if="CurrentUser.userid">\n          <ul class="cuser-menu cuser-active-menu">\n            <li>\n              <div id="profile_menu" class="btn-group b-group-usermenu" dropdown>\n                <a href dropdown-toggle>\n                  <span class="cuser-name" ng-bind="CurrentUser.name"></span>\n                  <span class="caret"></span>\n                </a>\n                <ul class="dropdown-menu">\n                  <li><a ui-sref="profile"><span translate>Profile and settings</span></a></li>\n                  <li><a ui-sref="signout"><span translate>Sign out</span></a></li>\n                </ul>\n              </div>\n            </li>\n            <li>\n              <div id="notice_menu" class="btn-group" dropdown>\n                <a class="visible-xs mar-r-0-xs" ng-click="showModal(\'common/notices-modal.tpl.html\')" ng-disabled="!$root.MyNotices.length"><span class="cuser-btn" ng-if="$root.MyNotices.length">\n                    <span class="b-new_events_count" ng-if="$root.MyNoticesNewEventsCount && $root.MyNoticesNewEventsCount !== 0" ng-bind="$root.MyNoticesNewEventsCount"></span>\n                    <span translate="COUNT_NEW Events" translate-values="{COUNT_NEW: $root.MyNoticesNewEventsCount}" translate-interpolation="messageformat"></span>\n                  </span>\n                  <span class="cuser-btn" ng-if="!$root.MyNotices.length" translate>No events</span>\n                </a>\n\n                <a class="hidden-xs" href dropdown-toggle ng-disabled="!$root.MyNotices.length">\n                  <span class="cuser-btn" ng-if="$root.MyNotices.length">\n                    <span class="b-new_events_count" ng-if="$root.MyNoticesNewEventsCount && $root.MyNoticesNewEventsCount !== 0" ng-bind="$root.MyNoticesNewEventsCount"></span>\n                    <span translate="COUNT_NEW Events" translate-values="{COUNT_NEW: $root.MyNoticesNewEventsCount}" translate-interpolation="messageformat"></span>\n                  </span>\n                  <span class="cuser-btn" ng-if="!$root.MyNotices.length" translate>No events</span>\n                  <span class="caret"></span>\n                </a>\n\n                <div class="dropdown-menu b-nav__navbar__eventlist" cl-notices-list="$root.MyNotices"></div>\n              </div>\n            </li>\n            <li class="visible-xs visible-sm">\n              <div class="btn-group" dropdown>\n                <a class="mar-r-0-xs" href="" dropdown-toggle>\n                  <span translate>Download apps</span>\n                  <span class="caret hidden-xs"></span>\n                </a>\n                <ul class="dropdown-menu b-apps">\n                  <li>\n                    <a once-href="$root.AppLinks.android" target="_blank"><i class="fa fa-android b-apps__item-icon"></i><br/>Android</a>\n                  </li>\n                  <li>\n                    <a once-href="$root.AppLinks.iphone" target="_blank"><i class="fa fa-apple b-apps__item-icon"></i><br/>iPhone</a>\n                  </li>\n                </ul>\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li ng-if="!CurrentUser.userid">\n          <ul class="cuser-menu">\n            <li>\n              <a ui-sref="signup" translate>Sign up</a>\n            </li>\n            <li>\n              <a ui-sref="signin({back: $root.$state.current.stringifyBack})" translate>Sign in</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]),b.module("common/navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("common/navbar.tpl.html",'<div class="header b-nav">\n  <div class="navbar navbar-static-top">\n    <div class="text-center">\n      <span class="navbar-logo" ng-class="{\'company-domain\': $root.CurrentCompany.logo}">\n        <img ng-src="{{$root.CurrentCompany.logo ? $root.CurrentCompany.logo : \'/assets/cl-portrait-2.png\'}}" alt="Cloudike">\n      </span>\n    </div>\n  </div>\n</div>\n')}]),b.module("common/notices-modal.tpl.html",[]).run(["$templateCache",function(a){a.put("common/notices-modal.tpl.html",'<div class="modal-header">\n\t<button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n\t<div class="container-fluid">\n\t\t<div class="row">\n\t\t\t<div class="col-md-12">\n\t\t\t\t<h3><strong>Events</strong></h3>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="modal-body">\n\t<div class="row">\n\t\t<div class="col-md-12 b-nav__navbar__eventlist" cl-notices-list="$root.MyNotices">\n\t\t</div>\n\t</div>\n</div>\n\n<div class="modal-footer">\n\t<div class="container-fluid">\n\t\t<div class="row">\n\t\t\t<div class="col-md-12 text-left">\n\t\t\t\t<button type="button" class="btn btn-primary btn-lg btn-wide col-xxs-12 col-xs-12" ng-click="$dismiss()">Close</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>')}]),b.module("common/sidebar-bottom.tpl.html",[]).run(["$templateCache",function(a){a.put("common/sidebar-bottom.tpl.html",'<cl-progress-bar current="{{CurrentUser.storage_size}}" total="{{CurrentUser.quota_size}}"></cl-progress-bar>\n<div class="text-muted pre-text" translate="CURRENT_STORAGE_SIZE \\nof QUOTA_SIZE used" translate-values="{CURRENT_STORAGE_SIZE: CurrentUser.storage_size, QUOTA_SIZE: CurrentUser.quota_size}"></div>\n<div class="dropup" dropdown>\n  <a href="https://www.cloudike.kr/download.html" target="_blank" translate>Download apps</a>\n  \x3c!--<ul class="dropdown-menu b-apps">--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.android" target="_blank"><i class="fa fa-android b-apps__item-icon"></i><br/>Android</a></div>--\x3e\n      \x3c!--<div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.iphone" target="_blank"><i class="fa fa-apple b-apps__item-icon"></i><br/>iPhone</a></div>--\x3e\n\n      \x3c!--&lt;!&ndash;div class="col-md-6 b-apps__item text-muted"><h5 class="coming-soon">Coming soon</h5><span class="opacity-half" once-text="$root.AppLinks.iphone"><i class="fa fa-apple b-apps__item-icon"></i><br/>iPhone</span></div&ndash;&gt;--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.windows" target="_blank"><i class="fa fa-windows b-apps__item-icon"></i><br/>Windows</a></div>--\x3e\n      \x3c!--<div class="col-md-6 b-apps__item"><a once-href="$root.AppLinks.mac" target="_blank"><i class="fa b-apps__item-icon">X</i><br/>Mac</a></div>--\x3e\n    \x3c!--</li>--\x3e\n  \x3c!--</ul>--\x3e\n</div>\n<div><a href="https://www.cloudike.kr" target="_blank" translate>About Cloudike</a></div>\n<div class="col-md-12 pad-a-0"><img src="/assets/poweredby.png" width="150px"></div>\n')}]),b.module("common/sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("common/sidebar.tpl.html",'<div ui-view="sidebar-top" id="sidebar-top" class="g-sidebar-info-container full-height"></div>\n<div class="b-sidebar-info hidden-sm hidden-xs" id="sidebar-info" ui-view="sidebar-bottom" sidebar-bottom-positioning></div>\n')}]),b.module("companyFolders/companyFolders.tpl.html",[]).run(["$templateCache",function(a){a.put("companyFolders/companyFolders.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="container-fluid" ng-if="!folders.length">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="alert alert-info text-center" translate>There are no folders</div>\n        </div>\n      </div>\n    </div>\n    <div\n        ng-show="folders.length > 0"\n        class="b-fullheight b-content"\n        cl-folder-contents="folders"\n        cl-folder-contents-type="\'list\'"\n        cl-folder-opts="gridOptions"\n        cl-perfect-scrollbar>\n    </div>\n  </div>\n</div>\n')}]),b.module("companyFolders/nameColumn.tpl.html",[]).run(["$templateCache",function(a){a.put("companyFolders/nameColumn.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px" />\n  <col />\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon small">\n        <div class="folder">\n          <i class="icon icon-3 icon-folder-biz" ng-class="{\'accessible\': item.path, \'inaccessible\': !item.path}"></i>\n        </div>\n      </div>\n    </td>\n    <td colspan="{{item.status === \'requested\' ? 1 : 2}}">\n      <a ui-sref="drive({path: item.path})" ng-if="item.path" class="b-content-list__item-filename jq-ellipsis"\n         jq-ellipsis-row="1"\n         once-text="item.public_name" once-title="item.public_name"></a>\n      <a href="" ng-click="opts.helpers.requestAccess(item)" ng-if="!item.path" class="b-content-list__item-filename jq-ellipsis"\n         jq-ellipsis-row="1"\n         once-text="item.public_name" once-title="item.public_name"></a>\n    </td>\n    <td ng-if="item.status === \'requested\'" class="text-right text-center-xs">\n      <span class="label label-success hidden-xxs" once-text="\'Requested\' | translate"></span>\n      <i class="fa fa-lg fa-sign-in visible-xxs"></i>\n    </td>\n  </tr>\n</table>\n')}]),b.module("companyFolders/requestAccessDialog.tpl.html",[]).run(["$templateCache",function(a){a.put("companyFolders/requestAccessDialog.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3>\n          <strong translate="Request access to COMPANY_FOLDER" translate-values="{COMPANY_FOLDER: item.public_name}"></strong>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <div translate>Folder\'s owner should manually grant access to you.</div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="submit" class="btn btn-primary btn-wide" ng-click="sendRequest()" cl-btn-loading="sendingRequest" translate>Request access</button>\n        <button class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("companyFolders/toolbar.tpl.html",[]).run(["$templateCache",function(a){a.put("companyFolders/toolbar.tpl.html",'<div class="row">\n  <div class="g-sidebarview">&nbsp;</div>\n  <div class="g-mainview g-toolbar">\n    <div class="row">\n      <div id="company_folder_tour" class="col-xs-6 col-md-7" ui-view="toolbar-breadcrumbs"></div>\n      <div class="col-xs-6 col-md-5 text-right"></div>\n    </div>\n  </div>\n</div>\n')}]),b.module("drive/company/dialog/migrate.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/company/dialog/migrate.tpl.html",'<form name="MigrateFileForm" class="migrate-modal" ng-submit="sendRequest(MigrateFileForm)" cl-server-validate="{403: \'GroupAlreadyExists\'}">\n  <div class="modal-header">\n    <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <h3><strong translate>Choose a new owner of selected folders:</strong></h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-body">\n    <div class="container-fluid" ng-if="users.length === 0">\n      <div class="row">\n        <div class="col-md-12">\n          <p translate>There are no other users to migrate folder to.</p>\n          <p ng-if="CurrentUser.company_id && CurrentUser.role == \'company_admin\'">\n            <span translate>You can</span>\n            <a class="btn-link" type="button" ng-click="addUser()" translate>add new user</a>\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="container-fluid" ng-if="users.length != 0">\n      <div class="row">\n        <div class="col-md-7">\n          <select name="user" class="form-control" ng-model="form.user"\n                  ng-options="item.login_token as item.name for item in users">\n          </select>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-12">\n          <input type="checkbox" ng-model="form.revoke"/>\n          <label class="migrate-modal-offset" translate>Revoke my access</label>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-10">\n          <p class="migrate-modal-offset">\n            <strong translate>You are going to transfer the ownership of the selected folder to another user.</strong>\n            <span translate>Until this user accept your invitation you can undone it in the \'Pending transfers\' menu section.</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-sm-6 text-left">\n          <button type="submit" class="btn btn-primary btn-wide" translate ng-disabled="users.length == 0">Done</button>\n        </div>\n        <div class="col-sm-6 text-right">\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("drive/company/dialog/tutorial.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/company/dialog/tutorial.tpl.html",'<form name="MigrateFileForm" class="migrate-modal">\n <div class="modal-header">\n  <button type="button" class="close" ng-click="disable_tutorial()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-md-12">\n     <h3><strong translate>Walkthrough Cloudike in 3 steps? </strong></h3>\n    </div>\n   </div>\n  </div>\n </div>\n <div class="modal-body">\n  <div class="container-fluid" ng-if="users.length === 0">\n   <div class="row">\n    <div class="col-md-12">\n\n    </div>\n   </div>\n  </div>\n </div>\n <div class="modal-footer">\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-sm-6 text-left">\n     <button type="submit" class="btn btn-primary btn-wide" ng-click="do_tour()" translate>Ok, Let\'s do it!</button>\n    </div>\n    <div class="col-sm-6 text-right">\n     <button type="button" class="btn btn-primary btn-wide" ng-click="disable_tutorial()" translate>No, thank you</button>\n    </div>\n   </div>\n  </div>\n </div>\n</form>\n')}]),b.module("drive/drive-dialogCreateFolder.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-dialogCreateFolder.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3>\n          <strong translate>Create new folder</strong>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body create-folder-form">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 form"\n           ng-form="formCreateFolder"\n           ng-submit="formCreateFolder.$valid && createFolder()"\n           novalidate\n           autocomplete="off"\n           cl-server-validate="{403: \'FolderExists\', 400: [\'BadRequest\', \'InvalidParameters\', \'InvalidRequestId\', \'InvalidServiceResponse\']}">\n        <div class="form-group" ng-class="{ \'has-error\' : formCreateFolder.$invalid }">\n          <input type="text" class="form-control noSwipe" name="path" ng-model="folderName" ng-disabled="sendingInvites || folderCreated"\n                 ng-pattern="$root.CONST.fe.filenameAllowedCharactersPattern" ng-maxlength="255" ng-required="true"\n                 cl-simple-focus="true" cl-simple-focus-select="true" ng-keyup="$event.keyCode == 13 && formCreateFolder.$valid && createFolder()"/>\n          <span class="help-block" ng-if="formCreateFolder.$dirty && formCreateFolder.path.$error.required" translate>Folder name should be specified</span>\n          <span class="help-block" ng-if="formCreateFolder.path.$error.pattern" translate>Invalid character in folder name</span>\n          <span class="help-block" ng-if="formCreateFolder.$error.FolderExists" translate>Folder already exists</span>\n          <span class="help-block" ng-if="formCreateFolder.$error.InvalidParameters" translate>Folder name is incorrect</span>\n          <span class="help-block" ng-if="formCreateFolder.$error.ServerError" translate>Server error occurred during request processing</span>\n          <span class="help-block" ng-if="formCreateFolder.$error.maxlength" translate>field should be less than 255 characters</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="pad-t-10 pad-b-30">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="text-left invite-form" ng-if="isOwner" ng-class="showInviteForm ? \'col-md-12\' : \'col-md-6\'">\n          \x3c!--<div class="pad-b-10 p-cursor-pointer" ng-click="toggleInviteForm()">--\x3e\n            \x3c!--<i class="icon icon-add-user primary-color"></i>--\x3e\n            \x3c!--<u ng-if="!showInviteForm" translate>Invite users</u>--\x3e\n            \x3c!--<u ng-if="showInviteForm" translate>Hide settings</u>--\x3e\n          \x3c!--</div>--\x3e\n          <div ng-if="showInviteForm" ng-form="Invite.Form" ng-disabled="sendingInvites" novalidate\n               cl-server-validate="{400: \'BadUser\', 404: \'UserNotFound\', 403: [\'FolderIntersectsWithSharedOrPublished\', \'CompanyOperationsOutsideForbidden\'], 409: \'Conflict\'}">\n            <div class="row">\n              <div class="col-md-12">\n                <tags-input name="inviteCollaborators"\n                            ng-model="invite.collaborators"\n                            display-property="text"\n                            min-length="0"\n                            add-on-space="false" add-on-paste="true" paste-split-pattern="[;,]+"\n                            replace-spaces-with-dashes="false"\n                            placeholder="{{\'Invite more users via email/ldap\' | translate}}">\n                  <auto-complete source="getUserlistForAutocomplete($query)"\n                                 min-length="0"\n                                 max-results-to-show="5"\n                                 template="autocomplete-template"></auto-complete>\n                </tags-input>\n              </div>\n            </div>\n            <textarea class="form-control mar-t-5" ng-model="invite.comment" ng-if="inviteCommentOpened" placeholder="{{\'Optional message\' | translate}}"></textarea>\n            <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.BadUser || Invite.Form.$error.Conflict || Invite.Form.$error.UserNotFound" translate>Some invites were not sent. Please, check entered emails or phones.</div>\n            <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.CompanyOperationsOutsideForbidden" translate>Some invites were not sent. You can\'t share outside.</div>\n            <div class="help-block alert alert-danger" ng-if="Invite.Form.$error.FolderIntersectsWithSharedOrPublished" translate>Some invites were not sent. Folder intersects with other shared folder</div>\n          </div>\n        </div>\n        <div class="text-right modal-controls" ng-class="showInviteForm ? \'col-md-12 pad-t-30\' : (isOwner ? \'col-md-6\' : \'col-md-12\')">\n          <button ng-if="!folderCreated" type="button" class="btn btn-primary btn-lg btn-wide" ng-click="createFolder()"\n                  ng-disabled="formCreateFolder.$invalid || Invite.Form.$invalid || sendingInvites" translate>Create</button>\n          <button ng-if="folderCreated && !sendingInvites" type="button" class="btn btn-primary btn-lg btn-wide" ng-click="sendInvites()" translate>Send invites</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<script type="text/ng-template" id="autocomplete-template">\n  <div class="break-word white-space-normal bold">\n    <span ng-bind-html="$highlight(data.name)"></span>\n  </div>\n  <div class="break-word white-space-normal">\n    <span ng-repeat="login in data.logins">\n      <span ng-bind-html="$highlight(login.value)"></span>\n      <span ng-if="!$last" class="separator"></span>\n    </span>\n  </div>\n<\/script>\n')}]),b.module("drive/drive-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-navbar.tpl.html",'<ul class="nav navbar-nav" ng-show="navbar.visible" id="menu_items">\n  <li>\n    <span class="b-uploader__file-select text-center" type="button"\n          ng-class="{\'disabled\': navbar.showUploader.disabled}" title="{{\'Upload\' | translate}}"\n          ng-if="!$root.supportDirectory || $root.screenSize.xs || $root.browser.mobile">\n      <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n      <i class="icon icon-upload icon-3"></i>\n      <span translate>Upload</span>\n    </span>\n    <span class="b-uploader__file-select text-center" type="button"\n          ng-class="{\'disabled\': navbar.showUploader.disabled}" title="{{\'Upload\' | translate}}"\n          ng-if="$root.supportDirectory && !$root.screenSize.xs && !$root.browser.mobile">\n      <div class="dropdown-upload" dropdown>\n        <span ng-class="{\'disabled\': navbar.showUploader.disabled}" dropdown-toggle>\n          <i class="icon icon-upload icon-3"></i>\n          <span translate>Upload</span>\n          <span class="caret"></span>\n        </span>\n        <ul class="dropdown-menu">\n          <li>\n            <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n            <span translate>File</span>\n          </li>\n          <li>\n            <input name="folder" type="file" flow-btn flow-directory>\n            <span translate>Folder</span>\n          </li>\n        </ul>\n      </div>\n    </span>\n  </li>\n  <li>\n    <button id="new_folder_create" class="text-center" type="button" ng-class="{\'disabled\': navbar.showNewFolder.disabled}"\n            ng-click="toggleCollapseNode(navbar.showNewFolder)" title="{{\'New folder\' | translate}}" ng-disabled="navbar.showNewFolder.disabled">\n      <i class="icon icon-folder icon-3"></i>\n      <span translate>New folder</span>\n    </button>\n    <div class="collapse-wrapper" ng-show="navbar.showNewFolder.showForm">\n      \x3c!--<div class="well">--\x3e\n        \x3c!--<button type="button" class="close"><i class="icon icon-cross"></i></button>--\x3e\n        \x3c!--<form name="formCreateFolder" class="form-block col-fx-300"--\x3e\n              \x3c!--ng-submit="formCreateFolder.$valid && createFolder(formCreateFolder, navbar.showNewFolder.name)" novalidate autocomplete="off" cl-server-validate="{403: \'FolderExists\', 400: [\'BadRequest\', \'InvalidParameters\', \'InvalidRequestId\', \'InvalidServiceResponse\']}">--\x3e\n          \x3c!--<div class="b-new-folder" ng-class="{\'has-error\': formCreateFolder.$invalid}">--\x3e\n            \x3c!--<div class="input-group" cl-click-outside="navbar.showNewFolder.showForm = false" cl-click-outside-esc="true">--\x3e\n              \x3c!--<input name="path" class="form-control noSwipe" type="text" ng-model="navbar.showNewFolder.name" ng-required="true"--\x3e\n                     \x3c!--ng-pattern="$root.CONST.fe.filenameAllowedCharactersPattern" cl-set-focus="navbar.showNewFolder.showForm" on-select="true" ng-maxlength="255"/>--\x3e\n              \x3c!--<span class="input-group-btn">--\x3e\n                \x3c!--<button id="btn-create-new-folder" class="btn btn-primary" type="submit" ng-disabled="formCreateFolder.$invalid" translate>Create</button>--\x3e\n              \x3c!--</span>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$dirty && navbar.showNewFolder.name && formCreateFolder.path.$error.required" translate>Folder name should be specified</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.path.$error.pattern" translate>Invalid character in folder name</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$error.FolderExists" translate>Folder already exists</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$error.InvalidParameters" translate>Folder name is incorrect</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$error.ServerError" translate>Server error occurred during request processing</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$error.maxlength" translate>field should be less than 255 characters</span>--\x3e\n            \x3c!--<span class="help-block" ng-if="formCreateFolder.$error.required" translate>field should be filled-in</span>--\x3e\n          \x3c!--</div>--\x3e\n        \x3c!--</form>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n  </li>\n  <li class="divider-vertical"></li>\n  <cl-menu class="pull-left" cl-menu-entry="driveMenu"\n           cl-menu-type="nav"\n           cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("drive/drive-sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-sidebar.tpl.html",'<div class="metadata-tree b-menu" cl-folder-as-tree cl-perfect-scrollbar></div>\n')}]),b.module("drive/drive-toolbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive-toolbar.tpl.html",'<div class="row" ng-class="{\'invisible\': metadata.status === 404}">\n  <div class="g-sidebarview" ng-if="opts.oneColumn !== true">&nbsp;</div>\n  <div class="g-toolbar" ng-class="{\'g-mainview\': !opts.oneColumn, \'col-md-8 col-md-offset-2\': opts.oneColumn}">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="visible-xs">\n          <div class="b-toolbar__breadcrumbs" ui-view="toolbar-breadcrumbs"></div>\n          <div class="b-toolbar__bar">\n            <div class="b-toolbar__bar-sort btn-group">\n              <button type="button" class="btn btn-xs btn-link" ng-class="{\'b-sortable-cell__direction-asc\': currentSort.rule[1].charAt(0) == \'+\', \'b-sortable-cell__direction-desc\': currentSort.rule[1].charAt(0) == \'-\'}" cl-dropdown ng-if="mode == \'grid\'">\n                <span class="p-lc">{{(gridOptions.columnDefs | filter:{sortKey: currentSort.rule[1].substr(1)})[0].sortTitleForThumbnailView | translate}}</span>\n                <div class="b-dropdown open" cl-dropdown-body cl-sortable-table="gridOptions.gridName" cl-sortable-table-sort="gridOptions.defaultSort">\n                    <ul class="dropdown-menu">\n                      <li ng-repeat="col in gridOptions.columnDefs" ng-if="col.sortKey" ng-class="{active: (currentSort | filter:col.sortKey).length}">\n                        <a href="" cl-sortable-table-column="{{col.sortKey}}">{{col.sortTitleForThumbnailView}}</a>\n                      </li>\n                    </ul>\n                </div>\n              </button>\n            </div>\n            <div class="b-toolbar__bar-mode btn-group">\n              <button type="button" class="btn btn-xs btn-default btn-mtb" ng-class="{\'active\': mode == \'grid\'}" ng-click="toggleMode(\'grid\')"><i class="icon icon-tiles icon-3-h"></i></button>\n              <button type="button" class="btn btn-xs btn-default btn-mtb" ng-class="{\'active\': mode == \'list\'}" ng-click="toggleMode(\'list\')"><i class="icon icon-list icon-3-h"></i></button>\n            </div>\n          </div>\n        </div>\n        <table class="b-toolbar__table hidden-xs">\n          <colgroup>\n            <col width="*">\n            <col width="1%">\n            <col width="1%" ng-if="$root.CONST.be.show_search && opts.showSearch">\n          </colgroup>\n          <tr>\n            <td>\n              <div class="b-toolbar__breadcrumbs" ui-view="toolbar-breadcrumbs"></div>\n            </td>\n            <td>\n              <div class="b-toolbar__bar">\n                <div class="btn-group">\n                  <button type="button" class="btn btn-link" ng-class="{\'b-sortable-cell__direction-asc\': currentSort.rule[1].charAt(0) == \'+\', \'b-sortable-cell__direction-desc\': currentSort.rule[1].charAt(0) == \'-\'}" cl-dropdown ng-if="mode == \'grid\'">\n                    {{\'Sort\' | translate}}\n                    <span class="p-lc">{{(gridOptions.columnDefs | filter:{sortKey: currentSort.rule[1].substr(1)})[0].sortTitleForThumbnailView | translate}}</span>\n                    <div class="b-dropdown open" cl-dropdown-body cl-sortable-table="gridOptions.gridName" cl-sortable-table-sort="gridOptions.defaultSort">\n                        <ul class="dropdown-menu">\n                          <li ng-repeat="col in gridOptions.columnDefs" ng-if="col.sortKey" ng-class="{active: (currentSort | filter:col.sortKey).length}">\n                            <a href="" cl-sortable-table-column="{{col.sortKey}}">{{col.sortTitleForThumbnailView}}</a>\n                          </li>\n                        </ul>\n                    </div>\n                  </button>\n                </div>\n                <div class="b-toolbar__bar-mode btn-group">\n                  <button type="button" class="btn btn-default btn-mtb" ng-class="{\'active\': mode == \'grid\'}" ng-click="toggleMode(\'grid\')"><i class="icon icon-tiles icon-3-h"></i></button>\n                  <button type="button" class="btn btn-default btn-mtb" ng-class="{\'active\': mode == \'list\'}" ng-click="toggleMode(\'list\')"><i class="icon icon-list icon-3-h"></i></button>\n                </div>\n              </div>\n            </td>\n            <td ng-if="$root.CONST.be.show_search && opts.showSearch">\n              <div class="b-toolbar__search">\n                <cl-search-form></cl-search-form>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n\n')}]),b.module("drive/drive.tpl.html",[]).run(["$templateCache",function(a){a.put("drive/drive.tpl.html",'<div class="row full-height" ng-class="{\'no-print\': $root.CurrentUser && !$root.CurrentUser.can_print}">\n  <div class="col-md-12 b-content-wrap full-height" ng-class="{\'b-content-grid-wrap\': mode == \'grid\' && metadata.content.length}">\n    <div class="full-height" cl-empty-page cl-empty-state="metadata.status" cl-empty-topic="metadata.empty"></div>\n    <div ng-show="metadata.content.length === 0" class="b-content b-content-empty">\n      <span></span>\n      <div class="empty-wrap" id="drive_main">\n        \x3c!-- TODO: Refactor ng-if state conditions, too ugly --\x3e\n        <i class="empty-icon icon icon-upload" ng-if="$state.current.data.showDropZoneInEmptyFolder"></i>\n        <i class="empty-icon icon icon-folder" ng-if="!$state.current.data.showDropZoneInEmptyFolder && !$state.current.data.showTrashNotify"></i>\n        <i class="empty-icon icon icon-bin-x" ng-if="$state.current.data.showTrashNotify"></i>\n\n        <span ng-bind="emptyFolderText" class="empty-folder-text"></span><br>\n        <div class="empty-drop" ng-if="$state.current.data.showDropZoneInEmptyFolder">\n          <span class="droptext" translate>Drop some files here or</span>\n          <span class="b-uploader__file-select">\n            <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n            <span translate>choose file from disk</span>\n          </span>\n          <span class="droptext" ng-if="$flow.supportDirectory&&!$root.browser.mobile" translate>or</span>\n          <span class="b-uploader__file-select" ng-if="$flow.supportDirectory&&!$root.browser.mobile">\n            <input name="folder" type="file" flow-btn flow-directory>\n            <span translate>choose folder from disk</span>\n          </span>\n        </div>\n      </div>\n    </div>\n    \x3c!--\n      ACHTUNG!!!\n      https://asdtech.atlassian.net/browse/CLX-352\n      Do not use ng-if bellow because we need grid to be initialized to have all proper events fired even if there are no items and grid is empty.\n      Particularly, we need \'content:folder-contents:selectedItems\' event with correct currentFolder to properly show/hide top menu entries.\n    --\x3e\n    <div class="b-fullheight"\n        ng-show="metadata.content.length > 0"\n        ng-class="{\'b-content\': mode == \'list\'}"\n        cl-folder-contents="metadata"\n        cl-folder-contents-type="mode"\n        cl-folder-opts="gridOptions"\n        cl-context-menu-entry="{{contextMenuEntry}}"\n        cl-on-scroll-end="onScrollEnd"\n    ></div>\n    <div class="col-md-12 hidden-md hidden-lg pad-a-0 mar-t-20 text-center"><img src="/assets/poweredby.png" width="30%"></div>\n  </div>\n</div>\n')}]),b.module("drivePublic/drivePublic-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a ng-href="{{itemHref(item)}}" class="b-content-list__item-filename jq-ellipsis"\n         jq-ellipsis-row="1"\n         once-text="item.path|filename" once-title="item.path|filename"></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("drivePublic/drivePublic-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic-navbar.tpl.html",'<ul class="nav navbar-nav public-files" ng-show="navbar.visible">\n  <cl-menu cl-menu-entry="publicFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("drivePublic/drivePublic-password.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic-password.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>Password</strong></h3>\n        <span translate>This link is protected with the password</span>\n      </div>\n    </div>\n  </div>\n</div>\n<form ng-submit="sendPassword()">\n<div class="modal-body" ng-form="linkPasswordForm">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-12">\n          <div class="opt-input-wrap" ng-switch="pubLinkOpt.passwordHide">\n            <input class="form-control switch"  ng-switch-default type="text" name="password" ng-model="pubLinkParam.password" />\n            <input class="form-control switch" ng-switch-when="true" type="password" name="password" ng-model="pubLinkParam.password" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="submit" class="btn btn-primary btn-wide" ng-disabled="!pubLinkParam.password.length" translate>Confirm</button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n      </div>\n    </div>\n  </div>\n</div>\n</form>')}]),b.module("drivePublic/drivePublic.tpl.html",[]).run(["$templateCache",function(a){a.put("drivePublic/drivePublic.tpl.html",'<div class="row full-height" ng-class="{\'no-print\': ($root.link_metadata && !$root.link_metadata.can_print) || ($root.CurrentUser && !$root.CurrentUser.can_print) }">\n  <div class="col-md-12 b-content-wrap full-height forLogo"  ng-class="{\'b-content-grid-wrap\': mode == \'grid\' && metadata.content.length}">\n    <div class="full-height" cl-empty-page cl-empty-state="metadata.status" cl-empty-topic="metadata.empty"></div>\n    <div ng-show="metadata.content.length === 0" class="b-content b-content-empty">\n      <span></span>\n      <div class="empty-wrap">\n        \x3c!-- TODO: Refactor ng-if state conditions, too ugly --\x3e\n        <i class="empty-icon icon icon-upload" ng-if="$state.current.data.showDropZoneInEmptyFolder"></i>\n        <i class="empty-icon icon icon-folder" ng-if="!$state.current.data.showDropZoneInEmptyFolder && !$state.current.data.showTrashNotify"></i>\n        <i class="empty-icon icon icon-bin-x" ng-if="$state.current.data.showTrashNotify"></i>\n\n        <span ng-bind="emptyFolderText" class="empty-folder-text"></span><br>\n        <div class="empty-drop" ng-if="$state.current.data.showDropZoneInEmptyFolder">\n          <span class="droptext" translate>Drop some files here or</span>\n          <span class="b-uploader__file-select">\n            <input name="file" type="file" multiple nv-file-select uploader="$root.uploader">\n            <span translate>choose file from disk</span>\n          </span>\n        </div>\n      </div>\n    </div>\n    \x3c!--\n      ACHTUNG!!!\n      https://asdtech.atlassian.net/browse/CLX-352\n      Do not use ng-if bellow because we need grid to be initialized to have all proper events fired even if there are no items and grid is empty.\n      Particularly, we need \'content:folder-contents:selectedItems\' event with correct currentFolder to properly show/hide top menu entries.\n    --\x3e\n    <div class="b-fullheight"\n        ng-show="metadata.content.length > 0"\n        ng-class="{\'b-content\': mode == \'list\'}"\n        cl-folder-contents="metadata"\n        cl-folder-contents-type="mode"\n        cl-folder-opts="gridOptions"\n        cl-context-menu-entry="{{contextMenuEntry}}"\n        cl-on-scroll-end="onScrollEnd"\n    ></div>\n    <div class="fixed-position col-md-2 top-position">\n      <div class="hidden-sm hidden-xs cloudike-pr">\n        <h4 translate>Cloudike is</h4>\n        <h5 translate>A cloud storage optimized for file sharing and back up service</h5>\n        <h5 class="mar-l-10" translate>Advance file security with features such as limited folder access per user</h5>\n        <h5 class="mar-l-10" translate>Stay productive with easy-to-use cloud storage service</h5>\n        <h5 class="mar-l-10" translate>Protect sensitive company files with enterprise-grade file sharing options</h5>\n        <button class="text-center btn btn-lg btn-primary btn-block ng-scope col-md-2" ng-click="redirect()" translate>Go to free trial</button>\n      </div>\n      <div class="hidden-sm hidden-xs"><img class="mar-t-20 logo-position" src="/assets/poweredby.png" width="70%"></div>\n    </div>\n      <div class="visible-sm visible-xs pad-a-0 text-center">\n        <h4 translate>Cloudike is</h4>\n        <h5 translate>A cloud storage optimized for file sharing and back up service</h5>\n        <h5 translate>Advance file security with features such as limited folder access per user</h5>\n        <h5 translate>Stay productive with easy-to-use cloud storage service</h5>\n        <h5 translate>Protect sensitive company files with enterprise-grade file sharing options</h5>\n        <button class="text-center btn btn-lg btn-primary btn-block ng-scope" ng-click="redirect()" translate>Go to free trial</button>\n        <img src="/assets/poweredby.png" width="30%">\n      </div>\n  </div>\n</div>\n')}]),b.module("driveSearch/driveSearch-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename"\n        once-if="item.folder"\n        once-href="$root.$state.href(\'drive\', {path: item.path})"\n        once-title="item.path | filename"><span once-text="item.path | filename"></span></a>\n      <a class="b-content-list__item-filename"\n        once-if="!item.folder"\n        once-href="itemHref(item)"\n        once-title="item.path | filename"><span cl-ellipsis once-text="item.path | filename"></span></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveSearch/driveSearch-ceil-path.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-ceil-path.tpl.html",'<a class="b-content-list__item-filename"\n  once-href="$root.$state.href(\'drive\', {path: $root.pathAsParentFoldername(item.path, \'\')})"\n  once-title="item.path | parentfolder"><span once-text="item.path | parentfolder"></span></a>\n')}]),b.module("driveSearch/driveSearch-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveSearch/driveSearch-navbar.tpl.html",'<ul class="nav navbar-nav">\n  <cl-menu class="pull-left" cl-menu-entry="sharedFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveShared/driveShared-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShared/driveShared-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <col ng-if="item.public_hash">\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a ng-if="item.folder" ui-sref="drive({path: item.path})" class="b-content-list__item-filename"\n         cl-rename="item" cl-rename-namespace="folder-contents folder-contents-context"\n         once-text="item.path|filename" once-title="item.path|filename"></a>\n      <a ng-if="!item.folder" ng-href="{{itemHref(item)}}" class="b-content-list__item-filename"\n         cl-rename="item" cl-rename-namespace="folder-contents folder-contents-context"\n         once-text="item.path|filename" once-title="item.path|filename"></a>\n    </td>\n\n    <td class="text-left hidden-xxs" ng-if="item.public_hash">\n      <span ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" class="label label-success" once-text="\'Published\' | translate"></span>\n      <span ng-if="item.access_rights === \'upload\'" class="label label-success" once-title="\'You can upload files to this folder\' | translate" once-text="\'Uploadable\' | translate"></span>\n      <span ng-if="$root.CurrentCompany && !$root.CurrentCompany.public_links_allow" class="label label-danger" once-text="\'Published but inaccessible\' | translate"></span>\n      <span ng-if="item.password" class="label label-warning" once-text="\'Password\' | translate"></span>\n      <span ng-if="item.download_max" class="label label-info"><span translate>Downloads</span> <span once-text="\'{{item.download_count}}/{{item.download_max}}\'"></span></span>\n      <span ng-if="item.expires && item.time_left !== -1" class="label label-danger"><span once-text="\'{{item.time_left}}\' | time:\'w\'"></span> <span translate>left</span></span>\n      <span ng-if="item.expires && item.time_left === -1" class="label label-danger"><span translate>Expired</span></span>\n    </td>\n    <td class="text-left visible-xxs" ng-if="item.public_hash">\n      <i ng-if="!$root.CurrentCompany || $root.CurrentCompany.public_links_allow" once-title="\'Published\' | translate" class="fa fa-lg fa-share-alt"></i>\n      <i ng-if="item.access_rights === \'upload\'" class="fa fa-lg fa-upload" once-title="\'You can upload files to this folder\' | translate"></i>\n      <i ng-if="item.password" class="fa fa-lg fa-lock" once-title="\'Password\' | translate"></i>\n      <i ng-if="item.download_max" class="fa fa-lg fa-arrow-circle-down" once-title="\'{{item.download_count}}/{{item.download_max}}\'"></i>\n      <i ng-if="item.expires && item.time_left !== -1" class="fa fa-lg fa-clock-o" once-title="\'{{item.time_left | time:\'w\'}}\'"></i>\n      <span ng-if="item.expires && item.time_left === -1" class="fa-stack" once-title="\'Expired\' | translate">\n        <i class="fa fa-lg fa-clock-o"></i>\n        <i class="fa fa-lg fa-times fa-stack-1x text-danger"></i>\n      </span>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveShared/driveShared-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShared/driveShared-navbar.tpl.html",'<ul class="nav navbar-nav">\n  <cl-menu class="pull-left" cl-menu-entry="sharedFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveShares/driveShares-ceil-name.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShares/driveShares-ceil-name.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n       <a\n        class="b-content-list__item-filename"\n        cl-rename="item"\n        cl-rename-namespace="folder-contents folder-contents-context"\n        once-href="itemHref(item)"\n        once-title="item.path | filename">\n          <span once-text="item.path | filename"></span>\n        </a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveShares/driveShares-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveShares/driveShares-navbar.tpl.html",'<ul class="nav navbar-nav shares-files" ng-show="navbar.visible">\n  <cl-menu cl-menu-entry="sharesFilesMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("driveTrash/driveTrash-ceil-name.tpl.tpl.html",[]).run(["$templateCache",function(a){a.put("driveTrash/driveTrash-ceil-name.tpl.tpl.html",'<table class="b-layout-fixed">\n  <col width="42px">\n  <col>\n  <tr>\n    <td>\n      <div class="b-content-list-grid__icon" cl-item-icon="item" cl-icon-size="small"></div>\n    </td>\n    <td>\n      <a class="b-content-list__item-filename jq-ellipsis"\n        ng-if="!item.folder"\n        ng-href="{{itemHref(item)}}"\n        jq-ellipsis-row="1"\n        once-text="item.path|filename" once-title="item.path|filename"></a>\n      <a class="b-content-list__item-filename jq-ellipsis"\n        href=""\n        ng-if="item.folder"\n        jq-ellipsis-row="1"\n        once-text="item.path|filename" once-title="item.path|filename"></a>\n    </td>\n  </tr>\n</table>\n')}]),b.module("driveTrash/driveTrash-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("driveTrash/driveTrash-navbar.tpl.html",'<ul class="nav navbar-nav" ng-show="navbar.visible">\n  <cl-menu class="pull-left" cl-menu-entry="trashMenu" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("layouts/col-1.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/col-1.tpl.html",'<div class="row full-height">\n  <div class="col-md-8 col-md-offset-2 full-height layout-col-pad" ui-view="main"></div>\n</div>\n')}]),b.module("layouts/col-2.tpl.html",[]).run(["$templateCache",function(a){a.put("layouts/col-2.tpl.html",'<div class="row full-height">\n  <div class="g-sidebarview full-height" ui-view="sidebar" ng-class="{\'g-sidebar-hard\': hardSidebar}"></div>\n  <div class="g-mainview layout-col-pad full-height" ui-view="main"></div>\n</div>\n')}]),b.module("oauth/oauth.tpl.html",[]).run(["$templateCache",function(a){a.put("oauth/oauth.tpl.html",'<div class="row oauth-form" ng-class="{\'company-domain\': loginMethod.company}">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" ng-if="!loginMethod.company" translate>Sign in</h3>\n    <h3 class="text-center break-word" ng-if="loginMethod.company" translate="Sign in to COMPANY_NAME company" translate-values="{COMPANY_NAME: loginMethod.company.name}"></h3>\n    <div class="form-group" ng-if="!formComplete && loginMethod.isSelectable && loginMethod.companySignin">\n      <label translate>Sign in with</label>\n      <div class="btn-group btn-group-justified">\n        <div class="btn-group" ng-if="CONST.be.auth.email.signin">\n          <button type="button" class="btn btn-lg btn-default" ng-click="setLoginType(\'formEmail\')" ng-class="{\'btn-primary\': loginMethod.type == \'formEmail\'}" translate>EMAIL</button>\n        </div>\n        <div class="btn-group" ng-if="CONST.be.auth.windows.signin">\n          <button type="button" class="btn btn-lg btn-default" ng-click="setLoginType(\'formLDAP\')" ng-class="{\'btn-primary\': loginMethod.type == \'formLDAP\'}" translate>LDAP</button>\n        </div>\n      </div>\n    </div>\n    <div ng-show="!formComplete" class="pad-t-10">\n      <form name="formEmail" ng-submit="submit()" ng-show="loginMethod.type === \'formEmail\'" ng-autocomplete-reflect novalidate cl-server-validate="{403: [\'CompanyDisabled\', \'UserTemporarilyLocked\', \'UserDisabled\', \'CompanyOnModeration\', \'CompanyIsDenied\']}">\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.email.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="email" class="form-control input-lg" ng-model="user.formEmail.email" ng-maxlength="40" ng-required="true" ng-validate-hint="{email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your email\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formEmail.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your password\' | translate}}">\n        </div>\n        <div class="checkbox" ng-if="0">\n          <label><input type="checkbox" ng-model="user.formEmail.permanent_auth"><span translate>Stay signed in</span></label>\n        </div>\n        <div class="form-group has-error">\n          <span ng-if="formEmail.$error.UserTemporarilyLocked" class="help-block" translate>User is temporarily locked. Try login attempt later.</span>\n          <span ng-if="formEmail.$error.UserTemporarilyLocked && CONST.be.support_number" class="help-block" translate="Contact us : SUPPORT_NUMBER" translate-values="{SUPPORT_NUMBER: CONST.be.support_number}"></span>\n          <span ng-if="formEmail.$error.CompanyDisabled" class="help-block" translate>Company is temporarily locked. Try login attempt later.</span>\n          <span ng-if="formEmail.$error.Unauthorized" class="help-block" translate>Wrong email or password</span>\n          <span ng-if="formEmail.$error.LastAttempt" class="help-block" translate>Wrong email or password. Last attempt before blocking!</span>\n          <span ng-if="formEmail.$error.UserDisabled" class="help-block" translate>User is temporarily locked. Try login attempt later.</span>\n          <span ng-if="formEmail.$error.CompanyOnModeration" class="help-block" translate>Your request to create a new company received and will be reviewed soon</span>\n          <span ng-if="formEmail.$error.CompanyIsDenied" class="help-block" translate>Your request to create a new company was denied</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" translate>Sign in</button>\n      </form>\n      <form name="formLDAP" ng-submit="submitLDAP()" ng-show="loginMethod.type === \'formLDAP\'" ng-autocomplete-reflect novalidate cl-server-validate="{401: \'WrongCredentials\', 403: \'UserDisabled\'}">\n        <div class="form-group" ng-class="{\'has-error\': formLDAP.$dirty && formLDAP.user_name.$invalid}">\n          <label translate>User Name</label>\n          <input type="text" name="name" class="form-control input-lg" ng-model="user.formLDAP.name" ng-minlength="6" ng-maxlength="40" ng-required="true" ui-validate="{trimming : $root.fieldIsTrimming}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your username\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formLDAP.$dirty && formLDAP.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formLDAP.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your password\' | translate}}">\n        </div>\n        <div class="checkbox" ng-if="0">\n          <label><input type="checkbox" ng-model="user.formLDAP.permanent_auth"><span translate>Stay signed in</span></label>\n        </div>\n        <div class="form-group has-error" ng-if="formLDAP.$error.UserDisabled">\n          <span class="help-block" translate>User disabled</span>\n        </div>\n        <div class="form-group has-error" ng-if="formLDAP.$error.WrongCredentials">\n          <span class="help-block" translate>Wrong credentials</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="formLDAP.$invalid" translate>Sign in</button>\n      </form>\n    </div>\n    <div ng-show="formComplete">\n      <button class="btn btn-lg btn-primary btn-block" type="button" ng-click="sendOauthData()" translate>Send data</button>\n    </div>\n    <hr>\n    <div class="form-group text-center">\n      <span ng-repeat="lang in CONST.be.i18n.locales">\n              <label  class="bold" translate-language="{{lang}}" translate="Interface language"></label>\n              <label ng-if="$index !== CONST.be.i18n.locales.length-1">/</label>\n      </span>\n      <select class="form-control" ng-model="user.lang" ng-change="changeLanguage(user.lang)" ng-disabled="langDisabled">\n        <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="user.lang == item.value" once-text="item.label"></option>\n      </select>\n    </div>\n    <div class="row">\n      <div class="col-xs-6 text-left" ng-if="!loginMethod.companySignin">\n        <a ui-sref="signup" ui-sref-opts="{reload: true}" ng-if="!CONST.be.business_signup" translate>Need an account?</a>\n        <a ui-sref="signup-business" ui-sref-opts="{reload: true}" ng-if="CONST.be.business_signup" translate>Need an account?</a>\n      </div>\n      <div class="col-xs-6 text-right" ng-if="!onlySignup || loginMethod.companySignin" ng-class="{\'col-xs-offset-6\': loginMethod.companySignin}">\n        <a ui-sref="resetPassword" translate>Forgot password?</a>\n      </div>\n      <div class="text-right"><img class="mar-t-20" src="/assets/poweredby.png" width="40%"></div>\n    </div>\n  </div>\n</div>\n')}]),b.module("page404/page404-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("page404/page404-navbar.tpl.html","")}]),b.module("page404/page404.tpl.html",[]).run(["$templateCache",function(a){a.put("page404/page404.tpl.html",'<div class="row">\n  <div class="col-md-12">\n    \n  </div>\n</div>\n')}]),b.module("profile/company/dialog/addUserToCompany.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/addUserToCompany.tpl.html",'<div class="modal-header">\n <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12">\n    <h3><strong translate>Add user manually</strong></h3>\n   </div>\n  </div>\n </div>\n</div>\n<div class="modal-body" ng-show="usersQuotaExceeded">\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12">\n    <p translate>You\'ve exceeded the users limit for your company. Please contact your support service.</p>\n   </div>\n  </div>\n </div>\n</div>\n<div ng-show="!usersQuotaExceeded">\n <form class="form" name="AddUserForm" novalidate cl-server-validate="{400: \'BadUser\', 403: \'UserExists\'}">\n  \x3c!-- Turn of autofill --\x3e\n  <input type="password" name="fakepassword" style="display: none;">\n  <input type="text" name="fakename" style="display: none;">\n  <div class="modal-body">\n   <div class="container-fluid">\n    <div class="form-group" ng-class="{ \'has-error\' : AddUserForm.name.$invalid && AddUserForm.name.$dirty }">\n     <label translate>user name</label>\n     <input class="form-control" name="name" ng-model="newUser.name" ng-minlength="1" ng-maxlength="40" ng-required="true"\n            placeholder="{{\'Please enter user\\\'s name\' | translate}}" ui-validate="{trimming: $root.fieldIsTrimming}"\n            ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}"\n            popover popover-trigger="value.invalid" popover-placement="bottom">\n    </div>\n    <div class="form-group" ng-class="{ \'has-error\' : AddUserForm.email.$invalid && AddUserForm.email.$dirty }">\n     <label translate>Email</label>\n     <input type="email" class="form-control" name="email" ng-model="newUser.email" ng-maxlength="40" ng-required="true"\n            placeholder="{{\'Please enter user\\\'s email\' | translate}}"\n            ng-validate-hint="{required: \'field should be filled-in\', email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover\n            popover-trigger="value.invalid" popover-placement="bottom">\n    </div>\n     <div class="form-group">\n       <label translate>Invite language</label>\n       <select class="form-control" ng-model="inviteUsersLang" ng-value="inviteUsersLang">\n         <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="inviteUsersLang == item.value" once-text="item.label"></option>\n       </select>\n     </div>\n     <div class="form-group">\n     <label translate>password</label>\n     <div class="row">\n      <div class="col-sm-8">\n       <div class="form-group enable-pointer has-feedback has-feedback-left" ng-class="{\'has-error\' : AddUserForm.password.$error.maxlength || AddUserForm.password.$error.minlength }" >\n                <span class="p-cursor-pointer form-control-feedback" ng-click="togglePasswordView()">\n                  <i class="icon icon-2 icon-password-off"></i>\n                </span>\n        <input ng-model="newUser.password" ng-maxlength="32" ng-minlength="6" type="{{passwordIsVisible ? \'text\' : \'password\'}}"\n               name="password" placeholder="{{ \'Please enter user\\\'s password\' | translate}}" ng-trim="false" class="form-control"\n               autocomplete="new-password" ng-validate-hint="{required: \'field should be filled-in\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}"\n               popover popover-trigger="value.invalid" popover-placement="bottom" ng-required="true">\n       </div>\n      </div>\n      <div class="form-group col-sm-4">\n       <button class="btn btn-primary btn-block" ranslate ng-click="generatePassword()" translate>Generate</button>\n      </div>\n     </div>\n     <div class="input-group-hint text-danger" ng-if="form.linkOption.password.$error.maxlength || form.linkOption.password.$error.minlength" translate>4 ~ 32 characters.</div>\n    </div>\n    <label translate>Set expiry date for account</label>\n    <input type="checkbox" ng-model="AddUserForm.isSetPeriod"/>\n    <div class="form-group" ng-if="AddUserForm.isSetPeriod">\n     <div class="col-sm-12">\n      <div class="col-sm-8 b-link-options" ng-class="{\'has-error\': AddUserForm.ttl.$error.required}">\n       <label class="col-md-6" translate>Active Until</label>\n       <input type="text" name="ttl" class="form-control b-link-options__ttl half-width mar-b-10" datepicker-popup="{{datePickerOpt.format}}"\n              datepicker-options="datePickerOpt" min-date="datePickerMin" show-button-bar="false"\n              is-open="datePickerOpt.isOpen" close-on-date-selection="true" readonly ng-required="true"\n              ng-model="newUser.expired" ng-focus="openDatePicker()" placeholder="{{ \'Choose date\' | translate }}" ng-change="checkDate()">\n      </div>\n     </div>\n    </div>\n    <div class="col-md-12">\n     <span class="help-block alert alert-danger" ng-if="AddUserForm.ttl.$error.required && AddUserForm.isSetPeriod" translate>You should choose date</span>\n     <span class="help-block alert alert-danger" ng-if="AddUserForm.$dirty && AddUserForm.$error.UserExists" translate>User already exists</span>\n    </div>\n   </div>\n  </div>\n  <div class="modal-footer">\n   <div class="row">\n    <div class="col-md-12 text-right modal-controls">\n     <button type="button" id="create_account_btn" class="btn btn-primary btn-lg btn-wide" ng-disabled="AddUserForm.$invalid" ng-click="createUser()">{{\'Create user\' | translate}}</button>\n     <button type="button" class="btn btn-default btn-lg btn-wide" ng-click="$dismiss()" translate>Cancel</button>\n    </div>\n   </div>\n  </div>\n </form>\n</div>\n')}]),b.module("profile/company/dialog/alertCardInfoDelete.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/alertCardInfoDelete.tpl.html",'<form name="alertDeleteCardInfo" novalidate autocomplete="off">\n <div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-md-12">\n     <h3>\n      <strong translate>Do you want to delete card information?</strong>\n     </h3>\n    </div>\n   </div>\n  </div>\n </div>\n <div class="modal-body">\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-md-12">\n     <div class="form-group">\n      <span translate>If you delete the card information, you\'ll need to enter your payment information again.</span>\n      <span translate>Also, the payment due next month will be deleted</span>\n     </div>\n    </div>\n   </div>\n  </div>\n </div>\n <div class="modal-footer">\n     <div class="container-fluid">\n      <div class="row">\n       <div class="col-md-12 text-left">\n     <button type="button" class="btn btn-primary btn-wide" ng-click="deleteCardInfo()" translate>Delete information</button>\n     <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n    </div>\n   </div>\n  </div>\n </div>\n</form>\n')}]),b.module("profile/company/dialog/alertUserBlock.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/alertUserBlock.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3>\n          <strong ng-if="userCnt === 1">{{\'Block USERNAME ?\'|translate:\'{USERNAME: user.name}\'}}</strong>\n          <strong ng-if="userCnt > 1">{{\'Block USERCOUNT users?\'|translate:\'{USERCOUNT: userCnt}\'}}</strong>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <span translate>The user will not be able to login to company cloud and view any files.</span>\n        <br />\n        <span translate>You can unblock the user later.</span>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="sendRequest()" translate>Yes, block</button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/alertUserDelete.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/alertUserDelete.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3>\n          <strong ng-if="userCnt === 1">{{\'Delete USERNAME ?\'|translate:\'{USERNAME: user.name}\'}}</strong>\n\n          <strong ng-if="userCnt > 1">{{\'Delete USERCOUNT users?\'|translate:\'{USERCOUNT: userCnt}\'}}</strong>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <p class="mar-b-0" translate>The user will not be able to login to company cloud and view any files. </p>\n        <p><strong translate>You can not undo this operation</strong></p>\n        \x3c!--p>\n          <label>\n            <input type="checkbox" ng-model="needWipe" />\n            <span translate>Do remote wipe?</span>\n          </label>\n        </p--\x3e\n        \x3c!--p ng-if="needWipe" translate>If you\'ll initiate remote wipe procedure next time device came online all stored data on it will be removed.</p--\x3e\n        <p>\n          <label>\n            <input type="checkbox" ng-model="migrateFiles" />\n            <span translate>Keep user files?</span>\n          </label>\n        </p>\n        <p ng-if="!migrateFiles" class="text-danger" translate>\n          WARNING! All folders and its content owned by this user will be deleted including copies in collaborator\'s accounts\n        </p>\n        <div ng-if="migrateFiles" class="pad-b-10">\n          <p translate>Select a user who will own all folders of the deleted users:</p>\n          <div class="row">\n            <div class="col-md-8">\n              <select name="migrateTo" class="form-control" ng-model="form.migrateTo"\n                      ng-options="item.login_token as item.name for item in users">\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-6 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="sendRequest()" translate>Yes, delete</button>\n      </div>\n      <div class="col-md-6 text-right">\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/alertUserRemoteWipe.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/alertUserRemoteWipe.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3 translate>User devices</h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <table class="table table-condensed b-layout-fixed">\n          <thead>\n            <tr>\n              <th translate>Device name</th>\n              <th translate>Registered</th>\n              <th translate>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="device in devices" ng-class="{\'disabled\' : device.remote_wipe}">\n              <td class="b-content-list__cell">\n                {{device.device_description}}\n              </td>\n              <td class="b-content-list__cell">\n                {{device.created | date}}\n              </td>\n              <td class="b-content-list__cell">\n                <span ng-if="device.remote_wipe" translate>Awaiting wiping</span>\n                <span ng-if="!device.remote_wipe" translate>Connected</span>\n              </td>\n              <td class="b-content-list__cell nowrap">\n                <a href="#" ng-if="!device.remote_wipe" ng-click="disconnectDevice(device)" translate>Disconnect</a>\n                <a href="#" ng-if="device.remote_wipe" ng-click="cancelDisconnection(device)" translate>Cancel disconnection</a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <br />\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/alertUserRemoteWipeConfirm.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/alertUserRemoteWipeConfirm.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3 translate>Disconnect device</h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <p translate>You\'re about to unbound device.</p>\n        \x3c!--p>\n          <label>\n            <input type="checkbox" ng-model="remoteWipe" />\n            <span translate>Do remote wipe?</span>\n          </label>\n        </p--\x3e\n        \x3c!--p ng-if="remoteWipe" translate>If you\'ll initiate remote wipe procedure next time device came online all stored data on it will be removed.</p--\x3e\n        \x3c!--p ng-if="remoteWipe" translate>Before this procedure will started it also could be cancelled.</p--\x3e\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="sendRequest()" translate>Yes, disconnect</button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/bulkPermission.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/bulkPermission.tpl.html",'<div class="modal-header">\n <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12">\n    <h3 ng-if="users.selectedItems.length > 1" translate="Permission change for NUMBERS users" translate-values="{NUMBERS: users.selectedItems.length}"></h3>\n    <h3 ng-if="users.selectedItems.length == 1" translate="Permission change for NAME" translate-values="{NAME: users.selectedItems[0].name}"></h3>\n    <h3 ng-if="currentGroup" translate="Permission change for group GROUPNAME" translate-values="{GROUPNAME: currentGroup.name}"></h3>\n    <span ng-if="currentGroup" class="fail-text" translate>Group permission have higher priority than user permission settings</span>\n   </div>\n  </div>\n </div>\n</div>\n<div class="modal-body">\n <div class="container-fluid mar-b-10">\n  <div class="row">\n   <tabset justified="true">\n    <tab class="bulk-permission-tab">\n     <tab-heading>\n      <span translate>Allow Printing</span>\n     </tab-heading>\n     <div ng-hide="sendPrintPermission">\n      <button class="col-xs-12 btn btn-primary" ng-click="bulkPrintingPermission(true)" translate>Allowed</button>\n      <button class="col-xs-12 btn btn-primary mar-t-5" ng-click="bulkPrintingPermission(false)" translate>Restricted</button>\n     </div>\n     <button type="submit" ng-show="sendPrintPermission" class="b-layout-full-width btn btn-primary" cl-btn-loading="sendPrintPermission">Loading</button>\n    </tab>\n    <tab class="bulk-permission-tab">\n     <tab-heading>\n      <span translate>Allow Download</span>\n     </tab-heading>\n     <div ng-hide="sendDownloadPermission">\n      <button class="col-xs-12 btn btn-primary" ng-click="bulkDownloadPermission(true)" translate>Allowed</button>\n      <button class="col-xs-12 btn btn-primary mar-t-5" ng-click="bulkDownloadPermission(false)" translate>Restricted</button>\n     </div>\n     <button type="submit" ng-show="sendDownloadPermission" class="b-layout-full-width btn btn-primary" cl-btn-loading="sendDownloadPermission">Loading</button>\n    </tab>\n    <tab class="bulk-permission-tab">\n     <tab-heading>\n      <span translate>Allow download via PC client</span>\n     </tab-heading>\n     <div ng-hide="sendPCDownloadPermission">\n      <button class="col-xs-12 btn btn-primary" ng-click="bulkPCDownloadPermission(true)" translate>Allowed</button>\n      <button class="col-xs-12 btn btn-primary mar-t-5" ng-click="bulkPCDownloadPermission(false)" translate>Restricted</button>\n     </div>\n     <button type="submit" ng-show="sendPCDownloadPermission" class="b-layout-full-width btn btn-primary" cl-btn-loading="sendPCDownloadPermission">Loading</button>\n     <div class="col-xs-12 mar-t-5 help-block">\n      <span class="fail-color" translate>All data on local computers synced with PC client will be deleted if you apply this setting</span>\n     </div>\n    </tab>\n    <tab class="bulk-permission-tab">\n     <tab-heading>\n      <span translate>Use Watermark</span>\n     </tab-heading>\n     <div ng-hide="sendWatermarkPermission">\n      <button class="col-xs-12 btn btn-primary" ng-click="bulkWatermarkPermission(true)" translate>Enable</button>\n      <button class="col-xs-12 btn btn-primary mar-t-5" ng-click="bulkWatermarkPermission(false)" translate>Disable</button>\n     </div>\n     <button type="submit" ng-show="sendWatermarkPermission" class="b-layout-full-width btn btn-primary" cl-btn-loading="sendWatermarkPermission">Loading</button>\n    </tab>\n   </tabset>\n  </div>\n </div>\n</div>')}]),b.module("profile/company/dialog/cardEdit.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/cardEdit.tpl.html",'<form name="cardEditForm" ng-submit="sendRequest(cardEditForm)" novalidate autocomplete="off" cl-server-validate="{404: \'UserNotFound\'}">\n <div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-md-12">\n     <h3>\n      <strong translate>Card information update</strong>\n     </h3>\n    </div>\n   </div>\n  </div>\n </div>\n\n <div class="modal-body card-edit">\n   <div class="container-fluid" ng-if="!cardExist || (!is_update && cardExist)">\n    <div class="row">\n      <h5 class="bold" translate>Select plan(Including VAT)</h5>\n    </div>\n     <select class="col-md-6" name="billing_plan_to" ng-model="billing_form.plan_form" ng-change="changeCompanyPlan()" ng-if="is_custom" required>\n       <option ng-repeat="plan in billing_plan" value="{{plan}}" ng-required="true" ng-selected="billing_plan[0] === plan" once-text="plan | translate"></option>\n     </select>\n     <select class="col-md-6" name="billing_plan_to" ng-model="billing_form.plan_form" ng-if="!is_custom" required>\n       <option ng-repeat="plan in billing_plan" value="{{plan}}" ng-required="true" ng-selected="billing_plan[0] === plan" once-text="plan | translate"></option>\n     </select>\n     <div class="col-md-12 pad-a-0 mar-t-20" ng-if="!is_custom">\n      <button type="button" class="btn btn-sm btn-default ng-scope btn-primary" ng-click="changeCompanyPlan(\'classic\')" translate>Classic</button>\n      <button type="button" class="btn btn-sm btn-default ng-scope btn-primary" ng-click="changeCompanyPlan(\'premium\')" translate>Premium</button>\n      <button type="button" class="btn btn-sm btn-default ng-scope btn-primary" ng-click="changeCompanyPlan(\'platinum\')" translate>Platinum</button>\n    </div>\n     <div class="col-md-12 pad-a-0 mar-t-20 text-right">\n      <label class="pad-a-0" translate>Planned amount</label>\n      <label class="pad-a-0" ng-model="amount" ng-bind="(amount | currency:\'￦\').slice(0, -3)" ng-if="type === \'iamport\'"></label>\n      <label class="pad-a-0" ng-model="amount" ng-bind="(amount | currency:\'¥\').slice(0, -3)" ng-if="type === \'eximbay\'"></label>\n      \x3c!--<label class="pad-a-0" translate>Won</label>--\x3e\n    </div>\n     <label class="col-md-12 help-block alert alert-warning" translate>Initial amount is 0, If you want exact amount, please select billing plan.</label>\n   </div>\n  <hr ng-if="!cardExist || (!is_update && cardExist)">\n  <div class="container-fluid" ng-if="(!cardExist || (is_update && cardExist)) && type === \'iamport\'">\n     <div class="row">\n       <h5 class="bold" translate>Payment Details</h5>\n     </div>\n     <div class="row">\n       <label class="mar-l-10" translate>(Available cards: Kookmin, BC, Shinhan, Lotte, Hyundai, NH, Citi)</label>\n     </div>\n     <div class="col-md-12 pad-a-0 mar-t-5">\n       <img src="/assets/visaCard.png" class="mar-l-10" width="5%" alt="visaCard">\n       <img src="/assets/masterCard.png" class="mar-l-10" width="5%" alt="masterCard">\n       \x3c!--<img src="/assets/americanExpressCard.png" class="mar-l-10" width="5%" alt="americanExpressCard">--\x3e\n     </div>\n     <div class="col-xs-12 pad-a-0 mar-t-20">\n       <label class="col-xs-6 control-label text-left mar-t-5" translate>Card number</label>\n       <div class="col-xs-6 control-label text-left">\n         <input type="checkbox" class="mar-l-10" ng-model="cardInfo.is_corp_card" /><label class="mar-l-10" translate>Corporation card</label>\n       </div>\n     </div>\n     <div class="col-md-12 pad-a-0 mar-t-5 text-center">\n       <div class="col-md-2 text-center" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_number.$invalid}">\n         <input type="text" name="card_number" class="col-xs-1 form-control sm-form-control xs-form-control" ng-model="card_number[0]" maxlength="4" ng-required="true" ng-minlength="4" ng-pattern="$root.CONST.fe.onlyDigit">\n       </div>\n       <div class="col-md-2 text-center" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_number2.$invalid}">\n         <input type="password" name="card_number2" class="col-xs-1 mar-l-10 mar-l-10-xs form-control sm-form-control xs-form-control" ng-model="card_number[1]" maxlength="4" ng-required="true" ng-minlength="4" ng-pattern="$root.CONST.fe.onlyDigit">\n       </div>\n       <div class="col-md-2 text-center" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_number3.$invalid}">\n         <input type="password" name="card_number3" class="col-xs-1 mar-l-10 mar-l-10-xs form-control sm-form-control xs-form-control" ng-model="card_number[2]" maxlength="4" ng-required="true" ng-minlength="4" ng-pattern="$root.CONST.fe.onlyDigit">\n       </div>\n       <div class="col-md-2 text-center" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_number4.$invalid}">\n         <input type="password" name="card_number4" class="col-xs-1 mar-l-10 mar-l-10-xs form-control sm-form-control xs-form-control" ng-model="card_number[3]" maxlength="4" ng-required="true" ng-minlength="4" ng-pattern="$root.CONST.fe.onlyDigit">\n       </div>\n     </div>\n     <div class="col-xs-12 pad-a-0 mar-t-20">\n       <div class="col-xs-6 pad-a-0 mar-t-20-xs">\n         <label class="col-xs-4 control-label text-left" translate>Card expiry</label>\n         <div class="col-xs-3" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_expiry1.$invalid}">\n           <input type="text" name="card_expiry1" class="col-xs-2 form-control sm-form-control xs-form-control" ng-model="card_expiry[0]" maxlength="4" ng-required="true" ng-minlength="4" ng-pattern="$root.CONST.fe.year" placeholder="{{\'2017\'| translate}}">\n         </div>\n         <div class="col-xs-3" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_expiry2.$invalid}">\n           <input type="text" name="card_expiry2" class="col-xs-1 mar-l-5 mar-l-10-xs form-control sm-form-control xs-form-control" ng-model="card_expiry[1]" maxlength="2" ng-required="true" ng-minlength="2" ng-pattern="$root.CONST.fe.month" placeholder="{{\'08\'| translate}}">\n         </div>\n       </div>\n       <div class="col-xs-6 pad-a-0 mar-t-20-xs" ng-if="!cardInfo.is_corp_card">\n         <label class="col-xs-6 control-label text-left" translate>Card password</label>\n         <div class="col-xs-6" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.card_password.$invalid}">\n           <input type="password" name="card_password" class="col-xs-6 form-control sm-form-control xs-form-control" ng-model="cardInfo.card_password" maxlength="2" ng-required="true" ng-minlength="2" ng-pattern="$root.CONST.fe.onlyDigit" placeholder="{{\'The first two digits\'| translate}}">\n         </div>\n       </div>\n     </div>\n     <div class="col-xs-12 pad-a-0 mar-t-20">\n       <div class="col-xs-6 pad-a-0" ng-if="!cardInfo.is_corp_card">\n         <label class="col-xs-6 control-label text-left" translate>User name</label>\n         <input type="text" class="col-xs-4" name="user_name" ng-model="cardInfo.user_name" required>\n       </div>\n       <div class="col-xs-6 pad-a-0" ng-if="!cardInfo.is_corp_card">\n         <label class="col-xs-6 control-label text-left" translate>User birth</label>\n         <div class="col-xs-6" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.user_birth.$invalid}">\n           <input type="text" name="user_birth" class="col-xs-12 form-control sm-form-control xs-form-control" ng-model="cardInfo.user_birth" maxlength="6" ng-required="true" ng-minlength="6" ng-pattern="$root.CONST.fe.birthDay" placeholder="{{\'901231\'| translate}}">\n         </div>\n       </div>\n       <div class="col-xs-6 pad-a-0" ng-if="cardInfo.is_corp_card">\n         <label class="col-xs-6 control-label text-left" translate>Business Number</label>\n         <div class="col-xs-6" ng-class="{\'has-error\': cardEditForm.$dirty && cardEditForm.user_birth.$invalid}">\n           <input type="text" name="user_birth" class="col-xs-12 form-control sm-form-control xs-form-control" ng-model="cardInfo.user_birth" maxlength="10" ng-required="true" ng-minlength="10" ng-pattern="$root.CONST.fe.businessNumber" placeholder="{{\'1234567890\'| translate}}">\n         </div>\n       </div>\n       <div class="col-md-12 pad-a-0 mar-t-20 mar-t-50-xs">\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_number.$error.pattern || cardEditForm.card_number2.$error.pattern || cardEditForm.card_number3.$error.pattern || cardEditForm.card_number4.$error.pattern)" translate>Card numbers are only number</div>\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_number.$error.minlength || cardEditForm.card_number2.$error.minlength || cardEditForm.card_number3.$error.minlength || cardEditForm.card_number4.$error.minlength)" translate>Card numbers field must be 4 characters</div>\n\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_expiry1.$error.pattern)" translate>Please enter the year of validity</div>\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_expiry2.$error.pattern)" translate>Please enter the month of validity</div>\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_expiry1.$error.minlength)" translate>field must be 2 characters</div>\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && (cardEditForm.card_expiry2.$error.minlength)" translate>field must be 4 characters</div>\n\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && cardEditForm.card_password.$error.pattern" translate>Password is only digit</div>\n         <div class="help-block alert alert-danger" ng-if="cardEditForm.$dirty && cardEditForm.card_password.$error.minlength" translate>field must be 2 characters</div>\n\n         <div class="help-block alert alert-danger" ng-if="!cardInfo.is_corp_card && cardEditForm.$dirty && cardEditForm.user_birth.$error.pattern" translate>Please enter your date of birth correctly</div>\n         <div class="help-block alert alert-danger" ng-if="!cardInfo.is_corp_card && cardEditForm.$dirty && cardEditForm.user_birth.$error.minlength" translate>field must be 6 characters</div>\n\n         <div class="help-block alert alert-danger" ng-if="cardInfo.is_corp_card && cardEditForm.$dirty && cardEditForm.user_birth.$error.pattern" translate>Please enter business number except -</div>\n         <div class="help-block alert alert-danger" ng-if="cardInfo.is_corp_card && cardEditForm.$dirty && cardEditForm.user_birth.$error.minlength" translate>field must be 10 characters</div>\n       </div>\n       \x3c!--<div class="col-md-12 pad-a-0 mar-t-20 text-center">--\x3e\n         \x3c!--&lt;!&ndash;<div class="col-md-2 control-label text-right">&ndash;&gt;--\x3e\n           \x3c!--<input type="checkbox" class="mar-r-20" ng-model="billing_form.agree"/>--\x3e\n         \x3c!--&lt;!&ndash;</div>&ndash;&gt;--\x3e\n         \x3c!--<a href ng-click="showTerms()" translate>I agree to provide my personal information to the payment service provider.</a>--\x3e\n       \x3c!--</div>--\x3e\n     </div>\n   </div>\n </div>\n\n <div class="modal-footer">\n  <div class="container-fluid">\n   <div class="row">\n    <div class="col-md-12 text-left text-center mar-t-5">\n      <div ng-if="!is_custom">\n        <button type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary" ng-if="cardExist && (is_update && cardExist)" ng-disabled="cardEditForm.$invalid " ng-bind="\'Update\' | translate"></button>\n        <button type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary" ng-if="cardExist && (!is_update && cardExist)" ng-disabled="!billing_form.company_plan_to" ng-bind="\'Update\' | translate"></button>\n        <button id="payment" type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary" ng-if="!cardExist" ng-disabled="cardEditForm.$invalid || !billing_form.company_plan_to" ng-bind="\'Update\' | translate"></button>\n      </div>\n      <div ng-if="is_custom">\n        <button type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary" ng-disabled="cardEditForm.$invalid" ng-bind="\'Update\' | translate"></button>\n      </div>\n    </div>\n   </div>\n  </div>\n </div>\n</form>\n')}]),b.module("profile/company/dialog/changeCompanyAdmin.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/changeCompanyAdmin.tpl.html",'<div class="modal-header">\n <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12">\n    <h3>\n     <strong translate>Select users to be company admin</strong>\n          <span ng-if="selected.length">\n            (<span translate="COUNT selected" translate-values="{COUNT: selected.length}"></span>)\n          </span>\n    </h3>\n    <div class="help-block alert alert-danger restrict-text mar-b-0">\n     <span translate>If you change your company administrator, account that you are currently using will not be an administrator account anymore.</span>\n     <span translate>And your current account will be automatically logged out.</span>\n    </div>\n   </div>\n  </div>\n </div>\n</div>\n<div class="modal-body pad-t-0">\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12">\n    <input ng-model="filterBy" class="form-control" placeholder="{{\'filter by name or email\' | translate}}" ng-change="applyFilter()" />\n\n    <div class="pad-t-10" ng-if="!users.length">\n     <div ng-if="filterBy === \'\'" class="alert alert-info text-center" translate>There are no users</div>\n     <div ng-if="filterBy !== \'\'" class="alert alert-info text-center" translate>There are no users under current filter</div>\n    </div>\n    <div class="pad-t-10"\n         ng-show="users.length"\n         cl-folder-contents="users"\n         cl-folder-contents-type="\'list\'"\n         cl-folder-opts="gridOptions"></div>\n   </div>\n  </div>\n </div>\n</div>\n<div class="modal-footer">\n <div class="container-fluid">\n  <div class="row">\n   <div class="col-md-12 text-left modal-controls">\n    <button type="button" class="btn btn-primary btn-lg btn-wide" ng-disabled="selectedItems.length === 0" ng-click="done()"><span translate>Done</span></button>\n    <button type="button" class="btn btn-primary btn-lg btn-wide" ng-click="$dismiss()" translate>Cancel</button>\n   </div>\n  </div>\n </div>\n</div>\n')}]),b.module("profile/company/dialog/changeUserPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/changeUserPassword.tpl.html",'<form name="changePasswordForm" ng-submit="sendRequest(changePasswordForm)" novalidate autocomplete="off" cl-server-validate="{404: \'UserNotFound\'}">\n  <div class="modal-header">\n    <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <h3><strong>{{\'Change password for USERNAME\'|translate:\'{USERNAME: user.name}\'}}</strong></h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-body">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group" ng-class="{\'has-error\': changePasswordForm.$dirty && changePasswordForm.new_password.$invalid}">\n            <input type="password" name="new_password" class="form-control" ng-model="password.new" placeholder="{{\'new password\' | translate}}" ng-required="true" ng-change="validatePasswords()" ng-validate-hint="{minlength: \'\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div ng-class="{\'has-error\': changePasswordForm.$dirty && changePasswordForm.repeat_new_password.$invalid}">\n            <input type="password" name="repeat_new_password" class="form-control" ng-model="password.repeat" placeholder="{{\'repeat password\' | translate}}" ng-required="true" ng-change="validatePasswords()" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="has-error" ng-if="changePasswordForm.$error.minLength">\n            <span class="help-block" translate>The password field must be more than 6 characters</span>\n          </div>\n          <div class="has-error" ng-if="!changePasswordForm.$error.minLength && changePasswordForm.$error.passwordsDontMatch">\n            <span class="help-block" translate>The password and confirmation password do not match</span>\n          </div>\n          <div class="has-error" ng-if="changePasswordForm.$error.UserNotFound || changePasswordForm.$error.ServerError">\n            <span class="help-block" translate>Server error occurred during request processing</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12 text-left">\n          <button type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary btn-wide" ng-disabled="changePasswordForm.$invalid" translate>Change password</button>\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("profile/company/dialog/groupAddUsers.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/groupAddUsers.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3>\n          <strong translate>Select users to add</strong>\n          <span ng-if="selected.length">\n            (<span translate="COUNT selected" translate-values="{COUNT: selected.length}"></span>)\n          </span>\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <input ng-model="filterBy" class="form-control" placeholder="{{\'filter by name or email\' | translate}}" ng-change="applyFilter()" />\n\n        <div class="pad-t-10" ng-if="!users.length">\n          <div ng-if="filterBy === \'\'" class="alert alert-info text-center" translate>There are no users</div>\n          <div ng-if="filterBy !== \'\'" class="alert alert-info text-center" translate>There are no users under current filter</div>\n        </div>\n\n        <div class="pad-t-10"\n          ng-show="users.length"\n          cl-folder-contents="users"\n          cl-folder-contents-type="\'list\'"\n          cl-folder-opts="gridOptions"></div>\n\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="done()" cl-simple-focus="true" ng-disabled="!outer.selectedItems.length"><span translate>Done</span></button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/groupDelete.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/groupDelete.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong>{{\'Delete group GROUPNAME?\'|translate:\'{GROUPNAME: GroupsService.current().name}\'}}</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        {{\'You\\\'re about to remove group GROUPNAME. Users will not be removed. This action can\\\'t be undone. Are you sure?\'|translate:\'{GROUPNAME: GroupsService.current().name}\'}}\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="removeGroup()" cl-simple-focus="true"><span translate>Delete group</span></button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/groupNew.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/groupNew.tpl.html",'<form name="NewGroupForm" ng-submit="createGroup(NewGroupForm)" cl-server-validate="{403: \'GroupAlreadyExists\'}">\n  <div class="modal-header">\n    <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <h3><strong translate>New group</strong></h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-body">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <input class="form-control" ng-model="groupName" placeholder="{{\'Enter group name\' | translate}}" cl-simple-focus="true" />\n          <div class="help-block alert alert-danger" ng-if="NewGroupForm.$error.GroupAlreadyExists" translate>Group with following name is already exist</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12 text-left">\n          <button type="submit" class="btn btn-primary btn-wide" ng-disabled="!groupName.length" translate>Create group</button>\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("profile/company/dialog/groupRemoveUsers.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/groupRemoveUsers.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate="Remove users from group GROUPNAME?" translate-values="{GROUPNAME: GroupsService.current().name}"></strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12" translate="You\'re about to remove USERCOUNT users from group GROUPNAME. Are you sure?" translate-values="{USERCOUNT: outer.selectedItems.length, GROUPNAME: GroupsService.current().name}"></div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="removeUsers()" cl-simple-focus="true"><span translate>Remove users</span></button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/groupRename.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/groupRename.tpl.html",'<form name="RenameGroupForm" ng-submit="renameGroup(RenameGroupForm)" cl-server-validate="{403: \'GroupAlreadyExists\'}">\n  <div class="modal-header">\n    <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <h3><strong translate>Rename group</strong></h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-body">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <input class="form-control" ng-model="groupName" placeholder="{{\'Enter group name\' | translate}}" cl-simple-focus="true" cl-simple-focus-select="true" />\n          <div class="help-block alert alert-danger" ng-if="RenameGroupForm.$error.GroupAlreadyExists" translate>Group with following name is already exist</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12 text-left">\n          <button type="submit" class="btn btn-primary btn-wide" ng-disabled="!groupName.length" translate>Rename</button>\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("profile/company/dialog/inviteUserToCompany.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/inviteUserToCompany.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>Add users</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body" ng-form="InviteUserForm" cl-server-validate="{400: \'BadUser\', 403: \'UserExists\'}">\n  <div class="container-fluid">\n    <div class="row form-group">\n      <div class="col-md-12">\n        <tags-input id="invite_field" name="inviteUsers" ng-model="inviteUsers" add-on-space="true" add-on-paste="true" paste-split-pattern="[\\s;,]+" min-length="0" max-length=40 allowed-tags-pattern="^.+@.+\\..+?$" placeholder="{{\'Invite people via email\' | translate}}"></tags-input>\n        <div class="help-block alert alert-danger" ng-if="InviteUserForm.$error.BadUser" translate>Some invites were not sent. Please, check entered emails or phones.</div>\n        <div class="help-block alert alert-danger" ng-if="InviteUserForm.$error.UserExists" translate>User already exists.</div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label translate>Invite language</label>\n      <select class="form-control" ng-model="inviteUsersLang" ng-value="inviteUsersLang">\n        <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="inviteUsersLang == item.value" once-text="item.label"></option>\n      </select>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 text-left">\n        <button type="button" class="btn btn-primary btn-wide" ng-disabled="!inviteUsers.length" ng-click="sendInvites()" translate>Send invites</button>\n        <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/paymentTerms.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/paymentTerms.tpl.html",'<div class="modal-header">\n  <button type="button" class="close" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <h3><strong translate>Payment Terms</strong></h3>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-body">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12 title-terms">\n        <h3 class="pull-left" translate>User Agreement</h3>\n        <div class="pull-right">\n          <label translate>All agree</label>\n          <input type="checkbox" class="mar-l-10" ng-click="allChecked()" ng-model="eachTerms.all"/>\n        </div>\n      </div>\n      <div class="col-xs-12">\n        <div class="contract">\n          <div class="contract-contents">\n            <h4>정기과금(자동승인) 이용약관</h4>\n            <label class="mar-t-20">1. 사용자는 본 신청서에 서명하거나 공인인증 및 그에 준하는 전자 인증절차를 통함으로써 본 서비스를 이용할 수 있습니다.</label>\n            <label class="mar-t-5">2. 사용자가 납부하여야 할 요금에 대하여 별도의 통지 없이 사용자의 지급결제수단 정보를 사용하여 청구기관이 정한 지정 승인일(휴일인 경우 익영업일)에 승인 납부 됩니다.</label>\n            <label class="mar-t-5">3. 사용자는 사용자와 결제기관과의 이용약관이나 약정서 규정에도 불구하고 안심클릭, ISP 등 별도의 인증 절차 없이 정기과금(자동승인) 처리 절차에 의하여 승인하여도 이의가 없습니다.</label>\n            <label class="mar-t-5">4. 정기과금(자동승인) 승인일을 사용자가 지정하지 않은 경우 청구기관(재화 등을 공급하는 자)으로부터 사전 통지 받은 승인일을 최초 승인일로 하며, 승인일에 동일한 수종의 정기과금(자동승인)이 있는 경우 승인 우선 순위는 사용자의 결제기관이 정하는 바에 따릅니다.</label>\n            <label class="mar-t-5">5. 정기과금 승인일이 영업일이 아닌 경우에는 다음 영업일을 승인일로 하며, 사용자가 정기과금(자동승인)의 신청(신규, 해지, 변경)을 원하는 경우 해당 승인일 30일 전까지 청구기관에 통지해야 합니다.</label>\n            <label class="mar-t-5">6. 사용자의 지급결제수단의 승인한도가 청구기관의 청구금액보다 부족하거나 지급제한, 연체 등 사용자의 과실에 의해 발생하는 손해의 책임은 사용자에게 있습니다.</label>\n            <label class="mar-t-5">7. 사용자가 본 서비스를 이용하는 과정에서 발생하는 청구금액의 이의 등 이의가 있는 경우에는 사용자와 청구기관이 협의하여 조정키로 합니다.</label>\n            <label class="mar-t-5">8. 회사는 사용자와의 정기과금(자동승인) 사용과 관련된 구체적인 권리, 의무를 정하기 위하여 본 약관과는 별도로 자동이체서비스이용약관을 제정할 수 있습니다.</label>\n            <label class="mar-t-5">9. 회사가 제공하는 서비스는 별도의 고지가 없는 한 기본적으로 유료이며, 구체적인 요금관련 사항에 대하여는 서비스 제공을 위한 웹사이트에 고지합니다. 회사의 사정에 따라 요금제를 변경할 수 있으며, 사용자에게 고지 후 변경 청구할 수 있습니다.</label>\n            <label class="mar-t-5">10. 요금제를 변경하고자 할 때 서비스는 바로 변경이 되지만 변경된 요금은 선납이기 때문에 다음 납부일에 맞춰 변경됩니다.</label>\n            <label class="mar-t-5">11. 사용자가 신청한 신용카드 정기출금 결제는 결제대행사 나이스페이먼츠㈜에서 대행하기 때문에, 사용자의 결제내역에는 정기출금과 관련한 이용가맹점이 결제대행사로 표기됩니다.</label>\n            <h4 class="mar-t-20">요금의 계산</h4>\n            <label class="mar-t-5">1. 서비스 이용료의 과금개시일은 서비스 개통일부터 입니다.</label>\n            <label class="mar-t-5">2. 일액 요금의 계산은 00:00부터 24:00까지를 1일로 하며, 서비스 제공의 개시시간 또는 종료시간이 1일의 중도인 경우에는 이를 1일로 간주합니다.</label>\n            <label class="mar-t-5">3. 월이용료의 계산은 매달 1일부터 해당월 말일까지를 1개월의 이용요금으로 하며, 서비스 개통일, 변경일, 해지일이 당해 해당월의 중도인 경우에는 이용요금을 해당월에 이용한 일수로 요금을 계산합니다. 이 경우 해지일은 이용 일수에 포함시키지 아니하며, 개통일과 변경일은 이용일수에 포함하여 계산합니다.</label>\n            <label class="mar-t-5">4. 월 이용료는 선불입니다. 이용료의 계산은 첫 달은 과금 개시일로부터 그 달의 말일까지 일수 계산하여 선불 청구합니다. 그 이후는 회원이 선택한 월 이용료를 매달 정해진 날짜에 선불 청구합니다.</label>\n            <label class="mar-t-5">5. 정기권(6개월 또는 1년)의 경우 일시불로 청구합니다.</label>\n            <h4 class="mar-t-20">개인정보 수집 및 이용동의</h4>\n            <label class="mar-t-5">1. 수집 및 이용목적: 나이스페이먼츠㈜ 정기과금(자동승인)서비스를 통한 요금 수납, 민원처리 및 상담요청 응답</label>\n            <label class="mar-t-5">2. 수집항목: 성명, 전화번호, 이메일, 생년월일 6자리, 카드번호, 카드사, 카드유효기간, 휴대폰번호</label>\n            <label class="mar-t-5">3. 보유 및 이용기간: 수집 이용 동의일부터 자동이체서비스 종료일(해지일)까지며, 보유는 해지일로부터 5년간 보존 후 파기(관계 법령에 의거). 회사는 서비스 향상을 위해서 수집된 항목을 나이스페이먼츠㈜에 제공할 수 있습니다.</label>\n            <label class="mar-t-5">4. 신청자는 개인정보 수집 및 이용을 거부할 수 있습니다. 단, 거부 시 자동이체서비스 신청이 처리되지 않습니다.</label>\n          </div>\n          <div class="contract-agree">\n            <label class="pull-right mar-l-10" ng-bind="\'I accept\' | translate"></label><input type="checkbox" class="pull-right" ng-model="eachTerms.agree1" ng-click="allUnChecked()"/>\n          </div>\n        </div>\n\n        <div class="contract">\n          <div class="contract-contents">\n            <h4 class="mar-t-20">클라우다이크 SaaS 유료결제 이용약관</h4>\n            <h5 class="mar-t-20">제 1 장 총칙</h5>\n            <label class="mar-t-20">제 1 조 (목적)</label>\n            <label class="mar-t-5">본 약관은 주식회사 ASD 코리아(이하 ‘회사’라 함)가 제공하는 클라우다이크 유료서비스를 이용함에 있어 회사와 회원간 제반 법률관계 및 기타 관련 사항을 규정함을 목적으로 합니다.</label>\n            <label class="mar-t-20">제 2 조 (약관의 효력 및 변경)</label>\n            <label class="mar-t-5">① 회원은 본 신청서에 서명하거나 공인인증 및 그에 준하는 전자 인증절차를 통함으로써 본 서비스를 이용할 수 있습니다.</label>\n            <label class="mar-t-5">② 회원이 납부하여야 할 요금에 대하여 별도의 통지 없이 회원의 지급결제수단 정보를 사용하여 청구기관이 정한 지정 승인일(휴일인 경우 익영업일)에 승인 납부 됩니다.</label>\n            <label class="mar-t-5">③ 회원은 회원과 결제기관과의 이용약관이나 약정서 규정에도 불구하고 안심클릭, ISP 등 별도의 인증 절차 없이 정기과금 (자동승인) 처리 절차에 의하여 승인하여도 이의가 없습니다.</label>\n            <label class="mar-t-5">④ 정기과금 (자동승인) 승인일을 회원이 지정하지 않은 경우 청구기관(재화 등을 공급하는 자)으로부터 사전 통지 받은 승인일을 최초 승인일로 하며, 승인일에 동일한 수종의 정기과금 (자동승인)이 있는 경우 승인 우선 순위는 회원의 결제기관이 정하는 바에 따릅니다.</label>\n            <label class="mar-t-5">⑤ 정기과금 승인일이 영업일이 아닌 경우에는 다음 영업일을 승인일로 하며, 회원이 정기과금(자동승인)의 신청(신규, 해지, 변경)을 원하는 경우 해당 승인일 30일 전까지 청구기관에 통지해야 합니다.</label>\n            <label class="mar-t-5">⑥ 회원의 지급결제수단의 승인한도가 청구기관의 청구금액보다 부족하거나 지급제한, 연체 등 회원의 과실에 의해 발생하는 손해의 책임은 회원에게 있습니다.</label>\n            <label class="mar-t-5">⑦ 회원이 본 서비스를 이용하는 과정에서 발생하는 청구금액의 이의 등 이의가 있는 경우에는 회원과 청구기관이 협의하여 조정키로 합니다.</label>\n            <label class="mar-t-5">⑧ 회사는 회원과의 정기과금 (자동승인) 이용과 관련된 구체적인 권리, 의무를 정하기 위하여 본 약관과는 별도로 자동이체 서비스 이용약관을 제정할 수 있습니다.</label>\n            <label class="mar-t-5">⑨ 회사가 제공하는 서비스는 별도의 고지가 없는 한 기본적으로 유료이며, 구체적인 요금관련 사항에 대하여는 서비스 제공을 위한 웹사이트에 고지합니다. 회사의 사정에 따라 요금제를 변경할 수 있으며, 회원에게 고지 후 변경 청구할 수 있습니다. </label>\n            <label class="mar-t-5">⑩ 요금제를 변경하고자 할 때 서비스는 바로 변경이 되지만 변경된 요금은 선납이기 때문에 다음 납부일에 맞춰 변경됩니다. </label>\n            <h5 class="mar-t-20">제 2 장 유료결제의 이용</h5>\n            <label class="mar-t-20">제 3 조 (서비스 결제 등)</label>\n            <label class="mar-t-5">① 서비스 이용료의 과금개시일은 서비스 개통일부터 입니다.</label>\n            <label class="mar-t-5">② 일액 요금의 계산은 00:00부터 24:00까지를 1일로 하며, 서비스 제공의 개시시간 또는 종료시간이 1일의 중도인 경우에는 이를 1일로 간주합니다.</label>\n            <label class="mar-t-5">③ 월이용료의 계산은 매달 1일부터 해당 월 말일까지를 1개월의 이용요금으로 하며, 서비스 개통일, 변경일, 해지일이 당해 해당월의 중도인 경우에는 이용요금을 해당월에 이용한 일수로 요금을 계산합니다. 이 경우 해지일은 이용 일수에 포함시키지 아니하며, 개통일과 변경일은 이용일수에 포함하여 계산합니다.</label>\n            <label class="mar-t-5">④ 월 이용료는 선불입니다. 이용료의 계산은 첫 달은 과금 개시일로부터 그 달의 말일까지 일수 계산하여 선불 청구합니다. 그 이후는 회원이 선택한 월 이용료를 매달 정해진 날짜에 선불 청구합니다.</label>\n            <label class="mar-t-5">⑤ 정기권(1개월, 6개월 또는 1년)의 경우 일시불로 청구합니다.</label>\n            <label class="mar-t-5">⑥ 사용자가 신청한 신용카드 정기출금 결제는 결제대행사 나이스페이먼츠㈜에서 대행하기 때문에, 사용자의 결제내역에는 정기출금과 관련한 이용가맹점이 결제대행사로 표기됩니다.</label>\n            <h5 class="mar-t-20">제 3 장 개인정보 수집 및 이용동의</h5>\n            <label class="mar-t-5">1. 수집 및 이용목적: 나이스페이먼츠㈜ 정기과금(자동승인) 서비스를 통한 요금 수납, 민원처리 및 상담요청 응답</label>\n            <label class="mar-t-5">2. 수집항목: 성명, 전화번호, 이메일, 생년월일 6자리, 카드번호, 카드사, 카드유효기간, 휴대폰번호</label>\n            <label class="mar-t-5">3. 보유 및 이용기간: 수집 이용 동의일부터 자동이체서비스 종료일(해지일)까지며, 보유는 해지일로부터 5년간 보존 후 파기(관계 법령에 의거). 회사는 서비스 향상을 위해서 수집된 항목을 나이스페이먼츠㈜에 제공할 수 있습니다.</label>\n            <label class="mar-t-5">4. 신청자는 개인정보 수집 및 이용을 거부할 수 있습니다. 단, 거부 시 자동이체서비스 신청이 처리되지 않습니다.</label>\n            <h5 class="mar-l-5">(부칙)</h5>\n            <h5 class="mar-l-5">(시행일) 본 약관은 2017년 10월 31일부터 시행합니다.</h5>\n          </div>\n          <div class="contract-agree">\n            <label class="pull-right mar-l-10" ng-bind="\'I accept\' | translate"></label><input type="checkbox" class="pull-right" ng-model="eachTerms.agree2" ng-click="allUnChecked()"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md-12">\n        <button type="button" class="btn btn-primary btn-wide" ng-click="nextPage()" ng-disabled="!eachTerms.agree1 || !eachTerms.agree2" ng-bind="\'Next\' | translate"></button>\n        <button type="button" class="btn btn-primary btn-wide" ng-click="$close()" ng-bind="\'Close\' | translate"></button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/dialog/updateUserQuotas.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/dialog/updateUserQuotas.tpl.html",'<form name="updateQuotaForm" ng-submit="sendRequest(updateQuotaForm)" novalidate autocomplete="off" cl-server-validate="{404: \'UserNotFound\'}">\n  <div class="modal-header">\n    <button type="button" class="close" ng-click="$dismiss()"><i class="icon icon-cross"></i></button>\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <h3>\n            <strong ng-if="userCnt === 1">{{\'Update quota size for USERNAME\'|translate:\'{USERNAME: user.name}\'}}</strong>\n            <strong ng-if="userCnt > 1">{{\'Update quota size for USERCOUNT users\'|translate:\'{USERCOUNT: userCnt}\'}}</strong>\n          </h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-body">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group" ng-class="{\'has-error\': updateQuotaForm.$dirty && updateQuotaForm.newQuota.$invalid}">\n            <input type="number" name="newQuota" class="form-control"\n                   ng-model="quota.new"\n                   placeholder="{{\'new quota size, GB\' | translate}}"\n                   ng-required="true" ng-pattern="$root.CONST.fe.quotaPattern"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12 text-left">\n          <button type="submit" cl-btn-loading="sendingRequest" class="btn btn-primary btn-wide" ng-disabled="updateQuotaForm.$invalid" translate>Update quota</button>\n          <button type="button" class="btn btn-link" ng-click="$dismiss()" translate>Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),b.module("profile/company/folderSizeCalculate.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/folderSizeCalculate.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 full-height">\n    <div class="b-content b-content-wrap b-content-table">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Folder usage</h2>\n          </div>\n        </div>\n        <div>\n          <span translate>To check the capacity of each folder in use, click the \'Request to calculate\' button</span>\n          <div ng-if="elapsedTime">\n            <span translate>Elapsed time</span>\n            <span once-text="elapsedTime"></span>\n          </div>\n        </div>\n        <div>\n          <button class="btn btn-primary" ng-click="requestCalculate()" ng-disabled="requestRunning" translate>Request to calculate</button>\n          <button class="btn btn-primary" ng-click="refreshPage()" ng-disabled="refreshRequest" translate>Refresh</button>\n        </div>\n        <div class="col-xs-12 full-height" ng-if="ready">\n          <div class="metadata-tree b-menu" all-content="true" done-time="doneTime" cl-folder-as-tree-simple-with-size></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/folders.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/folders.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate="COMPANY folders" translate-values="{COMPANY: CurrentCompany.name}"></h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="input-group">\n              <span class="input-group-addon"><span class="fa fa-search"></span></span>\n              <input type="text" ng-model="filter" class="form-control" placeholder="{{\'filter by name or owner\' | translate}}" ng-change="applyFilter()" />\n            </div>\n          </div>\n          <div class="b-content__header-description">\n            <small class="text-muted" translate="Every user in your company will see the folder in COMPANY folder list but will not be able to view its contents until owner will grant the access." translate-values="{COMPANY: CurrentCompany.name}"></small>\n          </div>\n        </div>\n        <div ng-if="!folders.length">\n          <div ng-if="filter == \'\'" class="alert alert-info text-center" translate>There are no folders</div>\n          <div ng-if="filter != \'\'" class="alert alert-info text-center" translate>There are no folders under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper"\n            ng-show="folders.length"\n            ng-class="{\'b-content\': mode == \'list\'}"\n            cl-folder-contents="folders"\n            cl-folder-contents-type="\'list\'"\n            cl-folder-opts="gridOptions"\n            cl-context-menu-entry="companyFoldersContextMenu">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/groups.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/groups.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n\n    \x3c!-- Wizard --\x3e\n\n    <div class="b-content" ng-if="!GroupsService.list().length">\n      <div class="b-content b-content-simple">\n        <form ng-submit="createFirstGroup()">\n          <div class="col-md-offset-3 col-md-6 text-center">\n            <p><i class="fa fa-users icon-big icon-blue"></i></p>\n            <div class="v-wrap" style="height: 80px">\n              <div class="v-inner" ng-if="!shared.readyToCreateState">\n                <h4 translate>You can use groups to organize members of your organization and then easily invite the whole group of people to a folder at once.</h4>\n              </div>\n              <div class="v-inner" ng-if="shared.readyToCreateState">\n                <input class="form-control form-control-wide" ng-model="shared.firstGroupName" cl-simple-focus="true" />\n              </div>\n            </div>\n            <button class="btn btn-primary btn-wide" ng-if="!readyToCreateState" ng-click="shared.readyToCreateState = true" translate >Create a first group</button>\n            <button class="btn btn-primary btn-wide" type="submit" ng-if="readyToCreateState" translate>Create group</button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n\n    \x3c!-- List of groups --\x3e\n\n    <div class="b-content full-height" ng-if="GroupsService.list().length">\n      <div class="visible-xs visible-sm b-scaffold">\n        <div class="row scrollable left">\n          <div class="header">\n            <h2 class="text-muted p-uc" translate>Groups</h2>\n          </div>\n          <div class="menu">\n            <ul class="list-dashed">\n              <li ng-repeat="group in GroupsService.list() | orderBy:\'name\'" ng-class="{active: GroupsService.current() === group}">\n                <a ng-click="GroupsService.setCurrent(group);" title="{{group.name}}">\n                  <div class="count">{{group.members_count}}</div>\n                  <div class="title">{{group.name}}</div>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="row scrollable right">\n          <h3>{{\'\\\'GROUPNAME\\\' group of users\'|translate:\'{GROUPNAME: GroupsService.current().name}\'}}</h3>\n\n              <div ng-if="GroupsService.current().users && !GroupsService.current().users.length">\n                <p class="buffer" translate>This group looks empty. Try to add some users!</p>\n\n                <p><button class="btn btn-primary btn-wide" ng-click="addUsers()" translate>Add users</button></p>\n              </div>\n\n              <div ng-if="GroupsService.current().users && GroupsService.current().users.length">\n                <div class="row groups-btn-row">\n                  <div class="col-sm-6 col-xs-12">\n                    <button class="btn btn-default" ng-click="removeUsers()" ng-disabled="!selectedItems.length" translate>Remove selected users</button>\n                  </div>\n                  <div class="col-sm-6 col-xs-12 groups-add-user">\n                    <button class="btn btn-primary" ng-click="addUsers()" ng-disabled="UsersService.list().length === GroupsService.current().users.length" translate>Add users</button>\n                  </div>\n                </div>\n\n                <table class="col-lg-12 col-md-12 mar-t-20">\n                  <tr>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow Printing</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow Download</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow download via PC client</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Use Watermark</th>\n                  </tr>\n                  <tr>\n                    <td ng-if=\'GroupsService.current().can_print\' class=\'success-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-print\'></i></td>\n                    <td ng-if=\'!GroupsService.current().can_print\' class=\'fail-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-print\'></i></td>\n\n                    <td ng-if=\'GroupsService.current().can_download\' class=\'success-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-download-alt\'></i></td>\n                    <td ng-if=\'!GroupsService.current().can_download\' class=\'fail-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-download-alt\'></i></td>\n\n                    <td ng-if=\'GroupsService.current().pc_can_download\' class=\'success-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-hdd\'></i></td>\n                    <td ng-if=\'!GroupsService.current().pc_can_download\' class=\'fail-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-hdd\'></i></td>\n\n                    <td ng-if=\'GroupsService.current().use_watermarks\' class=\'success-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-tint\'></i></td>\n                    <td ng-if=\'!GroupsService.current().use_watermarks\' class=\'fail-color text-center col-lg-3 col-md-3\'><i class=\'glyphicon glyphicon-tint\'></i></td>\n                  </tr>\n                </table>\n\n                <div class="pad-t-10"\n                  cl-folder-contents="GroupsService.current().users"\n                  cl-folder-contents-type="\'list\'"\n                  cl-folder-opts="gridOptions"></div>\n              </div>\n        </div>\n      </div>\n\n      <table class="hidden-xs hidden-sm b-scaffold">\n        <tr>\n          <td class="left header">\n            <h2 class="text-muted p-uc" translate>Groups</h2>\n          </td>\n          <td rowspan="2" class="right">\n            <div class="scrollable"><div class="inner">\n\n              <h3>{{\'\\\'GROUPNAME\\\' group of users\'|translate:\'{GROUPNAME: GroupsService.current().name}\'}}</h3>\n\n              <div ng-if="GroupsService.current().users && !GroupsService.current().users.length">\n                <p class="buffer" translate>This group looks empty. Try to add some users!</p>\n\n                <p><button class="btn btn-primary btn-wide" ng-click="addUsers()" translate>Add users</button></p>\n              </div>\n\n              <div ng-if="GroupsService.current().users && GroupsService.current().users.length">\n                <div class="buffer-top row groups-btn-row">\n                  <div class="col-lg-6 col-md-12">\n                    <button class="btn btn-default" ng-click="removeUsers()" ng-disabled="!selectedItems.length" translate>Remove selected users</button>\n                  </div>\n                  <div class="col-lg-6 col-md-12 groups-add-user">\n                    <button class="btn btn-primary" ng-click="addUsers()" ng-disabled="UsersService.list().length === GroupsService.current().users.length" translate>Add users</button>\n                  </div>\n                </div>\n\n                <table class="col-lg-12 col-md-12 mar-t-20">\n                  <tr>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow Printing</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow Download</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Allow download via PC client</th>\n                    <th class="col-lg-3 col-md-3 break-word text-center" translate>Use Watermark</th>\n                  </tr>\n                  <tr>\n'+"                    <td ng-if='GroupsService.current().can_print' class='success-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-print'></i></td>\n                    <td ng-if='!GroupsService.current().can_print' class='fail-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-print'></i></td>\n\n                    <td ng-if='GroupsService.current().can_download' class='success-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-download-alt'></i></td>\n                    <td ng-if='!GroupsService.current().can_download' class='fail-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-download-alt'></i></td>\n\n                    <td ng-if='GroupsService.current().pc_can_download' class='success-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-hdd'></i></td>\n                    <td ng-if='!GroupsService.current().pc_can_download' class='fail-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-hdd'></i></td>\n\n                    <td ng-if='GroupsService.current().use_watermarks' class='success-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-tint'></i></td>\n                    <td ng-if='!GroupsService.current().use_watermarks' class='fail-color text-center col-lg-3 col-md-3'><i class='glyphicon glyphicon-tint'></i></td>\n                  </tr>\n                </table>\n                <div class=\"pad-t-10\"\n                  cl-folder-contents=\"GroupsService.current().users\"\n                  cl-folder-contents-type=\"'list'\"\n                  cl-folder-opts=\"gridOptions\"></div>\n              </div>\n\n            </div></div>\n          </td>\n        </tr>\n        <tr>\n          <td class=\"left menu\">\n            <div class=\"scrollable\">\n\n              <ul class=\"list-dashed\">\n                <li ng-repeat=\"group in GroupsService.list() | orderBy:'name'\" ng-class=\"{active: GroupsService.current() === group}\">\n                  <a ng-click=\"GroupsService.setCurrent(group);\" title=\"{{group.name}}\">\n                    <div class=\"count\">{{group.members_count}}</div>\n                    <div class=\"title\">{{group.name}}</div>\n                  </a>\n                </li>\n              </ul>\n\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  </div>\n</div>\n")}]),b.module("profile/company/log.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/log.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table" cl-on-scroll>\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Activity log</h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="input-group">\n              <span class="input-group-addon"><span class="fa fa-search"></span></span>\n                <input class="form-control log-filter" type="text" ng-model="filter" placeholder="{{\'filter by name\' | translate}}" ng-change="applyFilter()" />\n            </div>\n          </div>\n        </div>\n        <div ng-if="!events.length">\n          <div ng-if="filter == \'\'" class="alert alert-info text-center" translate>There are no events</div>\n          <div ng-if="filter != \'\'" class="alert alert-info text-center" translate>There are no events under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper" ng-if="events.length">\n          <table class="table table-condensed table-hover table-simple-header b-layout-fixed b-content-list">\n            <colgroup>\n              <col width="*" />\n              <col class="hidden-xs" width="*" />\n              <col class="hidden-xs" width="15%" />\n              <col width="150px" />\n              <col class="b-table-rpad" >\n            </colgroup>\n            <thead>\n              <tr>\n                <th class="pad-l-40" translate>Event</th>\n                <th class="hidden-xs"></th>\n                <th class="hidden-xs text-right" translate>Item size</th>\n                <th class="text-right text-center-xs" translate>Date</th>\n                <th class="hidden-xs"></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="item in events | filter: {owner_name: filter}">\n                <td class="b-content-list__cell pad-l-40">\n                  <div class="b-activity" cl-item-log="company" item-info="item" item-transform="transform"></div>\n                </td>\n                <td class="hidden-xs b-content-list__cell">\n                  <a class="b-content-list__filename jq-ellipsis" jq-ellipsis-row="1" ng-if="!item.key && !item.content.size && !item.logType.disabledLink" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n\n                  <a class="b-content-list__filename jq-ellipsis" jq-ellipsis-row="1" ng-if="!item.key && item.content.size && !item.logType.disabledLink" ui-sref="drive.preview({path: $root.parsePath(item.path).path, file: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n\n                  <a class="b-content-list__filename jq-ellipsis" jq-ellipsis-row="1" ng-if="!item.key && item.logType.disabledLink" href="" once-text="item.path | filename:\'/\'" once-title="tem.path | filename:\'/\'" disabled></a>\n\n                  <span ng-if="item.key" cl-item-log-description item-key="item.key" item-value="item.value"></span>\n                </td>\n                <td class="hidden-xs b-content-list__cell text-right">\n                  <span class="nowrap" ng-if="item.content.size" once-text="item.content.size | bytes"></span>\n                </td>\n                <td class="b-content-list__cell text-right text-muted">\n                  <span class="nowrap" once-text="item.timestamp | datetime"></span>\n                </td>\n                <td class="hidden-xs"></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/product.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/product.tpl.html",'<div class="row full-height">\n <div class="col-md-12 b-content-wrap full-height">\n  <div class="b-content b-content-plain">\n   <div class="b-content__wrapper" ng-if="!$root.CurrentCompany.need_payment_select">\n    <div class="b-content__header">\n     <div class="b-content__header-title">\n      <h2 class="text-muted p-uc" translate>Product</h2>\n     </div>\n     </div>\n    <div class="form-horizontal">\n     <div class="row">\n      <div class="col-md-2 text-left">\n       <label class="control-label"><strong translate>My orders</strong></label>\n      </div>\n      <div class="col-md-10">\n       <table class="table b-table__tokens">\n        <colgroup>\n         <col width="10%">\n         <col width="10%">\n         <col width="10%">\n         <col width="20%">\n         <col width="20%">\n        </colgroup>\n        <thead>\n        <tr>\n         <th class="text-center hidden-xs hidden-sm" translate>Status</th>\n         <th class="text-center" translate>Plan</th>\n         <th class="text-center hidden-xs hidden-sm" translate>Paid date</th>\n         <th class="text-center hidden-xs hidden-sm" translate>Active date</th>\n         <th class="text-center" translate>End date</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="order in myOrders" ng-if="order.name">\n          <td class="text-center hidden-xs hidden-sm">\n            <span class="nowrap text-center label label-success" ng-if="order.status === \'running\'" translate>running</span>\n            <span class="nowrap text-center label label-danger" ng-if="order.status === \'expired\'" translate>Expired</span>\n            <span class="nowrap text-center label label-default" ng-if="order.status === \'scheduled\'" translate>Scheduled</span>\n          </td>\n          <td class="text-center">\n            <span class="nowrap text-center" once-text="order.name"></span>\n          </td>\n          <td class="text-center hidden-xs hidden-sm">\n            <span class="nowrap text-center" once-text="order.created | date:\'yyyy / MM / dd\'"></span>\n          </td>\n          <td class="text-center hidden-xs hidden-sm">\n            <span class="nowrap text-center" once-text="order.start_at | date:\'yyyy / MM / dd a HH:mm\'"></span>\n          </td>\n          <td class="text-center">\n            <span class="nowrap text-center" once-text="order.end_at | date:\'yyyy / MM / dd a HH:mm\'"></span>\n          </td>\n        </tr>\n        </tbody>\n       </table>\n      </div>\n     </div>\n    </div>\n    <hr/>\n    <div class="form-horizontal">\n     <div class="row">\n      <div class="col-md-2 text-left">\n       <strong translate>Card status</strong>\n      </div>\n      <div class="col-md-10">\n       <div class="col-md-2">\n        <span ng-if="payInfo.type === \'iamport\'" once-text="cardStat.credit_card"></span>\n        <span class="nowrap text-center label label-success" ng-if="payInfo.type === \'eximbay\'" translate>Registered</span>\n       </div>\n       <div class="col-md-2">\n        <span class="mar-r-20" ng-if="payInfo.type === \'iamport\'" once-text="cardStat.name"></span>\n       </div>\n       <span once-text="cardStat.card_number" strong></span>\n        <button class="btn btn-primary" ng-click="cardEdit(false)" ng-if="!cardStat.exist" type="button" translate>Register</button>\n        <button class="btn btn-primary" ng-click="cardDelete()" ng-if="cardStat.exist" type="button" translate>Delete information</button>\n        <button class="btn btn-primary" ng-click="cardEdit(true)" ng-if="cardStat.exist && payInfo.type === \'iamport\'" type="button" translate>Card information update</button>\n        <button class="btn btn-primary" ng-click="cardEdit(false)" ng-if="cardStat.exist" type="button" translate>Change plan</button>\n      </div>\n     </div>\n    </div>\n    <hr>\n    <div class="form-horizontal">\n     <div clas="row">\n      <div class="col-md-2 text-left pad-a-0">\n       <strong translate>Payment history</strong>\n      </div>\n      <div class="col-md-10">\n       <div class="alert alert-info text-center" ng-if="!payInfo.payment_history.length" translate>There are no payment history</div>\n       <div ng-if="payInfo.payment_history.length > 0">\n        <table class="table b-table__tokens">\n         <colgroup>\n          <col width="10%">\n          <col width="10%">\n          <col width="10%">\n          <col width="10%">\n          <col width="35%">\n          <col width="10%">\n         </colgroup>\n         <thead>\n         <tr>\n           <th class="hidden-xs hidden-sm" translate>Status</th>\n           <th translate>Plan</th>\n           <th class="hidden-xs hidden-sm" translate>Amount</th>\n           <th class="hidden-xs hidden-sm" translate>Payment date</th>\n           <th translate>Period</th>\n           <th translate>Receipt</th>\n         </tr>\n         </thead>\n         <tbody>\n         <tr ng-repeat="item in payInfo.payment_history">\n           <td class="hidden-xs hidden-sm">\n             <span once-text="item.status" translate></span>\n           </td>\n           <td>\n             <span once-text="item.plan" translate></span>\n           </td>\n           <td class="hidden-xs hidden-sm">\n             <span once-text="item.amount"></span>\n           </td>\n           <td class="hidden-xs hidden-sm">\n             <span once-text="item.paid_at | date:\'yyyy / MM / dd\'"></span>\n           </td>\n           <td>\n             <span once-text="item.period.start_at | date:\'yyyy / MM / dd a HH:mm\'"></span>\n             <span> ~ </span>\n             <span once-text="item.period.end_at | date:\'yyyy / MM / dd a HH:mm\'"></span>\n           </td>\n           <td>\n             <a href="{{item.receipt}}" target="_blank"><img src="/assets/receipt.png" width="20px"></a>\n           </td>\n         </tr>\n         </tbody>\n        </table>\n       </div>\n      </div>\n     </div>\n    </div>\n   </div>\n   <div class="b-content__wrapper" ng-if="$root.CurrentCompany.need_payment_select">\n    <div class="b-content__header">\n     <div class="b-content__header-title">\n      <h2 class="text-muted p-uc" translate>Choose payment method</h2>\n     </div>\n     <div class="col-md-12">\n      <h4 translate>You used trial plan now. You can only use 10GB storage with 10 users during 1 month.</h4>\n      <h4 translate>Use other plans for more storage and more users!</h4>\n     </div>\n     <div class="col-md-12">\n      <hr/>\n      <div class="col-md-6">\n       <button class="btn btn-primary btn-full" translate ng-click="paymentMethod(\'ko\')">Pay by korean card</button>\n      </div>\n      <div class="col-md-6 mar-t-5-xs mar-t-5-sm">\n       <button class="btn btn-primary btn-full" translate ng-click="paymentMethod(\'jp\')">Pay by japanese card</button>\n      </div>\n     </div>\n    </div>\n   </div>\n  </div>\n  </div>\n </div>\n')}]),b.module("profile/company/settings.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/settings.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>My company account</h2>\n          </div>\n        </div>\n        <form class="form-horizontal" name="CompanyAccountForm" autocomplete="off" novalidate cl-server-validate="{409: \'DomainExists\'}">\x3c!-- TODO: Check https://asdtech.atlassian.net/browse/CLX-443 when it will be done for correct error code --\x3e\n          <div class="form-group" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.name.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Company name</strong></label>\n            <div class="col-md-4">\n              <input type="text" name="name" class="form-control" ng-model="companyForm.name" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="40" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Company logo</strong></label>\n            <div class="col-md-4">\n              <div class="b-company-logo" nv-file-drop uploader="logoUploader">\n                <div ng-if="companyForm.logo">\n                  <div class="b-navbar-logo" ng-style="{backgroundImage: \'url(\' + companyForm.logo + \')\'}"></div>\n                  <button class="close" type="button" ng-click="removeCompanyLogo()"><i class="icon icon-cross"></i></button>\n                </div>\n                <div ng-if="!companyForm.logo" nv-file-over uploader="logoUploader">\n                  <div class="b-navbar-logo" ng-show="uploadingLogo">\n                    <span class="vertical-guide"></span>\n                    <span translate>Please, wait...</span>\n                  </div>\n                  <div ng-show="!uploadingLogo">\n                    <span class="droptext" translate>Drop here or</span>\n                    <span class="b-uploader__file-select" type="button">\n                      <input name="file" type="file" nv-file-select uploader="logoUploader" />\n                      <a href="" translate>choose from disk</a>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.domain.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Company domain</strong></label>\n            <div class="col-md-4">\n              <div class="input-group">\n                <input type="text" name="domain" class="form-control"\n                       ng-model="companyForm.domain"\n                       ng-required="true" ng-minlength="1" ng-maxlength="63"\n                       ng-pattern="$root.CONST.fe.domainAllowedCharactersPattern"\n                       ng-validate-hint="{\n                         required: \'field should be filled-in\',\n                         minlength: \'field must be more than 1 character\',\n                         maxlength: \'field should be less than 63 characters\',\n                         pattern: \'Domain name can contain only latin letters, digits and hyphens. Also, domain name could not start or end with a hyphen.\',\n                         reserved: \'This domain name is reserved and cannot be used\'\n                       }"\n                       popover popover-trigger="value.invalid" popover-placement="bottom" />\n                <span class="input-group-addon">.{{CONST.be.web_host}}</span>\n              </div>\n            </div>\n            <div class="col-md-6">\n              <label class="control-label text-left text-danger" ng-if="CompanyAccountForm.$error.DomainExists" translate>Domain already used by another account.</label>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Change company admin</strong></label>\n            <div class="col-md-4">\n              <button type="button" class="btn btn-primary form-control" translate ng-click="changeCompanyAdmin()">Change company admin</button>\n            </div>\n          </div>\n\n          <div class="form-group" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.notification_email.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Notification email</strong></label>\n            <div class="col-md-4">\n              <input type="email" name="notification_email" class="form-control" ng-model="companyForm.notification_email" ng-required="true"\n                     ng-minlength="1" ng-maxlength="40" popover popover-trigger="value.invalid" popover-placement="bottom"\n                     ng-validate-hint="{required: \'field should be filled-in\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\', email: \'field should be a valid email address\'}">\n            </div>\n          </div>\n\n          <hr />\n\n          <div class="form-group" ng-if="CONST.be.auth.windows.signin">\n            <label class="col-md-2 control-label text-left"><strong translate>Login method for users</strong></label>\n            <div class="col-md-4">\n              <div class="radio">\n                <label><input type="radio" name="loginMethod" ng-model="formExtend.loginMethod" value="email" ng-checked="formExtend.loginMethod === \'email\'" />{{\'Email\' | translate}}</label>\n              </div>\n              <div class="radio">\n                <label><input type="radio" name="loginMethod" ng-model="formExtend.loginMethod" value="ldap" ng-checked="formExtend.loginMethod === \'ldap\'" />{{\'LDAP\' | translate}}</label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group" ng-if="formExtend.loginMethod == \'ldap\'">\n            <div class="col-md-offset-2 col-md-4 form-ldap-input">\n              <div class="col-md-7" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.ldap_address.$invalid}">\n                <input type="text" class="form-control" name="ldap_address"\n                       ng-model="formLDAP.ldap_address" placeholder="{{\'LDAP server\' | translate}}"\n                       ng-minlength="1" ng-maxlength="253"\n                       ng-pattern="$root.CONST.fe.fullDomainPattern"\n                       ng-validate-hint="{\n                         minlength: \'field must be more than 1 character\',\n                         maxlength: \'field should be less than 253 characters\',\n                         pattern: \'Domain name can contain only latin letters, digits and hyphens. Also, domain name could not start with a hyphen.\'\n                       }"\n                       popover popover-trigger="value.invalid" popover-placement="bottom" />\n              </div>\n              <div class="col-md-5" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.ldap_port.$error.pattern}">\n                <input type="text" class="form-control" name="ldap_port"\n                       ng-model="formLDAP.ldap_port" placeholder="{{\'port\' | translate}}"\n                       ng-pattern="/^[0-9]{1,5}$/" />\n              </div>\n            </div>\n            <div class="col-md-6">\n              <button type="button" class="btn btn-primary col-md-3" ng-click="testLDAP()" cl-btn-loading="sendLDAPCheck" once-text="\'Test\' | translate"></button>\n              <label class="col-md-8 control-label text-left" ng-class="{\'success-color\': formExtend.testLDAP, \'text-danger\': !formExtend.testLDAP}" ng-show="formExtend.testLDAPResult" ng-bind="formExtend.testLDAPResult"></label>\n            </div>\n          </div>\n          <div class="form-group" ng-if="formExtend.loginMethod == \'ldap\'">\n            <div class="col-md-offset-2 col-md-4 form-ldap-input">\n              <div class="col-md-12" ng-class="{\'has-error\': CompanyAccountForm.$dirty && CompanyAccountForm.ldap_basedn.$invalid}">\n                <input type="text" class="form-control" name="ldap_basedn"\n                       ng-model="companyForm.ldap_basedn" placeholder="{{\'LDAP Base DN\' | translate}}"\n                       ng-minlength="1"\n                       ng-validate-hint="{\n                         minlength: \'field must be more than 1 character\'\n                       }"\n                       popover popover-trigger="value.invalid" popover-placement="bottom" />\n              </div>\n            </div>\n          </div>\n          <div class="form-group" ng-if="formExtend.loginMethod == \'ldap\'">\n            <div class="col-md-offset-2 col-md-4 form-ldap-input">\n              <label class="col-md-3 control-label text-left" translate>LDAP entry</label>\n              <div class="col-md-9">\n                <select class="form-control" ng-model="companyForm.ldap_user_attribute">\n                    <option value="cn" translate>Common name: cn</option>\n                    <option value="sn" translate>Sur name: sn</option>\n                    <option value="ou" translate>Organization unit: ou</option>\n                    <option value="o" translate>Organization: o</option>\n                    <option value="dc" translate>Domain component: dc</option>\n                    <option value="dn" translate>Distinguish name: dn</option>\n                    <option value="uid" translate>User ID: uid</option>\n                    <option value="mail" translate>Email: mail</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <hr ng-if="CONST.be.auth.windows.signin" />\n\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Allow sharing outside the company</strong></label>\n            <div class="col-md-4">\n              <div class="checkbox">\n                <label><input type="checkbox" name="public_links_allow" ng-model="companyForm.public_links_allow" ng-checked="companyForm.public_links_allow" />{{\'By links (read only)\' | translate}}</label>\n              </div>\n              <div class="checkbox">\n                <label><input type="checkbox" name="sharing_outside_allow" ng-model="companyForm.sharing_outside_allow" ng-checked="companyForm.sharing_outside_allow" />{{\'By inviting to folder (read and edit)\' | translate}}</label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Allow users to create company folders</strong></label>\n            <div class="col-md-4">\n              <div class="checkbox">\n                <label><input type="checkbox" name="company_folder_creation_allow" ng-model="companyForm.company_folder_creation_allow" ng-checked="companyForm.company_folder_creation_allow" /></label>\n              </div>\n            </div>\n          </div>\n\n          <hr />\n\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Logout idle user automatically</strong></label>\n            <div class="col-md-4">\n              <div class="checkbox">\n                <label><input type="checkbox" name="logout_timeout_enable" ng-model="companyForm.logout_timeout_enable" ng-checked="companyForm.logout_timeout_enable" /></label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group" ng-if="companyForm.logout_timeout_enable">\n            <label class="col-md-2 control-label text-left"><strong translate>After following period</strong></label>\n            <div class="col-md-2">\n              <table><tr>\n                <td>\n                  <select class="form-control" name="logout_timeout" ng-model="companyForm.logout_timeout">\n                    <option value="180">3</option>\n                    <option value="300">5</option>\n                    <option value="600">10</option>\n                  </select>\n                </td>\n                <td style="padding-left: 10px">\n                  <span translate>min.</span>\n                </td>\n              </tr></table>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Allow use mobile application</strong></label>\n            <div class="col-md-4">\n              <div class="checkbox">\n                <label><input type="checkbox" name="can_use_mobile" ng-model="companyForm.can_use_mobile" ng-checked="companyForm.can_use_mobile" /></label>\n              </div>\n            </div>\n          </div>\n\n          <hr />\n\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Users must change they passwords</strong></label>\n            <div class="col-md-4">\n              <select class="form-control" name="password_lifetime" ng-model="companyForm.password_lifetime">\n                <option value="0" translate>Not set</option>\n                <option value="2592000" translate>Once in month</option>\n                <option value="7884000" translate>Once in 3 months</option>\n                <option value="15768000" translate>Once in 6 months</option>\n                <option value="31536000" translate>Once in a year</option>\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Allow using of previous passwords?</strong></label>\n            <div class="col-md-4">\n              <input type="checkbox" class="form-control" name="password_reuse_allow" ng-model="companyForm.password_reuse_allow" />\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label class="col-md-2 col-xs-4 control-label text-left"><strong translate>Company Storage Size</strong></label>\n            <div class="col-md-3 col-xs-6 control-label text-left">\n              <cl-progress-bar current="{{CurrentCompany.storage_size}}" total="{{CurrentCompany.quota_size}}"></cl-progress-bar>\n              <div class="text-muted pre-text" translate="CURRENT_STORAGE_SIZE of QUOTA_SIZE used" translate-values="{CURRENT_STORAGE_SIZE: CurrentCompany.storage_size, QUOTA_SIZE: CurrentCompany.quota_size}"></div>\n            </div>\n          </div>\n          <hr />\n\n          <div class="form-group">\n            <div class="col-md-offset-2 col-md-4">\n              <button type="submit" class="btn form-control btn-primary btn-full" ng-click="save($event)" ng-disabled="!CompanyAccountForm.$dirty" translate>Save</button>\n            </div>\n            <div class="col-md-6 pad-r-30 col-sm-12 visible-md visible-lg visible-sm">\n              <button type="button" class="btn form-control btn-link pull-right pre-line-text" ng-click="removeAccount()" translate>You can remove your company account</button>\n            </div>\n             <div class="col-md-6 pad-r-30 col-xs-12 visible-xs hidden-xxs">\n              <button type="button" class="btn form-control btn-link pull-right" ng-click="removeAccount()" translate>You can remove your company account (xs)</button>\n            </div>\n             <div class="col-md-6 pad-r-30 col-xs-12 visible-xxs">\n              <button type="button" class="btn form-control btn-link pull-right" ng-click="removeAccount()" translate>You can remove your company account (xxs)</button>\n            </div>\n          </div>\n        </form>\n        <div class="form-horizontal" ng-if="CONST.be.promocode.profile">\n          <hr>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Promo code</strong></label>\n            <div class="col-md-4" ng-if="!promoInfo && !formPromoCode.visible">\n              <button class="btn btn-link" type="button" ng-click="showPromoCodeForm()" translate>Enter promo code</button>\n            </div>\n            <div class="col-md-4" ng-if="!promoInfo && formPromoCode.visible">\n              <form name="PromoCodeForm" ng-submit="PromoCodeForm.$valid && sendPromoCode(PromoCodeForm)" autocomplete="off" ng-server-validate>\n                <div class="input-group" ng-class="{\'has-error\': PromoCodeForm.$dirty && PromoCodeForm.promo_code.$invalid}">\n                  <input type="text" name="promo_code" class="form-control" ng-model="formPromoCode.promo_code" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="top">\n                  <span class="input-group-btn">\n                    <button class="btn btn-primary btn-wide" type="submit">OK</button>\n                  </span>\n                </div>\n              </form>\n            </div>\n            <div class="row container-fluid">\n              <div class="col-md-offset-2 col-md-10" ng-if="promoInfo">\n                <p class="form-control-static text-success"><span translate>Congratulations! You\'ve activated promo code</span> <span ng-bind="promoInfo.name"></span></p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/shares.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/shares.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Company shares</h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="input-group">\n              <span class="input-group-addon"><span class="fa fa-search"></span></span>\n              <input type="text" ng-model="filter" class="form-control" placeholder="{{\'filter by name or owner\' | translate}}" ng-change="applyFilter()" />\n            </div>\n          </div>\n        </div>\n        <div class="pad-t-10" ng-if="!shares.content.length">\n          <div ng-if="filter == \'\'" class="alert alert-info text-center" translate>There are no shares</div>\n          <div ng-if="filter != \'\'" class="alert alert-info text-center" translate>There are no shares under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper"\n            ng-show="shares.content.length"\n            ng-class="{\'b-content\': mode == \'list\'}"\n            cl-folder-contents="shares"\n            cl-folder-contents-type="\'list\'"\n            cl-folder-opts="gridOptions"\n            cl-context-menu-entry="{{contextMenuEntry}}"\n            cl-perfect-scrollbar>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/company/users.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/company/users.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Users</h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="input-group">\n              <span class="input-group-addon"><span class="fa fa-search"></span></span>\n              <input type="text" ng-model="filter" class="form-control" placeholder="{{\'filter by name or email\' | translate}}" ng-change="applyFilter()" />\n            </div>\n          </div>\n        </div>\n        <div ng-if="!users.content.length">\n          <div ng-if="filter == \'\'" class="alert alert-info text-center" translate>There are no users</div>\n          <div ng-if="filter != \'\'" class="alert alert-info text-center" translate>There are no users under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper"\n            ng-show="users.content.length"\n            ng-class="{\'b-content\': mode == \'list\'}"\n            cl-folder-contents="users"\n            cl-folder-contents-type="\'list\'"\n            cl-folder-opts="gridOptions"\n            cl-context-menu-entry="companyUsersContextMenu">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/log.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/log.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table" cl-on-scroll-end="onScrollEnd">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Activity log</h2>\n          </div>\n          <div class="b-content__header-sidebar">\n            <select class="form-control" ng-model="filter.currentEvent" ng-change="selectType($event)">\n              <option value="" translate>Any event</option>\n              <option ng-repeat="item in CONST.fe.events" value="{{item.value}}" once-text="item.label | translate"></option>\n            </select>\n          </div>\n        </div>\n        <div ng-if="!events.length">\n          <div ng-if="!filter" class="alert alert-info text-center" translate>There are no events</div>\n          <div ng-if="filter" class="alert alert-info text-center" translate>There are no events under current filter</div>\n        </div>\n        <div class="b-content__table-wrapper" ng-if="events.length">\n          <table class="table table-condensed table-hover table-simple-header b-layout-fixed b-content-list">\n            <colgroup>\n              <col width="*" />\n              <col class="hidden-xs" width="*" />\n              <col class="hidden-xs" width="15%" />\n              <col width="150px" />\n              <col class="b-table-rpad" >\n            </colgroup>\n            <thead>\n              <tr>\n                <th class="pad-l-40" translate>Event</th>\n                <th class="hidden-xs"></th>\n                <th class="text-right hidden-xs" translate>Item size</th>\n                <th class="text-right text-center-xs" translate>Date</th>\n                <th class="hidden-xs"></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="item in events">\n                <td class="b-content-list__cell pad-l-40">\n                  <div cl-item-log class="b-activity" item-info="item"></div>\n                </td>\n                <td class="hidden-xs b-content-list__cell">\n                  <a class="b-content-list__filename jq-ellipsis" ng-if="!item.key && !item.logType.disabledLink && item.logType.itemType !== \'file\'" jq-ellipsis-row="1" ui-sref="drive({path: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n\n                  <a class="b-content-list__filename jq-ellipsis" ng-if="!item.key && !item.logType.disabledLink && item.logType.itemType === \'file\'" jq-ellipsis-row="1" ui-sref="drive.preview({path: $root.parsePath(item.path).path, file: item.path})" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'"></a>\n\n                  <a class="b-content-list__filename jq-ellipsis" ng-if="!item.key && item.logType.disabledLink" jq-ellipsis-row="1" once-text="item.path | filename:\'/\'" once-title="item.path | filename:\'/\'" href="" disabled></a>\n\n                  <span ng-if="item.key" cl-item-log-description item-key="item.key" item-value="item.value"></span>\n                </td>\n                <td class="hidden-xs b-content-list__cell text-right">\n                  <span class="nowrap" ng-if="item.content.size" once-text="item.content.size | bytes"></span>\n                </td>\n                <td class="b-content-list__cell text-right text-muted">\n                  <span class="nowrap" once-text="item.timestamp | datetime"></span>\n                </td>\n                <td class="hidden-xs"></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/profile-menu.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile-menu.tpl.html",'<ul class="nav navbar-nav" id="menu_items">\n  <li>\n    <a class="text-center ng-scope" ui-sref="drive({path: \'\'})" attr="\'Back to files\' | translate">\n      <i class="icon icon-back-arrow icon-3"></i>\n      <span translate>Back to files</span>\n    </a>\n  </li>\n  <li class="divider-vertical"></li>\n  <cl-menu cl-menu-entry="{{navbarMenu}}" cl-menu-type="nav" cl-menu-namespace="folder-contents"></cl-menu>\n</ul>\n')}]),b.module("profile/profile-sidebar.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile-sidebar.tpl.html",'<div class="metadata-tree b-menu" id="user_list" cl-perfect-scrollbar>\n  <ul class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="profile" class="b-menu__item-link"><span><span translate>Account</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item" ng-if="CurrentUser.company_id && CurrentUser.role == \'company_admin\'" >\n      <a ui-sref="profile.product" class="b-menu__item-link"><span><span translate>Product</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item" ng-if="CurrentUser.company_id && CurrentUser.role == \'company_admin\'">\n      <a ui-sref="profile.company" class="b-menu__item-link"><span><span>{{CurrentCompany.name}}</span></span></a>\n      <ul class="nav nav-pills nav-stacked">\n        <li ui-sref-active="active" class="single-item">\n          <a ui-sref="profile.company.users" class="b-menu__item-link"><span><span translate>Users</span></span></a>\n        </li>\n        <li ui-sref-active="active" class="single-item">\n          <a ui-sref="profile.company.groups" class="b-menu__item-link"><span><span translate>Groups</span></span></a>\n        </li>\n        <li ui-sref-active="active" class="single-item">\n          <a ui-sref="profile.company.folders" class="b-menu__item-link"><span><span translate>Folders</span></span></a>\n        </li>\n        <li ui-sref-active="active" class="single-item">\n          <a ui-sref="profile.company.shares" class="b-menu__item-link"><span><span translate>Company shares</span></span></a>\n        </li>\n        <li ui-sref-active="active" class="single-item">\n          <a ui-sref="profile.company.log" class="b-menu__item-link"><span><span translate>Activity log</span></span></a>\n        </li>\n        <li ui-sref-active="active" class="single-item" ng-if="CurrentUser.userid == 3941">\n          <a ui-sref="profile.company.foldersizecalc" class="b-menu__item-link"><span><span translate>Folder usage</span></span></a>\n        </li>\n      </ul>\n    </li>\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="security" class="b-menu__item-link"><span><span translate>Security</span></span></a>\n    </li>\n    <li ui-sref-active="active" class="single-item">\n      <a ui-sref="log" class="b-menu__item-link"><span><span translate>My activity log</span></span></a>\n    </li>\n  </ul>\n</div>\n')}]),b.module("profile/profile.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/profile.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Account</h2>\n          </div>\n        </div>\n        <form class="form-horizontal" name="AccountForm" ng-submit="save()" autocomplete="off">\n          <div class="form-group" ng-class="{\'has-error\': AccountForm.$dirty && AccountForm.password.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Change password</strong></label>\n            <div class="col-md-4">\n              <input type="password" name="password" class="form-control" ng-model="user.password" placeholder="{{\'new password\' | translate}}"  ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n            </div>\n          </div>\n          <div class="form-group" ng-class="{\'has-error\': AccountForm.$dirty && AccountForm.name.$invalid}">\n            <label class="col-md-2 control-label text-left"><strong translate>Display name</strong></label>\n            <div class="col-md-4">\n              <input type="text" name="name" class="form-control" ng-model="user.name" ng-required="true" ng-maxlength="40" ng-validate-hint="{required: \'field should be filled-in\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Interface language</strong></label>\n            <div class="col-md-4">\n              <select class="form-control" ng-model="user.lang" ng-required="true">\n                <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="CurrentUser.lang == item.value" once-text="item.label"></option>\n              </select>\n            </div>\n          </div>\n          <hr>\n          <div class="form-group">\n            <div class="col-md-offset-2 col-md-4">\n              <button type="submit" class="btn btn-primary btn-full" ng-disabled="AccountForm.$invalid || !AccountForm.$dirty" translate>Save</button>\n            </div>\n            <div class="col-md-offset-4 col-md-2 pad-r-30">\n              <button type="button" class="btn btn-link pull-right" ng-click="removeAccount()" translate>Remove account</button>\n            </div>\n          </div>\n        </form>\n        <div class="form-horizontal" ng-if="CONST.be.promocode.profile">\n          <hr>\n          <div class="form-group">\n            <label class="col-md-2 control-label text-left"><strong translate>Promo code</strong></label>\n            <div class="col-md-4" ng-if="!promoInfo && !formPromoCode.visible">\n              <button class="btn btn-link" type="button" ng-click="showPromoCodeForm()" translate>Enter promo code</button>\n            </div>\n            <div class="col-md-4" ng-if="!promoInfo && formPromoCode.visible">\n              <form class="form-inline" name="PromoCodeForm" ng-submit="PromoCodeForm.$valid && sendPromoCode(PromoCodeForm)" autocomplete="off" novalidate ng-server-validate>\n                <div class="form-group" ng-class="{\'has-error\': PromoCodeForm.$dirty && PromoCodeForm.promo_code.$invalid}">\n                  <input type="text" name="promo_code" class="form-control" ng-model="formPromoCode.promo_code" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n                </div>\n                <button class="btn btn-primary" type="submit" ng-disabled="PromoCodeForm.$invalid">OK</button>\n              </form>\n            </div>\n            <div class="row container-fluid">\n              <div class="col-md-offset-2 col-md-10" ng-if="promoInfo">\n                <p class="form-control-static text-success"><span translate>Congratulations! You\'ve activated promo code</span> <span ng-bind="promoInfo.name"></span></p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("profile/security.tpl.html",[]).run(["$templateCache",function(a){a.put("profile/security.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-plain">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h2 class="text-muted p-uc" translate>Security</h2>\n          </div>\n        </div>\n        <form class="form-horizontal">\n          <div class="row pad-b-10">\n            <div class="col-md-2 text-left">\n              <strong translate>Login aliases</strong>\n            </div>\n            <div class="col-md-5 text-muted">\n              <span translate>Allow login with following emails:</span>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-offset-2 col-md-5">\n              <div ng-if="CurrentUser.logins.length">\n                <div class="row pad-b-10" ng-repeat="login in CurrentUser.logins">\n                  <div class="col-md-12">\n                    <div class="input-group">\n                      <span class="input-group-addon" once-text="\'{{login.split(\':\')[0]}}:\' | translate"></span>\n                      <input class="form-control p-cursor-text" type="text" value="{{login.split(\':\')[1]}}" readonly>\n                      <span class="input-group-btn" ng-if="$first === false">\n                        <button class="btn btn-default" type="button" ng-click="removeLogin(login)"><i class="fa fa-times"></i></button>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div ng-if="CurrentUser.unapproved_logins.length">\n                  <span class="text-muted" translate>Unapproved emails:</span>\n                  <div class="row pad-b-10" ng-repeat="unapproved_login in CurrentUser.unapproved_logins">\n                    <div class="col-md-12  p-cursor-text">\n                      <div class="input-group">\n                        <span class="input-group-addon">{{unapproved_login.split(\':\')[0]}}:</span>\n                        <input class="form-control" type="text" value="{{unapproved_login.split(\':\')[1]}}" readonly>\n                        <span class="input-group-btn">\n                          <button class="btn btn-default" type="button" ng-click="removeLogin(unapproved_login)"><i class="fa fa-times"></i></button>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="row pad-b-10">\n                  <div class="col-md-12">\n                    <ng-form class="form-block" name="formNewLogin" ng-if="!login.needApprove" novalidate autocomplete="off" ng-server-validate>\n                    <form class="form-block" name="formNewLogin" ng-if="!login.needApprove" novalidate autocomplete="off">\n                      <div class="input-group">\n                        <input class="form-control" name="login" type="text" ng-model="login.value" placeholder="{{\'add email or phonenumber\' | translate}}" ng-minlength="6" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming, email: $root.fieldIsPhoneOrEmail}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 40 characters\', email: \'field must be email address\'}" popover popover-trigger="value.invalid" popover-placement="bottom">\n                        <span class="input-group-btn">\n                          <button class="btn btn-primary" type="submit" ng-click="appendLogin(formNewLogin)" ng-disabled="formNewLogin.login.$invalid"><i class="fa fa-plus"></i></button>\n                        </span>\n                      </div>\n                    </ng-form>\n                    <ng-form class="form-block" name="formApproveNewLogin" ng-if="login.needApprove" novalidate autocomplete="off" ng-server-validate>\n                      <div class="input-group">\n                        <input class="form-control" name="code" type="text" ng-model="login.code" placeholder="{{\'enter the code\' | translate}}" ng-required="true">\n                        <span class="input-group-btn">\n                          <button class="btn btn-primary" type="submit" ng-disabled="formApproveNewLogin.code.$invalid" ng-click="approveLogin(formApproveNewLogin)"><i class="fa fa-check"></i></button>\n                          <button class="btn btn-default" type="button" ng-click="denyLogin()"><i class="fa fa-times"></i></button>\n                        </span>\n                      </div>\n                    </ng-form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n        <div class="form-horizontal">\n          <hr>\n          <div class="row pad-b-10">\n            <div class="col-md-2 text-left">\n              <label class="control-label text-left"><strong translate>WebDAV access</strong></label>\n            </div>\n            <div class="col-md-5">\n              <div class="checkbox"><label><input type="checkbox" ng-model="webdav.isEnable" ng-change="toggleWebdav()" />&nbsp;{{\'Enabled\' | translate}}</label></div>\n            </div>\n          </div>\n          <div class="row pad-b-10" ng-if="BasicAuth.hasOwnProperty(\'login\')">\n            <div class="col-md-offset-2 col-md-5">\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>URL</label>\n                <div class="col-md-9">\n                  <p class="form-control-static" ng-bind="CONST.be.webdav"></p>\n                </div>\n              </div>\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>Login</label>\n                <div class="col-md-9">\n                  <input type="text" class="form-control p-cursor-text" ng-model="BasicAuth.login" ng-disabled="!formBasicAuth" ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: loginMinLengthErrorMessage, maxlength: loginMaxLengthErrorMessage}" popover popover-trigger="value.invalid" popover-placement="top">\n                </div>\n              </div>\n              <div class="row pad-b-10">\n                <label class="col-md-3 control-label text-left" translate>Password</label>\n                <div class="col-md-9">\n                  <input type="text" class="form-control p-cursor-text" ng-model="BasicAuth.password" ng-disabled="!formBasicAuth" ng-required="true" ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: passwordMinLengthErrorMessage, maxlength: passwordMaxLengthErrorMessage}" popover popover-trigger="value.invalid" popover-placement="top">\n                </div>\n              </div>\n              <div class="col-md-offset-3 col-md-9 text-center">\n                <button ng-click="toggleEditMode(true)" class="btn btn-primary" ng-if="!formBasicAuth" translate>Edit</button>\n                <button ng-click="toggleEditMode(false)" class="btn btn-default" ng-if="formBasicAuth" translate>Cancel</button>\n                <button ng-click="saveBasicAuthForm()" class="btn btn-primary" ng-if="formBasicAuth" ng-disabled="!BasicAuth.password" translate>Save</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-horizontal" ng-if="devices.length">\n          <hr>\n          <div class="row">\n            <div class="col-md-2 text-left">\n              <label class="control-label"><strong translate>Devices</strong></label>\n            </div>\n            <div class="col-md-9">\n              <table class="table table-condensed b-layout-fixed">\n                <thead>\n                  <th translate>Device name</th>\n                  <th translate class="hidden-xs">Registered</th>\n                  <th translate class="hidden-xs">Status</th>\n                  <th>&nbsp;</th>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="device in devices" ng-class="{\'disabled\' : device.remote_wipe}">\n                    <td><span once-text="device.device_description"></span></td>\n                    <td class="hidden-xs"><span class="nowrap" once-text="device.created | date"></span></td>\n                    <td class="nowrap hidden-xs">\n                      <span ng-if="device.remote_wipe" translate>Awaiting wiping</span>\n                      <span ng-if="!device.remote_wipe" translate>Connected</span>\n                    </td>\n                    <td>\n                      <button ng-if="!device.remote_wipe" class="btn btn-inline-link" type="button" ng-click="removeDevice(device)" translate>Disconnect</button>\n                      <button ng-if="device.remote_wipe" class="btn btn-inline-link" type="button" ng-click="keepDevice(device)" translate>Cancel disconnection</button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("resetPassword/newPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("resetPassword/newPassword.tpl.html",'<div class="row oauth-form" ng-class="{\'company-domain\': $root.CurrentCompany}">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Set new password</h3>\n\n    <form class="pad-t-10" name="newPassword" ng-submit="submit()" autocomplete="off">\n      <div ng-show="!formComplete">\n        <div class="form-group" ng-class="{\'has-error\': newPassword.$dirty && newPassword.password.$invalid}">\n          <label translate>Password</label>\n          <input class="form-control input-lg" type="password" name="password" ng-model="formData.password" ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: passwordMinLengthErrorMessage, maxlength: passwordMaxLengthErrorMessage}" ng-change="check()" popover popover-trigger="value.invalid" popover-placement="top" placeholder="{{\'Please enter new password\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': newPassword.$dirty && newPassword.repeat.$invalid}">\n          <label translate>Repeat password</label>\n          <input class="form-control input-lg" type="password" name="repeat" ng-model="formData.repeat" ng-minlength="6" ng-maxlength="32" ng-validate-hint="{minlength: passwordMinLengthErrorMessage, maxlength: passwordMaxLengthErrorMessage, notmatch: passwordsNotMatchErrorMessage}" ng-change="check()" popover popover-trigger="value.invalid" popover-placement="top" placeholder="{{\'Please repeat your new password\' | translate}}">\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="newPassword.$invalid" translate>Reset password</button>\n      </div>\n      <div ng-show="formComplete">\n        <p class="lead text-center"><span translate>Reset instructions was sent to</span> <span ng-bind="user.formEmail.login"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerification()" translate>try again</button>.</p>\n      </div>\n    </form>\n\n  </div>\n</div>\n')}]),b.module("resetPassword/resetPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("resetPassword/resetPassword.tpl.html",'<div class="row oauth-form" ng-class="{\'company-domain\': $root.CurrentCompany}">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Reset password</h3>\n    <form class="pad-t-10" name="formEmail" ng-submit="submit()" ng-show="loginType === \'formEmail\'" novalidate autocomplete="off" ng-server-validate>\n      <div ng-show="!formComplete">\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.login.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="login" class="form-control input-lg" ng-model="user.formEmail.login" ng-maxlength="40" ng-required="true" placeholder="{{\'Please enter your email\' | translate}}">\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="formEmail.$invalid" translate>Reset password</button>\n      </div>\n      <div ng-show="formComplete">\n        <p class="lead text-center"><span translate>Reset instructions was sent to</span> <span ng-bind="user.formEmail.login"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerification()" translate>try again</button>.</p>\n      </div>\n    </form>\n    <hr>\n    <div class="row">\n      <div class="col-xs-12 text-center">\n        <a ui-sref="signin" translate>Already signed up?</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("signup/business/signup.tpl.html",[]).run(["$templateCache",function(a){a.put("signup/business/signup.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" translate>Create business account</h3>\n    <form name="SignupBusinessForm" ng-submit="submit()" autocomplete="off" novalidate cl-server-validate="{400: \'IncorrectEmail\', 403: [\'UserAlreadyExists\', \'CompanyAlreadyExist\', \'UserDeclined\'], 404: \'UserNotFound\'}">\n      <div ng-show="!formComplete" class="pad-t-10">\n      <input type="email" hidden>\x3c!-- preventing autofill in Chrome --\x3e\n      <input type="password" hidden>\n        <div class="form-group text-center">\n          <span ng-repeat="lang in CONST.be.i18n.locales">\n                <label  class="bold" translate-language="{{lang}}" translate="Interface language"></label>\n                <label ng-if="$index !== CONST.be.i18n.locales.length-1">/</label>\n          </span>\n          <select class="form-control" ng-model="user.lang" ng-change="changeLanguage(user.lang)" ng-disabled="langDisabled">\n            <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="user.lang == item.value" once-text="item.label"></option>\n          </select>\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.email.$invalid}">\n          <label translate>Admin\'s email</label>\n          <input type="email" name="email" class="form-control input-lg" ng-model="user.email" ng-required="true" ng-maxlength="40" ng-validate-hint="{required: \'field should be filled-in\', email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" ng-pattern="/^[-_a-zA-Z0-9]+(\\.[-_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,4})$/" placeholder="{{\'Please enter admin\\\'s email\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.password" ng-required="true" ng-minlength="6" ng-maxlength="32" ng-validate-hint="{required: \'field should be filled-in\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter admin\\\'s password\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && (SignupBusinessForm.password.$invalid || SignupBusinessForm.confirm_password.$invalid)}">\n          <label translate>Confirm password</label>\n          <input type="password" name="confirm_password" class="form-control input-lg" ng-model="user.password_confirm" cl-check-password="password" ng-required="true" ng-validate-hint="{required: \'field should be filled-in\', checkpassword: \'passwords don\\\'t match\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter admin\\\'s password again\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.company_name.$invalid}">\n          <label translate>Company name</label>\n          <input type="text" name="company_name" class="form-control input-lg" ng-model="user.company_name" ng-required="true" ng-pattern="$root.CONST.fe.domainAllowedCharactersPattern" ng-minlength="1" ng-maxlength="40" ui-validate="{trimming: $root.fieldIsTrimming}"\n          ng-validate-hint="{\n          required: \'field should be filled-in\',\n          trimming: \'field must not start or end with a space\',\n          minlength: \'field must be more than 1 characters\',\n          maxlength: \'field should be less than 40 characters\',\n          pattern: \'Domain name can contain only latin letters, digits and hyphens. Also, domain name could not start or end with a hyphen.\',\n          reserved: \'this domain name is reserved and cannot be used\'\n          }" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter company\\\'s name\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.name.$invalid}">\n          <label translate>Admin\'s display name</label>\n          <input type="text" name="name" class="form-control input-lg" ng-model="user.name" ng-required="true" ng-minlength="1" ng-maxlength="40" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter admin\\\'s name\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.phone_number.$invalid}">\n          <label translate>Phone number</label>\n          <input type="text" name="phone_number" class="form-control input-lg" ng-model="user.phone_number" ng-required="true" ng-pattern="$root.CONST.fe.onlyDigit" ng-minlength="10" ng-maxlength="11" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 10 characters\', maxlength: \'field should be less than 11 characters\', pattern: \'Please enter your phone numbers only as number\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'ex) 01012345678\' | translate}}">\n        </div>\n        \x3c!--<div class="form-group" ng-if="CONST.be.tariff_plan" ng-init="t_plan = \'basic\'">--\x3e\n          \x3c!--<label translate>Select plan</label>--\x3e\n          \x3c!--<div class="row">--\x3e\n            \x3c!--<div class="col-md-12 pad-a-0 radio-button-group">--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'trial\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="trial" ng-click="t_plan = \'trial\'" ng-checked="t_plan == \'trial\'">--\x3e\n                  \x3c!--<strong translate>Free Trial</strong><br>--\x3e\n                  \x3c!--<span>15<span translate>GB</span> / <span translate>User unlimited</span> /--\x3e\n                  \x3c!--<span>{{\'COUNT months free\'|translate:\'{COUNT: 1}\'}}</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'classic\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="classic" ng-click="t_plan = \'classic\'" ng-checked="t_plan == \'classic\'">--\x3e\n                  \x3c!--<strong translate>Classic</strong><br>--\x3e\n                  \x3c!--<span>50<span translate>GB</span> / <span translate>User unlimited</span> / <span>9,900<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio" ng-class="{\'active\': t_plan == \'premium\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="premium" ng-click="t_plan = \'premium\'" ng-checked="t_plan == \'premium\'">--\x3e\n                  \x3c!--<strong translate>Premium</strong><br>--\x3e\n                  \x3c!--<span>100<span translate>GB</span> / <span translate>User unlimited</span></span> / <span>18,000<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'platinum\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="platinum" ng-click="t_plan = \'platinum\'" ng-checked="t_plan == \'platinum\'">--\x3e\n                  \x3c!--<strong translate>Platinum</strong><br>--\x3e\n                  \x3c!--<span>300<span translate>GB</span> / <span translate>User unlimited</span></span> / <span>49,000<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n            \x3c!--</div>--\x3e\n          \x3c!--</div>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="form-group" ng-if="CONST.be.tariff_plan" ng-init="t_plan = \'basic\'">--\x3e\n          \x3c!--<label translate>Select plan</label>--\x3e\n          \x3c!--<div class="row">--\x3e\n            \x3c!--<div class="col-md-12 pad-a-0 radio-button-group">--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'trial\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="trial" ng-click="t_plan = \'trial\'" ng-checked="t_plan == \'trial\'">--\x3e\n                  \x3c!--<strong translate>Free Trial</strong><br>--\x3e\n                  \x3c!--<span>15<span translate>GB</span> / <span>{{\'COUNT users\'|translate:\'{COUNT: 10}\'}}</span> / <span>{{\'COUNT months free\'|translate:\'{COUNT: 1}\'}}</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'classic\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="classic" ng-click="t_plan = \'classic\'" ng-checked="t_plan == \'classic\'">--\x3e\n                  \x3c!--<strong translate>Classic</strong><br>--\x3e\n                  \x3c!--<span>50<span translate>GB</span> / <span>{{\'COUNT users\'|translate:\'{COUNT: 10}\'}}</span> / <span>9,900<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio" ng-class="{\'active\': t_plan == \'premium\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="premium" ng-click="t_plan = \'premium\'" ng-checked="t_plan == \'premium\'">--\x3e\n                  \x3c!--<strong translate>Premium</strong><br>--\x3e\n                  \x3c!--<span>100<span translate>GB</span> / <span translate>User unlimited</span></span> / <span>18,000<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n              \x3c!--<div class="col-md-12 pad-a-0 radio-button-wrapper">--\x3e\n                \x3c!--<label class="btn btn-primary btn-radio bordered" ng-class="{\'active\': t_plan == \'platinum\'}">--\x3e\n                  \x3c!--<input type="radio" class="radio-button" name="company_plan" ng-model="user.company_plan" value="platinum" ng-click="t_plan = \'platinum\'" ng-checked="t_plan == \'platinum\'">--\x3e\n                  \x3c!--<strong translate>Platinum</strong><br>--\x3e\n                  \x3c!--<span>300<span translate>GB</span> / <span translate>User unlimited</span></span> / <span>49,000<span translate>Won</span></span>--\x3e\n                \x3c!--</label>--\x3e\n              \x3c!--</div>--\x3e\n            \x3c!--</div>--\x3e\n          \x3c!--</div>--\x3e\n        \x3c!--</div>--\x3e\n        <div class="checkbox" ng-class="{\'has-error\': SignupBusinessForm.$dirty && SignupBusinessForm.user_agreement.$invalid}">\n          <label>\n              <input type="checkbox" name="user_agreement" ng-model="user.user_agreement" ng-required="true" ng-validate-hint="{required: \'You should accept User Agreement\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n              <span translate>I accept </span> <a href="" ng-click="showOffer()" translate>User Agreement</a>\n          </label>\n        </div>\n        <div class="form-group has-error" ng-if="SignupBusinessForm.$error.UserAlreadyExists">\n          <span class="help-block" translate>User with such email already exists</span>\n        </div>\n        <div class="form-group has-error" ng-if="SignupBusinessForm.$error.CompanyAlreadyExist">\n          <span class="help-block" translate>Company with this name already exists</span>\n        </div>\n        <div class="form-group has-error" ng-if="SignupBusinessForm.$error.IncorrectEmail">\n          <span class="help-block" translate>Enter a valid email address</span>\n        </div>\n        <button id="accountenroll" class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="SignupBusinessForm.$invalid" translate>Create account</button>\n      </div>\n      <div ng-show="formComplete">\n        <p class="lead text-center"><span translate>Please, check your email</span> <span ng-bind="user.email"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerification()" translate>try again</button>.</p>\n      </div>\n    </form>\n    <hr>\n    <div class="row">\n      <div class="col-md-12 text-center">\n        <a ui-sref="signin" translate>Already have an account?</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("signup/offer.tpl.html",[]).run(["$templateCache",function(a){a.put("signup/offer.tpl.html",'<div class="modal-tabs">\n  <button type="button" class="close" ng-click="$close()"><i class="icon icon-cross"></i></button>\n  <tabset class="modal-tabs-tabset" justified="true">\n    <tab>\n      <tab-heading>\n        <span translate>Entire Terms</span>\n      </tab-heading>\n      <iframe src="https://api.cloudike.kr/api/1/accounts/get_offer/" width="100%" height="500px" frameborder="0" sandbox="allow-top-navigation allow-scripts"></iframe>\n    </tab>\n    <tab>\n    <tab-heading>\n      <span translate>Privacy Policy</span>\n    </tab-heading>\n      <div class="privacy-policy">\n        <h4>클라우다이크(Cloudike) 개인정보 수집 및 이용 동의 약관</h4>\n        <label class="mar-t-20">ASD코리아는 정보통신서비스제공자가 준수하여야 하는 대한민국의 관계 법령 및 개인정보보호 규정, 가이드라인을 준수하고 있습니다.</label>\n        <label>"개인정보취급방침"이란 이용자의 소중한 개인정보를 보호함으로써 이용자가 안심하고 서비스를 이용할 수 있도록 ASD코리아가 준수해야할 지침을 의미합니다.</label>\n        <label>주식회사 ASD코리아(이하"회사")는 통신비밀보호법, 전기통신사업법, 정보통신망 이용촉진 및 정보보호 등에 관한 법률 등 정보통신서비스제공자가 준수하여야 할 관련 법령상의 개인정보 보호 규정을 준수하며, 관련 법령에 의거한 개인정보취급방침을 정하여 이용자 권익 보호에 최선을 다합니다.</label>\n        <label>본 개인정보취급방침은 회사에서 제공하는 ‘클라우다이크 서비스’에 적용되며 아래와 같은 내용을 담고 있습니다.</label>\n        <label class="mar-t-20">- 개인정보의 수집 및 이용</label>\n        <label>회사는 홈페이지를 통해 아래와 같이 개인정보를 수집하고 있습니다.</label>\n        <label>1. 회사는 회원가입 및 고객 상담, 고객불만 접수 및 처리, 고지사항 전달, 분쟁조정을 위한 기록보존을 위해 회원의 이름/기업명/비밀번호 등을 수집합니다.</label>\n        <label>2. 회사는 유효한 이메일 아이디 가입 인증, 회원제 서비스 이용에 따른 본인확인 및 개인 식별을 위해 회원의 이메일주소/전화번호 등을 수집합니다.</label>\n        <label>3. 회사는 회원제 서비스 이용에 따른 본인확인, 개인식별, 불량회원의 부정 이용 방지와 비인가 사용 방지, 가입의사 확인, 가입 및 가입횟수 제한, 불만처리, 민원처리 등을 위해 회원의 서비스 이용기록/접속로그/쿠키/접속IP정보 등을 수집합니다.</label>\n        <label>4. 회사는 금융거래 관련 본인인증 및 금융서비스, 서비스 제공에 관한 계약의 이행 및 서비스 제공에 따른 요금정산을 위해 회원의 은행계좌정보/사업자등록증/신용카드정보/결제기록 등을 수집합니다.</label>\n        <label>5. 회사는 마케팅 및 광고를 목적으로 회원에게 콘텐츠 제공, 이벤트/경품당첨 결과 안내 및 상품배송을 위해 회원의 표시이름, 추천인아이디, 서비스를 알게 된 경로 등을 수집합니다.</label>\n\n        <label class="mar-t-20">- 개인정보의 수집 방법</label>\n        <label>회사는 홈페이지(회원가입)상담절차, 클라우다이크 서비스 사용 시 생성 정보 수집 툴을 통한 방법(쿠키)등으로 개인 정보를 수집합니다.</label>\n\n        <label class="mar-t-20">- 개인정보 제 3자 제공 및 위탁</label>\n        <label>회원의 개인정보를 상기 수집, 이용목적에 고지한 범위 내에서 사용하며, 원칙적으로 범위를 초과하여 이용하거나 타인 또는 타기업, 기관에 제공하지 않습니다. 단, 이용자가 외부 제휴사의 서비스를 이용하기 위하여 개인정보 제공에 직접 동의를 한 경우, 그리고 관련 법령에 의하여 회사에 개인정보 제출 의무가 발생한 경우에 한하여 개인정보를 제공하고 있습니다.</label>\n        <label>회사는 서비스 제공을 위하여 필요한 업무 중 일부를 외부 업체에 위탁하고 있으며, 위탁 받은 업체가 정보통신망법에 따라 개인정보를 안전하게 취급하도록 필요한 사항을 규정하고 관리/감독을 하고 있습니다.</label>\n\n        <h5 class="mar-t-20">- 수탁업체: NICE페이먼츠㈜</h5>\n        <h5>위탁업무 내용: 카드정보 등록 시 클라우드 스토리지 이용 요금 결제.</h5>\n        <h5>개인정보 보유 및 이용기간: 회원탈퇴 시 혹은 위탁계약 종료 시까지</h5>\n\n        <label class="mar-t-20">- 보유 및 이용 기간</label>\n        <label>1. 회사는 관련 법령에 규정된 바에 따라 수집된 개인정보는 당사와 회원님 간의 서비스이용계약기간 동안 보유하여 이용합니다. 보존 항목, 이용기간, 보유기간은 아래와 같으며 보유기간이 경과하면 개인정보는 재생이 불가능한 방법으로 지체없이 파기됩니다.</label>\n        <label>- 보존 항목: 이름, 로그인ID, 비밀번호, 전화번호, 이메일, 비밀번호, 기업명, 관리자명, 서비스이용기록, 접속 로그, 접속IP 정보, 결제 기록</label>\n        <label>- 이용기간: 서비스 가입 일부터 해지 일까지</label>\n        <label>- 보유기간: 요금정산 분쟁 대비를 위해 해지 후 6개월까지, 미납이 있을 경우 해결시까지</label>\n        <label>2. 관계법령의 규정에 의하여 보존할 필요가 있는 경우 아래와 같이 관계법령에서 정한 일정한 기간 동안 개인정보를 보관합니다.</label>\n        <label>- 계약 또는 청약철회 등에 관한 기록: 5년(전자상거래등에서의 소비자보호에 관한 법률)</label>\n        <label>- 대금결제 및 재화 등의 공급에 관한 기록: 5년(전자상거래등에서의 소비자보호에 관한 법률)</label>\n        <label>- 소비자의 불만 또는 분쟁처리에 관한 기록: 3년(전자상거래등에서의 소비자보호에 관한 법률)</label>\n        <label>- 신용정보의 수집/처리 및 이용 등에 관한 기록: 3년(신용정보의 이용 및 보호에 관한 법률)</label>\n        <label>- 동의 거부권 및 미 동의에 대한 불이익 안내 : 회원님께서는 정보주체로서 개인정보 동의 거부권이 있으시며, 미동의 시 서비스가입 및 이용에 제약이 있을 수 있고 미동의 하신 경우 정보가 제공되지 않습니다.</label>\n        <label class="mar-t-20">- 개인정보관리책임자 및 담당자</label>\n        <label>만약 개인정보보호정책에 대해 지켜지지 않은 사항이 발생한 경우, 신고를 해주시면 최대한 빠르게 조치하겠으며, 궁금하신 사항 혹은 제안하실 사항이 있는 경우, 아래의 개인정보관리담당자 앞으로 연락을 주시면 성심껏 답변해 드리겠습니다 단, 이용자 본인의 부주의나 인터넷 상의 문제로 계정, 비밀번호 등 개인정보가 유출되어 발생한 문제에 대해 회사는 일체의 책임을 지지 않습니다.</label>\n\n        <h5 class="mar-t-20">개인정보관리책임자</h5>\n        <h5>이름 : 이선웅</h5>\n        <h5>직위 : 대표</h5>\n        <h5>소속 : ASD코리아</h5>\n        <h5>메일 : sunung@asdtech.co</h5>\n\n        <h5 class="mar-t-20">개인정보관리담당자</h5>\n        <h5>이름 : 우원구</h5>\n        <h5>직위 : 팀장</h5>\n        <h5>소속 : ASD코리아 사업팀</h5>\n        <h5>메일 : wgwoo@asdtech.co</h5>\n\n        <h5>(부칙)</h5>\n        <h5>(시행일)본 약관은 2017년 10월 31일부터 시행합니다</h5>\n      </div>\n    </tab>\n  </tabset>\n</div>\n')}]),b.module("signup/signup.tpl.html",[]).run(["$templateCache",function(a){a.put("signup/signup.tpl.html",'<div class="row oauth-form">\n  <div class="well well-lg col-md-6 col-md-offset-3 sexy-well">\n    <h3 class="text-center" ng-if="!invite.company_name" translate>Sign up</h3>\n    <h3 class="text-center" ng-if="invite.company_name" translate="Sign up to XXX company" translate-values="{COMPANY: invite.company_name}"></h3>\n    \x3c!--<div class="form-group" ng-if="!formComplete">--\x3e\n      \x3c!--<label>Sign up with</label>--\x3e\n      \x3c!--<div class="btn-group btn-group-justified">--\x3e\n        \x3c!--<div class="btn-group" ng-if="CONST.be.auth.email.signup">--\x3e\n          \x3c!--<button type="button" class="btn btn-lg btn-default" ng-click="setLoginType(\'formEmail\')" ng-class="{\'btn-primary\': loginType == \'formEmail\'}">EMAIL</button>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="btn-group" ng-if="CONST.be.auth.phone.signup">--\x3e\n          \x3c!--<button type="button" class="btn btn-lg btn-default" ng-click="setLoginType(\'formPhone\')" ng-class="{\'btn-primary\': loginType == \'formPhone\'}">PHONE</button>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="btn-group" ng-if="CONST.be.auth.windows.signup">--\x3e\n          \x3c!--<button type="button" class="btn btn-lg btn-default" ng-click="setLoginType(\'formWindows\')" ng-class="{\'btn-primary\': loginType == \'formWindows\'}">WINDOWS</button>--\x3e\n        \x3c!--</div>--\x3e\n      \x3c!--</div>--\x3e\n    \x3c!--</div>--\x3e\n    <form class="pad-t-10" name="formEmail" ng-submit="submit()" ng-show="loginType === \'formEmail\'" novalidate autocomplete="off" cl-server-validate="{403: \'UserAlreadyExists\',400:\'IncorrectEmail\'}">\n      <div ng-show="!formComplete">\n        <div class="form-group text-center">\n          <span ng-repeat="lang in CONST.be.i18n.locales">\n                <label class="bold" translate-language="{{lang}}" translate="Interface language"></label>\n                <label ng-if="$index !== CONST.be.i18n.locales.length-1">/</label>\n          </span>\n          <select class="form-control" ng-model="user.formEmail.lang" ng-change="changeLanguage(user.formEmail.lang)" ng-disabled="langDisabled">\n            <option ng-repeat="item in CONST.fe.langs" value="{{item.value}}" ng-selected="user.formEmail.lang == item.value" once-text="item.label"></option>\n          </select>\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.name.$invalid}">\n          <label translate>Your display name</label>\n          <input type="text" name="name" class="form-control input-lg" ng-model="user.formEmail.name" ng-minlength="1" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your name\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.email.$invalid}">\n          <label translate>Email</label>\n          <input type="email" name="email" class="form-control input-lg" ng-model="user.formEmail.email" ng-maxlength="40" ng-required="true" ng-validate-hint="{required: \'field should be filled-in\', email: \'field must be email\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your email\' | translate}}" readonly>\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.password.$invalid}">\n          <label translate>Password</label>\n          <input type="password" name="password" class="form-control input-lg" ng-model="user.formEmail.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{required: \'field should be filled-in\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter your password\' | translate}}">\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': formEmail.$dirty && formEmail.promo_code.$invalid}" ng-if="CONST.be.promocode.signup">\n          <label translate>Have a promo code? Type it here</label>\n          <input type="text" name="promo_code" class="form-control" ng-model="user.formEmail.promo_code" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom" placeholder="{{\'Please enter a promo code\' | translate}}">\n        </div>\n        <div class="checkbox" ng-class="{\'has-error\': formEmail.$dirty && formEmail.user_agreement.$invalid}">\n          <label>\n              <input type="checkbox" name="user_agreement" ng-model="user.formEmail.user_agreement" ng-required="true" ng-validate-hint="{required: \'You should accept User Agreement\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />\n              <span translate>I accept</span> <a href="" ng-click="showOffer()" translate>User Agreement</a>\n          </label>\n        </div>\n        <div class="form-group has-error" ng-if="formEmail.$error.UserAlreadyExists">\n          <span class="help-block" translate>User with such email already exists</span>\n        </div>\n        <div class="form-group has-error" ng-if="formEmail.$error.IncorrectEmail">\n          <span class="help-block" translate>Enter a valid email address</span>\n        </div>\n        <button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="formEmail.$invalid" translate>Sign up</button>\n      </div>\n      <div ng-show="formComplete">\n        <p class="lead text-center"><span translate>Please, check your email</span> <span ng-bind="user.formEmail.email"></span>.<br><span translate>No email? Check spam or</span> <button type="button" class="btn-inline-link" ng-click="resendVerification()" translate>try again</button>.</p>\n      </div>\n    </form>\n    \x3c!--<form name="formPhone" ng-submit="submit()" ng-show="loginType === \'formPhone\'" novalidate autocomplete="off" cl-server-validate="{403: \'UserAlreadyExists\'}">--\x3e\n      \x3c!--<div ng-show="!formComplete">--\x3e\n        \x3c!--<div class="form-group" ng-class="{\'has-error\': formPhone.$dirty && formPhone.name.$invalid}">--\x3e\n          \x3c!--<label>Your display name</label>--\x3e\n          \x3c!--<input type="text" name="name" class="form-control input-lg" ng-model="user.formPhone.name" ng-minlength="1" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="form-group" ng-class="{\'has-error\': formPhone.$dirty && formPhone.phone.$invalid}">--\x3e\n          \x3c!--<label>Phone number</label>--\x3e\n          \x3c!--<input type="text" name="phone" class="form-control input-lg" ng-model="user.formPhone.phone" ng-pattern="$root.CONST.fe.phonePattern" ng-required="true" ng-validate-hint="{pattern: \'Phone number should contains only digits and optional + sign at start\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="form-group" ng-class="{\'has-error\': formPhone.$dirty && formPhone.password.$invalid}">--\x3e\n          \x3c!--<label>Password</label>--\x3e\n          \x3c!--<input type="password" name="password" class="form-control input-lg" ng-model="user.formPhone.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="form-group" ng-class="{\'has-error\': formPhone.$dirty && formPhone.promo_code.$invalid}" ng-if="CONST.be.promocode.signup">--\x3e\n          \x3c!--<label>Have a promo code? Type it here</label>--\x3e\n          \x3c!--<input type="text" name="promo_code" class="form-control" ng-model="user.formPhone.promo_code" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="checkbox" ng-class="{\'has-error\': formPhone.$dirty && formPhone.user_agreement.$invalid}">--\x3e\n          \x3c!--<label>--\x3e\n              \x3c!--<input type="checkbox" name="user_agreement" ng-model="user.formPhone.user_agreement" ng-required="true" ng-validate-hint="{required: \'You should accept User Agreement\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />--\x3e\n              \x3c!--I accept <a href="" ng-click="showOffer()">User Agreement</a>--\x3e\n          \x3c!--</label>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="form-group has-error" ng-if="formPhone.$error.UserAlreadyExists">--\x3e\n          \x3c!--<span class="help-block" translate>User with such phone already exists</span>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="formPhone.$invalid">Sign up</button>--\x3e\n      \x3c!--</div>--\x3e\n    \x3c!--</form>--\x3e\n    \x3c!--<form name="formPhoneCode" ng-submit="submitPhoneCode()" ng-show="loginType === \'formPhone\' && formComplete" novalidate autocomplete="off" cl-server-validate="{400: \'BadHash\'}">--\x3e\n      \x3c!--<p class="lead text-center">Please, check your phone.</p>--\x3e\n      \x3c!--<div class="form-group" ng-class="{\'has-error\': formPhoneCode.$dirty && formPhoneCode.code.$invalid}">--\x3e\n        \x3c!--<label>Code</label>--\x3e\n        \x3c!--<input type="text" name="code" class="form-control input-lg" ng-model="user.formPhoneCode.code" ng-required="true">--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="form-group text-center">--\x3e\n        \x3c!--<button class="btn btn-link" type="button" ng-click="resendVerification()">Resend verification</button>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="form-group has-error" ng-if="formPhoneCode.$error.BadHash">--\x3e\n        \x3c!--<span class="help-block" translate>Your code is invalid or expired</span>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<button class="btn btn-lg btn-primary btn-block" type="submit">Send</button>--\x3e\n    \x3c!--</form>--\x3e\n    \x3c!--<form name="formWindows" ng-submit="submit()" ng-show="loginType === \'formWindows\'" novalidate autocomplete="off" ng-server-validate>--\x3e\n      \x3c!--<div class="form-group" ng-class="{\'has-error\': formWindows.$dirty && formWindows.login.$invalid}">--\x3e\n        \x3c!--<label>Your Windows login</label>--\x3e\n        \x3c!--<input type="text" name="login" class="form-control input-lg" ng-model="user.formWindows.windows" ng-minlength="6" ng-maxlength="40" ng-required="true" ui-validate="{trimming: $root.fieldIsTrimming}" ng-validate-hint="{trimming: \'field must not start or end with a space\', minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 40 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="form-group" ng-class="{\'has-error\': formWindows.$dirty && formWindows.password.$invalid}">--\x3e\n        \x3c!--<label>Password</label>--\x3e\n        \x3c!--<input type="password" name="password" class="form-control input-lg" ng-model="user.formWindows.password" ng-minlength="6" ng-maxlength="32" ng-required="true" ng-validate-hint="{minlength: \'field must be more than 6 characters\', maxlength: \'field should be less than 32 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="form-group" ng-class="{\'has-error\': formWindows.$dirty && formWindows.promo_code.$invalid}" ng-if="CONST.be.promocode.signup">--\x3e\n        \x3c!--<label>Have a promo code? Type it here</label>--\x3e\n        \x3c!--<input type="text" name="promo_code" class="form-control" ng-model="user.formWindows.promo_code" ui-validate="{trimming: $root.fieldIsTrimming}" ng-minlength="1" ng-maxlength="10" ng-validate-hint="{required: \'field should be filled-in\', trimming: \'field must not start or end with a space\', minlength: \'field must be more than 1 characters\', maxlength: \'field should be less than 10 characters\'}" popover popover-trigger="value.invalid" popover-placement="bottom">--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="checkbox" ng-class="{\'has-error\': formWindows.$dirty && formWindows.user_agreement.$invalid}">--\x3e\n        \x3c!--<label>--\x3e\n            \x3c!--<input type="checkbox" name="user_agreement" ng-model="user.formWindows.user_agreement" ng-required="true" ng-validate-hint="{required: \'You should accept User Agreement\'}" popover popover-trigger="value.invalid" popover-placement="bottom" />--\x3e\n            \x3c!--I accept <a href="" ng-click="showOffer()">User Agreement</a>--\x3e\n        \x3c!--</label>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<button class="btn btn-lg btn-primary btn-block" type="submit" ng-disabled="formWindows.$invalid">Sign up</button>--\x3e\n    \x3c!--</form>--\x3e\n    <hr>\n    <div class="row">\n      <div class="col-xs-12 text-center">\n        <a ui-sref="signin" translate>Already signed up?</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("terms/terms.tpl.html",[]).run(["$templateCache",function(a){a.put("terms/terms.tpl.html",'<div class="row">\n\t<div class="col-md-12 terms-content" once-html="terms"></div>\n</div>')}]),b.module("transfers/transfers-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("transfers/transfers-navbar.tpl.html",'<ul class="nav navbar-nav">\n</ul>\n')}]),b.module("transfers/transfers.tpl.html",[]).run(["$templateCache",function(a){a.put("transfers/transfers.tpl.html",'<div class="row full-height">\n  <div class="col-md-12 b-content-wrap full-height">\n    <div class="b-content b-content-table transfer-list">\n      <div class="b-content__wrapper">\n        <div class="b-content__header">\n          <div class="b-content__header-title">\n            <h3 class="text-muted p-uc" translate>Pending ownership transfers</h3>\n          </div>\n          <div class="b-content__header-sidebar">\n            <div class="half-width">\n              <select class="form-control" ng-model="filter.status" ng-change="transfersFilter($event)">\n                <option value="" translate>Any status</option>\n                <option ng-repeat="item in CONST.fe.transfers.statuses" value="{{item.value}}" once-text="item.label | translate"></option>\n              </select>\n            </div>\n            <div class="half-width">\n              <select class="form-control" ng-model="filter.user" ng-change="transfersFilter($event)">\n                <option value="" translate>Any user</option>\n                <option ng-repeat="item in CONST.fe.transfers.users" value="{{item.value}}" once-text="item.label | translate"></option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div ng-if="transfers.length == 0">\n          <p translate>There are no pending transfers.</p>\n        </div>\n        <div class="b-content__table-wrapper" ng-if="transfers.length">\n          <table class="table table-condensed b-content-list b-layout-fixed">\n            <colgroup>\n              <col width="*" />\n              <col width="25" class="hidden-xs" />\n              <col width="*" />\n              <col class="hidden-xs" />\n              <col width="10%" class="hidden-sm hidden-xs" />\n              <col width="25%" class="hidden-xs" />\n            </colgroup>\n            <thead>\n              <tr>\n                <th translate>From</th>\n                <th class="hidden-xs"></th>\n                <th translate>To</th>\n                <th class="hidden-xs" translate>Folder</th>\n                <th class="hidden-sm hidden-xs" translate>Status</th>\n                <th class="hidden-xs"></th>\n              </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="transfer in transfers | orderBy : transfersSort : true">\n              <td class="b-content-list__cell">\n                <strong ng-if="transfer.owner.me" once-text="\'{{transfer.owner.name}}\' | translate"></strong>\n                <span ng-if="!transfer.owner.me" once-text="\'{{transfer.owner.name}}\'"></span>\n              </td>\n              <td class="b-content-list__cell hidden-xs">\n                <span class="arrow">➞</span>\n              </td>\n              <td class="b-content-list__cell">\n                <strong ng-if="transfer.receiver.me" once-text="\'{{transfer.receiver.name}}\' | translate"></strong>\n                <span ng-if="!transfer.receiver.me" once-text="\'{{transfer.receiver.name}}\'"></span>\n              </td>\n              <td class="filename b-content-list__cell hidden-xs" ng-class="{\'mine\': transfer.owner.me}">\n                \'<span ng-bind="transfer.path"></span>\'\n              </td>\n              <td class="text-capitalize b-content-list__cell hidden-sm hidden-xs">\n                <span once-text="\'{{transfer.statusLabel}}\' | translate"></span>\n              </td>\n              <td class="b-content-list__cell text-right hidden-xs">\n                <div ng-if="transfer.owner.me && transfer.status === \'requested\'">\n                  <button type="button" class="btn btn-default btn-sm hidden-xxs col-xs-12" ng-click="revoke(transfer)" translate>Revoke</button>\n                  <button type="button" class="btn btn-default btn-sm visible-xxs col-xxs-12" ng-click="revoke(transfer)" translate><i class="fa fa-reply"></i></button>\n                </div>\n                <div ng-if="transfer.receiver.me && transfer.status === \'requested\'">\n                  <button type="button" class="btn btn-primary btn-sm hidden-xxs col-xs-12" ng-click="accept(transfer)" translate>Accept</button>\n                  <button type="button" class="btn btn-primary btn-sm visible-xxs col-xxs-12" ng-click="accept(transfer)" translate><i class="fa fa-check"></i></button>\n                  <button type="button" class="btn btn-default btn-sm hidden-xxs col-xs-12" ng-click="decline(transfer)" translate>Decline</button>\n                  <button type="button" class="btn btn-default btn-sm visible-xxs col-xxs-12" ng-click="decline(transfer)" translate><i class="fa fa-ban"></i></button>\n                </div>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),b.module("unavailable/unavailable-navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("unavailable/unavailable-navbar.tpl.html","")}]),b.module("unavailable/unavailable.tpl.html",[]).run(["$templateCache",function(a){a.put("unavailable/unavailable.tpl.html",'<div class="row">\n  <div class="col-md-4 col-md-offset-4" style="text-align: center;">\n    <i class="icon icon-block icon-large"></i>\n    <p translate>There is a problem with connection to our servers, please try again later</p>\n    <button class="btn btn-large btn-primary" ng-click="tryAgain()" translate>Try again</button>\n  </div>\n</div>\n')}]),String.format||(String.prototype.format=function(){for(var a,b,c=this,d=c.match(/{(\d+)}/g)||[],e=d.length;e--;)-1,a=d[e],b=a.replace(/[{}]+/g,""),c=c.split(a).join(String(arguments[+b])||"");return c.toString()}),Object.create||(Object.create=function(){function a(){}return function(b){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),function(a){if(a.parent!==a)try{a.frameElement.onload(),a.stop()}catch(a){}}(this),function(a){a.jQuery&&jQuery.smartbanner&&jQuery.smartbanner({layer:!0,button:"&gt;&gt;",daysHidden:365,daysReminder:365})}(this),function(a){function b(a){return a=a.getElementsByTagName("script"),a=a?a[a.length-1]:a,a?a.getAttribute("src")||c:c}if(!a.ZeroClipboard)return c;var d;if(d=!d&&document.body?b(document.body):d,!(d=!d&&document.head?b(document.head):d))return c;-1!==d.indexOf("/src/")&&(d=d.substring(0,d.indexOf("/src/")+1)),-1!==d.indexOf("/base/")&&(d=d.substring(0,d.indexOf("/base/")+1)),-1!==d.indexOf("/assets/")&&(d=d.substring(0,d.indexOf("/assets/")+1)),a.ZeroClipboard.config({swfPath:d+"assets/ZeroClipboard.swf"})}(this),function(a){if(!a.Flow||(new Flow).support)return c;var b;b=(document.getElementsByTagName("html")||[])[0],b&&b.removeAttribute("flow-init"),(b=document.getElementById("flowFileOverContainer"))&&b.removeAttribute("flow-drop")}(this),function(a){function d(a){var c;document.getElementsByClassName("b-backend-version")[0]||(c=b.element('<div class="b-backend-version" />').css({position:"absolute",top:0,right:0}),b.element('<div class="backend" />').html(a).appendTo(c),c.appendTo(document.body))}b.cloudike=b.extend(b.cloudike||{},{jqAjaxSetup:function(){var c={};return function(d){a&&a.jQuery&&"function"==typeof jQuery.ajaxSetup&&(b.extend(c,d||{}),jQuery.ajaxSetup(c))}}(),transformRequestToParam:function(a){return b.isObject(a)&&"[object File]"!==String(a)?b.cloudike.toParam(a):a},transformRequestToJson:function(a){return b.isObject(a)&&"[object File]"!==String(a)?b.toJson(a):a},baseWebsocketDependence:["$rootScope","$state","$q","$timeout","Restangular",function(a,b,d,e,f){var g,h=d.defer();return a.WebsocketDependence||(a.$$once("websocket.check_ws",function(b,c){e.cancel(g),a.WebsocketDependence={t:(new Date).getTime()},h.resolve()}),f.one("check_ws").get(function(){},function(){e.cancel(g),a.WebsocketDependence=c,h.reject()}),g=e(function(){a.WebsocketDependence=c,h.reject()},6e4)),a.WebsocketDependence||h.promise}],baseStatusDependence:["$rootScope","$state","$q","Restangular","CONST",function(a,e,f,g,h){if(b.mock)return{t:(new Date).getTime()};var i=f.defer();return a.StatusDependence||g.withConfig(function(a){a.setFullResponse(!0)}).one("check").get().then(function(b){a.StatusDependence={t:(new Date).getTime()},i.resolve(),h.be.business_version&&h.be.show_version&&d(b.headers("Mountbit-Backend-Domain"))},function(b){a.StatusDependence=c,i.reject(),e.go("unavailable"),h.be.business_version&&h.be.show_version&&d(b.headers("Mountbit-Backend-Domain"))}),a.StatusDependence||i.promise}],baseAppLinks:["$rootScope","$q","Restangular",function(a,c,d){var e=c.defer();return a.AppLinks||c.all({apps:d.one("soft").one("list_version").get()}).then(function(c){if(a.AppLinks={},b.isArray(c.apps))for(var d=c.apps.length;d-- >0;){var e=c.apps[d];a.AppLinks[e.platform]=e.link}}).catch(function(){a.AppLinks={}}).finally(function(){e.resolve()}),a.AppLinks||e.promise}],baseLicense:["$rootScope","Restangular",function(a,c){return a.License||c.one("accounts").one("get_offer").get().then(function(c){a.License={html:b.cloudike.safeHtml(c)}},function(){a.License={}})}],baseClientStatus:["$rootScope",function(a){if(a.ClientStatus)return a.ClientStatus;var c=b.element.browser;return a.ClientStatus={isSupported:!c.msie||c.versionNumber>8},a.ClientStatus}],baseCurrentUser:["CONST","$rootScope","$state","$q","$translate","Restangular",function(a,b,d,e,f,g){if(b.$$once("app.reset-token",function(){delete b.CurrentUser}),!1!==b.transitionToState.needAuth||b.transitionToState.tryGetUser){var h=e.defer();return g.one("accounts").one("get").get().then(function(a){b.CurrentUser=a,b.CurrentLocale=a.lang,h.resolve(a)},function(a){!1!==b.transitionToState.needAuth?(h.reject(a),d.go("signin")):h.resolve()}),h.promise}return c}],baseCurrentLocale:["CONST","$rootScope","$translate","tmhDynamicLocale","CurrentUser",function(a,c,d,e,f){if(b.mock)return c.AppLocale=a.fe.defaultLocale,{};var g=(f||{}).lang;return g=a.fe.lang2locale[g]||a.fe.defaultLocale,e.set(g.toLowerCase()).finally(function(){c.AppLocale=g,d.use(g)})}],baseAppConfig:["CONST","$httpProvider","$urlRouterProvider","$locationProvider","$modalProvider","$translateProvider","RestangularProvider","tmhDynamicLocaleProvider","cfpLoadingBarProvider",function(d,e,f,g,h,i,j,k,l){j.setRequestSuffix("/"),j.setOnElemRestangularized(function(a){var c=a.one;a.one=function(a,b,d,e){return a=encodeURIComponent(a),c.apply(this,arguments)};var d=a.post;return a.post=function(a,b,c,e){return a=encodeURIComponent(a),d.apply(this,arguments)},a.metadataPath=function(a){var c=this,d=a.split("/");return b.forEach(d,function(a){c=c.one(a)}),c},a}),g.html5Mode({enabled:!0,requireBase:!1}),e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache",e.defaults.useXDomain=!0,e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.common["Mountbit-User-Agent"]=d.be.mountbit_user_agent+" v"+d.fe.version,e.defaults.headers.common["Mountbit-Request-Id"]=function(){var a,d;return function(){if(!b.cloudike||!b.cloudike.getUsername)return c;var e=b.cloudike.getUsername();return e!==d&&(d=e,a=(String(e||"anonymous").match(/[\da-zA-Z]+/g)||[]).join("")),a+(new Date).getTime()}}(),e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",e.defaults.transformRequest=b.cloudike.transformRequestToParam,e.interceptors.push(["$q","serviceAsyncTask",function(a,b){return{response:function(c){if(202!==c.status)return c;var d=c.data.location,e=a.defer();return d?b.check(d).then(e.resolve,e.reject,function(a){"function"==typeof c.config.$notify&&c.config.$notify(a)}):e.resolve(c),e.promise}}}]),f.otherwise(d.routes.index),(b.mock&&a.Raven||!d.be.raven_dsn)&&b.extend(a.Raven,{config:function(){return this},install:function(){return this}}),b.mock||(i.useStaticFilesLoader({prefix:"/assets/translations/",suffix:".json"}),k.localeLocationPattern("/assets/angular-locale_{{locale}}.js")),i.useSanitizeValueStrategy(null),l.includeSpinner=!1,function(a){b.element("html").addClass(a.desktop?"desktop":"").addClass(a.platform).addClass(a.name).addClass(a.name+"-"+a.versionNumber)}(b.element.browser||{}),h.options.backdrop="static"}]})}(this),function(d){b.cloudike=b.extend(b.cloudike||{},{baseAppRun:["CONST","$rootScope","$state","$stateParams","$window","$document","$location","$http","$timeout","$q","$log","$translate","$filter","FileUploader","Restangular","tmhDynamicLocale","localstorageService","websocketService","toaster",function(e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(a){switch(a.status){case 401:b.cloudike.resetToken(),g.current.name&&!1!==g.current.needAuth&&g.go("signin");break;case 426:"DeniedForUsersWithPlanExpire"===a.data.code&&w.pop("error",b.cloudike.translate("Denied for users with plan expire"));break;case 500:if(a.data.code&&a.data.description){w.pop("error",a.data.description);break}g.current.name&&"unavailable"!==g.current.name&&(w.pop("error",b.cloudike.translate("Server error occurred during request processing")),g.go("unavailable"))}}if(f.CONST=e,f.$state=g,f.$stateParams=h,f.$log=o,f.CurrentUser={},f.CurrentLoginType=e.fe.defaultCurrentLoginType||"formEmail",f.screenSize={xs:!1,sm:!1,md:!1,lg:!1},b.element(i).bind("resize",_.debounce(function(){var a,b=i.innerWidth,c=!1;for(var d in f.screenSize)f.screenSize.hasOwnProperty(d)&&(f.screenSize[d]&&(a=d),f.screenSize[d]=!1);b>=1200?(c="lg"!==a,f.screenSize.lg=!0):b>=992?(c="md"!==a,f.screenSize.md=!0):b>=768?(c="sm"!==a,f.screenSize.sm=!0):(c="xs"!==a,f.screenSize.xs=!0),c&&f.$$apply()},100)).trigger("resize"),b.cloudike=b.extend(b.cloudike||{},{$http:l,Restangular:s,emit:function(){f.$emit.apply(f,arguments)},generateKey:function(){return s.one("accounts").one("generate_login_key").post().then(function(a){console.log(a.key)})},getToken:function(){return u.token()},setToken:function(a){if(s.setDefaultHeaders({"Mountbit-Auth":u.token(a)||c}),b.cloudike.jqAjaxSetup({headers:{"Mountbit-Auth":u.token(a)||c}}),a){v.logoff();var d=e.be.websocket||"",g=e.be.longpooling||"";v.login(String(d).format(a),String(g).format(a))}f.$emit("app.set-token",[])},resetToken:function(){(f.CurrentUser||{}).userid=c,s.setDefaultHeaders({"Mountbit-Auth":u.token("")||c}),b.cloudike.jqAjaxSetup({headers:{"Mountbit-Auth":u.token("")||c}}),v.logoff(),f.$emit("app.reset-token",[])},getUsername:function(){return(f.CurrentUser||{}).name||""},addLogin:function(a){f.CurrentUser.logins.push(a)},getLogin:function(a,b){for(var d,e,g=f.CurrentUser.logins,h=0,i=g.length;h<i&&(d=g[h],(e=d.substring(d.indexOf(":")+1))===d||a&&a!==d.substring(0,d.indexOf(":")));h++)e=c,d=c;return!0===b?e:d},removeLogin:function(a){for(var b=f.CurrentUser.logins,c=b.length;c-- >0;)b[c]===a&&b.splice(c,1)},pathAsFilename:function(a,b){return a?a.split("/").pop()||b||"":b||""},pathAsParentFoldername:function(a,b){return a=a?a.substring(0,a.lastIndexOf("/")+1):b,"/"===a&&"string"==typeof b?b:a},pathAsFileonlyname:function(a,c){var d=b.cloudike.pathAsFilename(a);return d&&(d=d.split("."),d.pop(),d=d.join(".")),d||(c||"")},pathAsFiletype:function(a,c){var d=b.cloudike.pathAsFilename(a);return d&&(d=d.split(".").pop()),d?"."+d:c||""},itemHref:function(a,b,c){return c&&c.hasOwnProperty("folderPath")&&c.hasOwnProperty("filePath")?g.href(b,{path:c.folderPath,file:c.filePath}):c&&c.hasOwnProperty("folder")?!0===c.folder?g.href(a||g.current.name,{path:c.path,file:null}):g.href(b||g.current.name,{file:c.path}):""},translate:function(){var a=q("translate");return function(b){return a.apply(null,arguments)||b}}(),fileurl:function(){var a=e.be.fileproxy||c;return a=a?a.replace(/\/$/,""):a,function(b){return a&&(b=a+b.substring(b.indexOf("/",b.indexOf("//")+2))),b}}(),extend:function(a,c){var d=Array.prototype.slice.call(arguments,1);if(!0===a)for(var e in c)c.hasOwnProperty(e)&&delete c[e];return b.extend.apply(this,d)},result:function(a,d){var e=Array.prototype.slice.call(arguments,2);if(null==a)return c;var f=a[d];return b.isFunction(f)?f.apply(a,e):f},path:function(){for(var a=[""],b=0,c=arguments.length;b<c;b++){var d=arguments[b];d&&"/"!==d&&a.push(d.replace(/^\/\/*/,"").replace(/\/\/*$/,""))}return a.join("/")||"/"},apiFixPath:function(a){var b=e.be.api;return b=b.split("/api/"),a=a.split("/api/"),2===b.length&&2===a.length?b[0]+"/api/"+a[1]:a},normalizeString:function(a){return String(a).replace(/^[\'\"]|[\'\"]$/g,"")},formData:function(){var a=b.extend.apply(this,arguments),c=[];for(var d in a)if(a.hasOwnProperty(d)){var e={};e[d]=a[d],c.push(e)}return c},toParam:function(a,c,d){var e,f,g=[];for(f in a)a.hasOwnProperty(f)&&(e=a[f],f=c||f,(e=null===e?encodeURIComponent(f)+"=":void 0===e?"":"object"!=typeof e?!0===d?f+"="+e:encodeURIComponent(f)+"="+encodeURIComponent(e):b.cloudike.toParam(e,f,d))&&g.push(e));return g.join("&")},getUrlParam:function(a,b,c){var d={},e=String(a).split("?")[1]||String(a);if(e=e?String(e).split("&"):[],e.length)for(var f=0,g=e.length;f<g;f++){var h=String(e[f]).split("=")||[];2===h.length&&(d[h[0]]=h[1])}return b?!0===c?decodeURIComponent(d[b]):d[b]||"":d},normalizePhone:function(a){return!a||"number"!=typeof a&&"string"!=typeof a?a:"+"+String(a).replace(/[\(\)\[\]\s\+\-]+/g,"")},parseUrl:function(){var a=document.createElement("a");return function(e){var f;if(!f&&d.purl)try{f=d.purl(e).data.attr}catch(a){f=c}return f||(a.href=e,f={protocol:a.protocol,hostname:a.hostname,host:a.host,port:a.port,pathname:a.pathname,search:a.search,hash:a.hash,params:b.cloudike.getUrlParam(a.search)}),b.extend(f,-1===e.indexOf("?")?{}:{path:e.substring(0,e.lastIndexOf("?")),query:e.substring(e.lastIndexOf("?")+1)})}}(),isPhone:function(a){return/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/.test(a)||/^\+\d+$/.test(a)},isEmail:function(a){return e.fe.emailPattern.test(a)},isPhoneOrEmail:function(a){return b.cloudike.isPhone(a)||b.cloudike.isEmail(a)},resetFormErrors:function(a){a.errors=[];for(var c in a)a.hasOwnProperty(c)&&b.isObject(a[c])&&"$"!==String(c).charAt(0)&&(a[c].errorMessage="")},closeAllModals:function(){for(var a=b.element(document.body).find("div"),c=a.length;c-- >0;){var d=b.element(a[c]);if(d.hasClass("modal")){var e=d.data();if(e&&e.hasOwnProperty("$scope")){try{e.$scope.close()}catch(a){}try{e.$scope.$parent.$close()}catch(a){}}if(e&&e.hasOwnProperty("$isolateScope")){try{e.$isolateScope.close()}catch(a){}try{e.$isolateScope.$parent.$close()}catch(a){}}}}},getContentByPath:function(a,b){a=a||[];for(var c=a.length;c-- >0;)if(a[c].path==b)return a[c];return null},getStateParams:function(a){return a.$current.url.exec(k.path(),k.search())},parseErrors:function(a){var c=[];if("string"==typeof a&&c.push(a.replace(/^[\s'"]+|[\s'"]+$/g,"")),b.isArray(a))for(var d=0,e=a.length;d<e;d++)if("string"==typeof a[d]&&c.push(a[d]),b.isArray(a[d])&&2===a[d].length){var f=a[d][1];"string"==typeof f&&c.push(f),b.isArray(f)&&c.push(f[0])}if(b.isObject(a)&&!b.isArray(a)&&a.hasOwnProperty("detail"))for(var g in a.detail)if(a.detail.hasOwnProperty(g)){var f=a.detail[g];"string"==typeof f&&c.push(f),b.isArray(f)&&c.push(f[0])}return c},safeHtml:function(){var a=b.element(document.createElement("div"));return function(b){return a.html(b).find("style, script, title, meta").remove(),b=a.html(),a.empty(),b}}(),copyFields:function(a,b,c){for(var d=0,e=c.length;d<e;d++){var f=c[d];b.hasOwnProperty(f)&&(a[f]=b[f])}return a},getResolveByName:function(a,b){for(var c;!c&&b;){var d=b.resolve;for(var e in d)if(d.hasOwnProperty(e)&&e===a){c=d[e];break}b=b.parent}return c},noteConfirmAccount:function(){return w.pop("note",b.cloudike.translate("Please complete the registration account"),b.cloudike.translate("Click here to go to the profile, and complete authorization."),null,null,b.cloudike.moveToConfirmForm)},moveToConfirmForm:function(){w.clear(),b.cloudike.closeAllModals(),g.go("profile")},noteExtendQuota:function(){var a,d;return f.CurrentUser&&f.CurrentUser.userid?(f.CurrentUser.quota_size?(a=b.cloudike.translate("Storage quota exceeded"),d=b.cloudike.translate("Click here to go to the profile, and extend quota.")):(a=b.cloudike.translate("You have no an storage quota"),d=b.cloudike.translate("Click here to go to the profile, and select quota.")),w.pop("note",a,d,36e5,null,b.cloudike.moveToExtendQuota,c,!1)):c},moveToExtendQuota:function(){w.clear(),b.cloudike.closeAllModals(),g.go("plans")},getNoticeByHash:function(a){for(var b=f.MyNotices||[],c=b.length;c-- >0;)if(b[c].hash===a)return b[c]},availableQuota:function(a){if(-1===f.CurrentUser.quota_size)return Number.MAX_VALUE;if(!f.CurrentUser.quota_size)return 0;var b=f.CurrentUser.quota_size-f.CurrentUser.storage_size;return a?Math.abs(b):b},readFilesAsDataURL:function(){function a(){this.file.isFile=!0,this.file.isFolder=!1,this.deferred.resolve(this.file)}function c(){this.file.isFolder=!0,this.file.isFile=!1,this.deferred.resolve(this.file)}return function(d){for(var e=!!i.FileReader,f=[],g=0,h=d.length;g<h;g++)if(e){var j=n.defer(),k=new FileReader;k.onerror=b.bind({file:d[g],deferred:j},c),k.onload=b.bind({file:d[g],deferred:j},a);try{k.readAsDataURL(d[g].slice(0,256))}catch(a){d[g].isFolder=!0,d[g].isFile=!1,j.resolve(d[g])}f.push(j.promise)}else d[g].isFile=!0,d[g].isFolder=!1;return e?n.all(f):n.resolve(d)}}()}),b.extend(f,{$$on:function(a,c){a=b.isArray(a)?a:[a];for(var d=[],e=0,g=a.length;e<g;e++)d.push(f.$on(a[e],c));return function(){for(var a=0,b=d.length;a<b;a++)d[a]()}},$$go:b.cloudike.$$go,$$once:function(a,b){var c,d=this;return c=d.$on(a,function(){c(),b.apply(this,arguments)})},$$apply:function(a){this.$$phase||this.$apply()},$$goTo:function(a,b){a&&g.go(a,b||{})},$log:console.log,ceil:Math.ceil,floor:Math.floor,isArray:_.isArray,indexOf:_.indexOf,range:_.range,size:_.size,browser:b.element.browser,fileurl:b.cloudike.fileurl,translate:b.cloudike.translate,pathAsFilename:b.cloudike.pathAsFilename,pathAsParentFoldername:b.cloudike.pathAsParentFoldername,itemHref:b.cloudike.itemHref,supportDirectory:/Chrome/.test(a.navigator.userAgent),filter:function(a,b){if("function"==typeof arguments[1])return _.filter.apply(this,arguments);for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];if(f!==b){if(f&&b&&"object"==typeof f&&"object"==typeof b)for(var g in b)b.hasOwnProperty(g)&&f.hasOwnProperty(g)&&b[g]===f[g]&&c.push(f)}else c.push(f)}return c},fieldIsTrimming:function(a,b){var c=String(b.$value||"");return!(" "===c.charAt(0)||" "===c.charAt(c.length-1))},fieldIsPhoneOrEmail:function(a,c){var d=String(c.$value||"");return!d||b.cloudike.isPhoneOrEmail(d)},testPath:function(a,b){var c=!0;return a!==b&&(a=String(a||""),b=String(b||""),c=-1!==(a+("/"!==a.charAt(a.length-1)?"/":"")).indexOf(b+("/"!==b.charAt(b.length-1)?"/":""))),c},parsePath:function(a){return a=String(a).split("/"),{file:a.pop(),path:1===a.length?"/":a.join("/")}},getStateByName:function(a,b){for(a=a.$current;a&&a.name;){if(a.name===b)return a;a=a.parent}return c},getSref:function(a,b){return console.log(a,b),""},setLoginType:function(a){switch(a){case"formEmail":case"formPhone":return f.CurrentLoginType=a}},getAppLink:function(){return f.AppLinks||s.one("soft").one("list_version").get().then(function(a){if(f.AppLinks={},b.isArray(a))for(var c=a.length;c-- >0;){var d=a[c];f.AppLinks[d.platform]=d.link}},function(){f.AppLinks={}})}}),b.extend(n,{sequence:function(a){var c=n.defer(),d=n.defer(),e=c.promise,f=[],g=[],h=function(b,c){c?f.push(b):g.push(b),f.length+g.length===a.length&&(g.length?d.reject({success:f,error:g}):d.resolve(f))};return b.forEach(a,function(a){e=e.finally(function(){return a().then(function(a){h(a,!0)},function(a){h(a,!1)})})}),c.resolve(),d.promise}}),Modernizr.addTest("isios",function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)}),Modernizr.addTest("csscalc",function(){var a="width:",b=document.createElement("div");return b.style.cssText=a+Modernizr._prefixes.join("calc(10px);"+a),!!b.style.length}),f.uploader=new r({scope:f,url:"/",autoUpload:!0,withCredentials:!1,filters:[{name:"default",fn:function(a,c){return!a.name||!/[\\\/\<\>\|\:\*\?\"]+/.test(a.name)||(w.pop("error",b.cloudike.translate('Sorry, you can not upload a file that is used in the title of one of the characters  /: *? "<> |')),!1)}},{name:"filesize",fn:function(a,c){return!(a.size&&e.be.file_max_size&&a.size>e.be.file_max_size)||(w.pop("error",b.cloudike.translate("Sorry, you can not upload a file larger than {0}").format(q("bytes")(e.be.file_max_size,0,"MB"))),!1)}},{name:"quota",fn:function(a,b){return!0}}]}),b.cloudike.jqAjaxSetup({error:x}),s.setBaseUrl(e.be.api),s.setErrorInterceptor(x),s.setOneBaseUrl=function(a,b){if(a){var c=l.defaults.transformRequest;b&&(l.defaults.transformRequest=b),s.setBaseUrl(a),setTimeout(function(){c&&(l.defaults.transformRequest=c),s.setBaseUrl(e.be.api)})}return s},s.withNoneSuffixConfig=function(){return s.withConfig(function(a){a.setRequestSuffix("")})},s.withNotifyConfig=function(a){return s.withConfig(function(b){b.addFullRequestInterceptor(function(b,c,d,e,f,g,h){h.$notify=a})})},b.element(j).bind("paste",function(a){if(!f.CurrentUser||!f.CurrentUser.userid)return c;for(var b=/image.*/,d=(a.clipboardData||a.originalEvent.clipboardData||{items:[]}).items||[],e=0,g=d.length;e<g;e++)if(d[e].type.match(b)){var h=d[e].getAsFile(),i=String(h.type).split("/").pop();f.$emit("app.paste-image","IMG"+(new Date).getTime()+"."+i,h)}}),f.$on("flow.filesAdded",function(a,d,g){if(b.isArray(d)&&0===d.length&&b.element.browser.msie&&w.pop("error",b.cloudike.translate("Sorry, your browser does not support uploading folders")),!f.uploader||!b.isArray(d)||!d.length)return c;for(var h=[],i=0,j=d.length;i<j;i++){var k=d[i];k&&(delete k.uniqueIdentifier,e.be.business_version&&(k.file.relativePath=k.relativePath),h.push(k.file))}b.cloudike.readFilesAsDataURL(h).then(function(a){_.filter(a,function(a){return a.isFolder}).length&&w.pop("error",b.cloudike.translate("Sorry, your browser does not support uploading folders")),a=_.filter(a,function(a){return a.isFile}),a.length&&f.uploader.addToQueue(a)})}),f.$watch("CurrentUser.userid",function(a,d){if(!a||a===d)return c;f.CurrentUser.is_approved||e.be.business_version||b.cloudike.noteConfirmAccount()}),f.$watchCollection("[CurrentUser.storage_size, CurrentUser.quota_size]",function(a,d){return f.CurrentUser&&f.CurrentUser.userid?0===f.CurrentUser.quota_size?c:b.cloudike.availableQuota(!0)>1048576?c:void(e.be.support_extend_quota?b.cloudike.noteExtendQuota():w.pop("error",b.cloudike.translate("Sorry, you can not upload a file that storage quota exceeded"))):c}),f.$watch("CurrentUser.lang",function(a){if(!a)return c;var b=e.fe.lang2locale[a]||e.fe.defaultLocale;b!==p.use()&&p.use(b),t.set(b.toLowerCase())}),f.$on("websocket.storage_info",function(a,d){var g=b.isArray(d)&&d.length?d[0]:c;g&&(!e.be.business_version&&f.CurrentUser.quota_size<g.quota_size&&m(function(){w.clear(),w.pop("success",b.cloudike.translate("Your quota size has been increased!"))},2e3),b.extend(f.CurrentUser,g.hasOwnProperty("home_storage_size")?{storage_size:g.home_storage_size}:{},g.hasOwnProperty("quota_size")?{quota_size:g.quota_size}:{}),f.$$apply())}),f.$on("$stateChangeStart",function(a,b,c,d,e){f.transitionToState=b}),f.$on("$stateChangeStart",function(a,d,e,f,g){b.element(".navbar-toggle").each(function(a,d){var e=b.element(d).attr("data-target");if(!e)return c;b.element(e).hasClass("in")&&b.element(d).trigger("click")})}),f.$on("$stateChangeSuccess",function(a,c,d,e,f){b.element(i).trigger("resize")}),f.$on("$stateChangeError",function(a,c,d,e,f,h){h&&401===h.status&&(b.cloudike.resetToken(),g.go("signin"))}),i.ga&&f.$on("$stateChangeSuccess",function(a,b,c,d,e){b.name&&b.name!==d.name&&i.ga("send","pageview",b.name)}),"localhost"===k.$$host&&f.$on("$stateChangeError",function(){console.info("$stateChangeError",arguments)}),e.be.show_version){var y=b.element('<div class="b-app-version" />').css({position:"absolute",top:0,left:0,"z-index":9e3});b.element("<div />").html(e.fe.version).appendTo(y),y.appendTo(i.document.body)}}]})}(this),function(a){function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}b.cloudike=b.extend(b.cloudike||{},{baseCONST:{be:{},fe:{version:a.app_version||"0.0.0",gridcol:4,pathsep:"/",gif_blank:"data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",infinite_scroll_container:function(){return a.innerWidth>=992?".infinite-scroll-container":null}(),clip_available:function(){var d=!!a.ZeroClipboard&&!a.ZeroClipboard.isFlashUnusable();if(!d)return d;var e=document.createElement("div");e.setAttribute("data-clipboard-text","data-clipboard-text"),c(e.style,{display:"block",width:"1px",height:"1px",position:"absolute",zIndex:0,left:"-1px",top:"-1px"}),(document.body||document.head).appendChild(e);var f=ZeroClipboard(e);return f.on("ready",function(){d=!0,b.cloudike.baseCONST.fe.clip_available=d}),f.on("error",function(){d=!1,b.cloudike.baseCONST.fe.clip_available=d}),d}(),fullscreen_available:!!a.screenfull&&!!a.screenfull.enabled,langs:[{value:"en",label:"English"},{value:"ru",label:"Русский"},{value:"ko",label:"한국어"}],timezones:[{value:"Pacific/Apia",label:"(GMT-11:00) Midway Island, Samoa"},{value:"Pacific/Honolulu",label:"(GMT-10:00) Hawaii"},{value:"America/Anchorage",label:"(GMT-09:00) Alaska"},{value:"America/Los_Angeles",label:"(GMT-08:00) Tijuana, Baja California"},{value:"America/Phoenix",label:"(GMT-07:00) Arizona"},{value:"America/Denver",label:"(GMT-07:00) Pacific Time (U.S. & Canada)"},{value:"America/Chihuahua",label:"(GMT-07:00) Chihuahua, La Paz, Mazatlan"},{value:"America/Managua",label:"(GMT-06:00) Central America"},{value:"America/Regina",label:"(GMT-06:00) Saskatchewan"},{value:"America/Mexico_City",label:"(GMT-06:00) Gvalahara, Mexico City, Monterrey"},{value:"America/Chicago",label:"(GMT-06:00) Central Time (U.S. & Canada)"},{value:"America/Indianapolis",label:"(GMT-05:00) Indiana (East)"},{value:"America/Bogota",label:"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"},{value:"America/New_York",label:"(GMT-05:00) Eastern Time (U.S. & Canada)"},{value:"America/Caracas",label:"(GMT-04:00) Caracas, La Paz"},{value:"America/Santiago",label:"(GMT-04:00) Santiago"},{value:"America/Halifax",label:"(GMT-04:00) Atlantic Time (Canada)"},{value:"America/St_Johns",label:"(GMT-03:30) Newfoundland"},{value:"America/Buenos_Aires",label:"(GMT-03:00) Buenos Aires, Georgetown"},{value:"America/Godthab",label:"(GMT-03:00) Greenland"},{value:"America/Sao_Paulo",label:"(GMT-03:00) Brazil"},{value:"America/Noronha",label:"(GMT-02:00) Mid-Atlantic"},{value:"Atlantic/Cape_Verde",label:"(GMT-01:00) Cape Verde Islands"},{value:"Atlantic/Azores",label:"(GMT-01:00) Azores"},{value:"Africa/Casablanca",label:"(GMT) Casablanca, Monrovia"},{value:"Europe/London",label:"(GMT) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London"},{value:"Africa/Lagos",label:"(GMT+01:00) West Central Africa"},{value:"Europe/Berlin",label:"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"},{value:"Europe/Paris",label:"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"},{value:"Europe/Sarajevo",label:"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"},{value:"Europe/Belgrade",label:"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"},{value:"Africa/Johannesburg",label:"(GMT+02:00) Harare, Pretoria"},{value:"Asia/Jerusalem",label:"(GMT+02:00) Jerusalem"},{value:"Europe/Istanbul",label:"(GMT+02:00) Athens, Bucharest, Istanbul"},{value:"Europe/Helsinki",label:"(GMT+02:00) Helsinki, Riga, Sofia, Tallinn, Vilnius"},{value:"Africa/Cairo",label:"(GMT+02:00) Cairo"},{value:"Europe/Bucharest",label:"(GMT+02:00) Bucharest"},{value:"Europe/Kiev",label:"(GMT+02:00) Kiev"},{value:"Europe/Minsk",label:"(GMT+03:00) Minsk, Kaliningrad"},{value:"Africa/Nairobi",label:"(GMT+03:00) Nairobi"},{value:"Asia/Riyadh",label:"(GMT+03:00) Kuwait, Riyadh"},{value:"Asia/Baghdad",label:"(GMT+03:00) Baghdad"},{value:"Europe/Moscow",label:"(GMT+03:00) Moscow, St. Petersburg, Volgograd, Samara"},{value:"Asia/Tehran",label:"(GMT+03:30) Tehran"},{value:"Asia/Muscat",label:"(GMT+04:00) Abu Dhabi, Muscat"},{value:"Asia/Tbilisi",label:"(GMT+04:00) Baku, Tbilisi, Yerevan"},{value:"Asia/Kabul",label:"(GMT+04:30) Kabul"},{value:"Asia/Karachi",label:"(GMT+05:00) Islamabad, Karachi, Tashkent"},{value:"Asia/Aqtobe",label:"(GMT+05:00) Aktobe"},{value:"Asia/Calcutta",label:"(GMT+05:30) Bombay, Calcutta, Madras, New Delhi"},{value:"Asia/Katmandu",label:"(GMT+05:45) Katmandu"},{value:"Asia/Yekaterinburg",label:"(GMT+06:00) Yekaterinburg"},{value:"Asia/Colombo",label:"(GMT+06:00) Sri Jayawardenepura"},{value:"Asia/Dhaka",label:"(GMT+06:00) Dhaka"},{value:"Asia/Almaty",label:"(GMT+06:00) Astana, Almaty"},{value:"Asia/Rangoon",label:"(GMT+06:30) Yangon (Rangoon)"},{value:"Asia/Novosibirsk",label:"(GMT+07:00) Novosibirsk"},{value:"Asia/Bangkok",label:"(GMT+07:00) Bangkok, Jakarta, Hanoi"},{value:"Asia/Krasnoyarsk",label:"(GMT+08:00) Krasnoyarsk"},{value:"Australia/Perth",label:"(GMT+08:00) Perth"},{value:"Asia/Taipei",label:"(GMT+08:00) Taipei"},{value:"Asia/Singapore",label:"(GMT+08:00) Kuala Lumpur, Singapore"},{value:"Asia/Hong_Kong",label:"(GMT+08:00) Beijing, Hong Kong, Urumqi"},{value:"Asia/Irkutsk",label:"(GMT+09:00) Irkutsk"},{value:"Asia/Tokyo",label:"(GMT+09:00) Osaka, Sapporo, Tokyo"},{value:"Asia/Seoul",label:"(GMT+09:00) Seoul"},{value:"Australia/Darwin",label:"(GMT+09:30) Darwin"},{value:"Australia/Adelaide",label:"(GMT+09:30) Adelaide"},{value:"Asia/Yakutsk",label:"(GMT+10:00) Yakutsk"},{value:"Pacific/Guam",label:"(GMT+10:00) Guam, Port Moresby"},{value:"Australia/Brisbane",label:"(GMT+10:00) Brisbane"},{value:"Australia/Hobart",label:"(GMT+10:00) Hobart"},{value:"Australia/Sydney",label:"(GMT+10:00) Canberra, Melbourne, Sydney"},{value:"Asia/Vladivostok",label:"(GMT+11:00) Vladivostok, Sakhalin"},{value:"Asia/Magadan",label:"(GMT+12:00) Chukotka, Kamchatka, Magadan"},{value:"Pacific/Fiji",label:"(GMT+12:00) Fiji, Marshall Islands"},{value:"Pacific/Auckland",label:"(GMT+12:00) Auckland, Wellington"},{value:"Pacific/Tongatapu",label:"(GMT+13:00) Nukuʻalofa"}],events:[{value:"folder_created",label:"Added folder"},{value:"folder_renamed",label:"Edited folder"},{value:"folder_moved",label:"Moved folder"},{value:"folder_deleted",label:"Deleted folder"},{value:"folder_undeleted",label:"Restored folder"},{value:"file_created",label:"Added file"},{value:"file_renamed",label:"Edited file"},{value:"file_moved",label:"Moved file"},{value:"file_deleted",label:"Deleted file"},{value:"file_undeleted",label:"Restored file"},{value:"link_created",label:"Created public link"},{value:"link_deleted",label:"Removed public link"},{value:"trash_cleared",label:"Cleared trash bin"}],transfers:{statuses:[{value:"accepted",label:"Accepted"},{value:"requested",label:"Requested"},{value:"rejected",label:"Rejected"}],users:[{value:"my",label:"Me_I"},{value:"others",label:"Other users"}]},lang2locale:app_config.i18n.lang2locale,defaultLocale:app_config.i18n.defaultLocale,filenameAllowedCharactersPattern:/^[^\\:\?\*<>"\|]+$/,passwordAllowedCharactersPattern:/^[\S]+$/,domainAllowedCharactersPattern:/^[a-z0-9][a-z0-9\-]*[a-z0-9]$/,fullDomainPattern:/^[a-z0-9][a-z0-9\-\.]*[a-z0-9]$/,emailPattern:/^(([a-zA-Z]|[0-9])|([-]|[_]|[.]))+[@](([a-zA-Z0-9])|([-])){2,63}[.](([a-zA-Z0-9]){2,63})([.]?(([a-zA-Z0-9]){2,63})?)+$/,onlyDigit:/^[0-9]*$/,year:/^[0-9]{4}$/,month:/^(?:0[1-9]|1[0-2])$/,birthDay:/^[0-9]{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[1,2][0-9]|3[0,1])$/,businessNumber:/^[0-9]{10}$/,phonePattern:/^(?:\+?\d{1,2}[ -]?[\d -][\d -]+)$/,phonePatternBiz:/^(.+@.+\..+?|\+?\d{9,15})$/,quotaPattern:/^\d+([.]\d+)?$/},routes:{signin:"/signin",page404:"/404",index:"/drive"},devices:[{value:"DESKTOP_WIN",label:"desktop-client-win"},{value:"DESKTOP_MAC",label:"desktop-client-mac"},{value:"DESKTOP_LINUX",label:"desktop-client-linux"},{value:"MOBILE_ANDROID",label:"mobile-android"},{value:"MOBILE_IOS",label:"mobile-ios"},{value:"MOBILE_IOS",label:"modile-ios"},{value:"WEB_FRONTEND",label:"web-frontend"},{value:"BROWSER",label:"browser"},{value:"UNKNOWN",label:"unknown"},{value:"WEB_ADMIN",label:"web-admin"},{value:"CONTACT_SERVER",label:"contact-server"},{value:"WEB_DAV",label:"webdav"}],vcard_types:[{value:"WORK",label:"WORK"},{value:"HOME",label:"HOME"},{value:"PERSONAL",label:"PERSONAL"},{value:"MOBILE",label:"MOBILE"},{value:"BIRTHDAY",label:"BIRTHDAY"},{value:"ANNIVERSARY",label:"ANNIVERSARY"},{value:"PROFILE",label:"PROFILE"},{value:"BLOG",label:"BLOG"}],file_types:[{value:"all",label:"all"},{value:"unknown",label:"unknown"},{value:"archive",label:"archive"},{value:"binary",label:"binary"},{value:"video",label:"video"},{value:"audio",label:"audio"},{value:"vector",label:"vector"},{value:"application",label:"application"},{value:"code",label:"code"},{value:"font",label:"font"},{value:"database",label:"database"},{value:"image",label:"image"},{value:"system",label:"system"},{value:"internet",label:"internet"},{value:"settings",label:"settings"},{value:"ebook",label:"ebook"},{value:"spreadsheet",label:"spreadsheet"},{value:"document_office",label:"document_office"},{value:"emaildata",label:"emaildata"},{value:"document",label:"document"},{value:"presentation_office",label:"presentation_office"},{value:"spreadsheet_office",label:"spreadsheet_office"},{value:"presentation",label:"presentation"},{value:"ebook_adobe",label:"ebook_adobe"},{value:"document_text",label:"document_text"}]}})}(this);var d=b.module("ngCloudike",["templates-app","templates-gcommon","templates-common","ui.bootstrap","ui.router","ui.mask","ui.validate","ui.indeterminate","ui.event","restangular","angularFileUpload","flow","toaster","pascalprecht.translate","tmh.dynamicLocale","once","cfp.loadingBar","ngAnimate","infinite-scroll","ipCookie","jqEllipsis","ngTagsInput","mentio","ngLetterAvatar","ngCookies","ngLocale","ngAutocompleteReflect","ngServerValidate","ngValidateHint","ngFileUploader","clUnsupportBrowser","clBreadcrumb","clCheckbox","clCheckPassword","clFolderAsTree","clFolderContents","clSortableTable","clPreviewCarousel","clPdfjs","clProgressBar","clNoclick","clSelectOnClick","clConnectionStateHint","clCompanySettingsWizard","clDropdown","clFilePreview","clEllipsis","clMoveOrCopy","usersService","GroupsService","clShare","LinkOptions","clSlideWidth","clPopoverMetadataInfo","clDragDrop","clActionHandler","clImagePreloader","clNoticesList","clServerValidate","clBtnLoading","clOffClick","clOnScroll","clTour","clRename","clItemIcon","clItemIconType","clAutoLogout","clNgRepeatRenderCheck","serviceAbstractMetadata","serviceLocalMetadata","serviceTrashMetadata","serviceSearchMetadata","serviceAlbumMetadata","serviceNaturalOrder","serviceAsyncTask","localstorageService","fsnotifyService","websocketService","taskService","eventsService","loadingService","previewState","dialog","fileCommentsService","ngCloudike.page404","ngCloudike.oauth","ngCloudike.signup","ngCloudike.signup-business","ngCloudike.signin","ngCloudike.signout","ngCloudike.resetPassword","ngCloudike.changePassword","ngCloudike.drive","ngCloudike.driveShared","ngCloudike.drivePublic","ngCloudike.driveAlbum","ngCloudike.driveShares","ngCloudike.driveTrash","ngCloudike.driveSearch","ngCloudike.transfers","ngCloudike.profile","ngCloudike.profile.company","ngCloudike.profile.company.users","ngCloudike.profile.company.groups","ngCloudike.profile.company.folders","ngCloudike.profile.company.shares","ngCloudike.profile.company.log","ngCloudike.profile.company.foldersizecalc","ngCloudike.companyFolders","ngCloudike.unavailable","ngCloudike.terms"]).value("THROTTLE_MILLISECONDS",500).constant("CONST",function(){var a={api:"http://saas-be-dev.cloudike.com/api/1/"},c={langs:[{value:"en",label:"English"},{value:"ko",label:"한국어"},{value:"ja",label:"日本語"}],page_more_size:10,metadataWaitForComplete:!0,tariff:{kr:{plans:[{value:15e3,label:"classic"},{value:28e3,label:"premium"},{value:72e3,label:"platinum"}],billing_plan:[{discount:1,month:1,label:"Monthly billing"},{discount:.95,month:6,label:"Six month billing"},{discount:.9,month:12,label:"Annually billing"}]},jp:{plans:[{value:4050,label:"classic"},{value:7560,label:"premium"},{value:18900,label:"platinum"}],billing_plan:[{discount:1,month:1,label:"Monthly billing"}]},VAT:1.1},defaultBaseLocale:"ko"},d={signin:"/signin",page404:"/404",index:"/drive",terms:"/terms"};return{be:b.extend(b.cloudike.baseCONST.be||{},this.app_config||a||{}),fe:b.extend(b.cloudike.baseCONST.fe||{},c),routes:b.extend(b.cloudike.baseCONST.routes||{},d)}}()).config(b.cloudike.baseAppConfig).config(["CONST","$stateProvider","$translateProvider","flowFactoryProvider","$provide",function(a,d,e,f,g){e.addInterpolation("$translateMessageFormatInterpolation"),g.decorator("inputDirective",["$delegate",function(a){var b=a[0],c=b.compile;return b.compile=function(a,b){var d=c.apply(this,arguments);return function(a,b,c){d.apply(this,arguments),b.on("compositionupdate",function(a){b.triggerHandler("compositionend")})}},a}]),d.state("cloudike-base",{abstract:!0,resolve:{ClientStatus:b.cloudike.baseClientStatus,StatusDependence:b.cloudike.baseStatusDependence,CurrentLocale:b.cloudike.baseCurrentLocale,AppLinks:b.cloudike.baseAppLinks,CurrentUser:["Restangular","$q","$rootScope","$state",function(a,b,d,e){d.$$once("app.reset-token",function(){delete d.CurrentUser});var f=null;return!1!==d.transitionToState.needAuth||d.transitionToState.tryGetUser?(f=b.defer(),a.one("accounts").one("get").get().then(function(a){d.CurrentUser=a,d.CurrentLocale=a.lang,f.resolve(a)},function(a){!1!==d.transitionToState.needAuth?(f.reject(a),e.go("signin")):f.resolve()}),f.promise):c}],CurrentCompany:["CurrentUser","Restangular","$q","$rootScope","$window","$state","clCompanySettingsWizard","changePassword","$timeout","clAutoLogout",function(c,d,e,f,g,h,i,j,k,l){f.$$once("app.reset-token",function(){delete f.CurrentCompany});var m=null;return f.CurrentUser&&f.CurrentUser.company_id?f.CurrentCompany&&!f.CurrentCompany.byDomain?f.CurrentCompany:(m=e.defer(),d.one("accounts").one("company").one(f.CurrentUser.company_id).get().then(function(c){f.CurrentCompany=c;var d=g.location.host.match("(.+)\\."+a.be.web_host),e=f.CurrentCompany.domain+"."+a.be.web_host;!b.isArray(d)||2===d.length&&d[1]!==f.CurrentCompany.domain?(m.reject(),delete f.CurrentCompany,h.params.hash||h.params.oauth_token||h.params.key?(b.cloudike.setToken(b.cloudike.getToken()),g.location=g.location.protocol+"//"+e+"/signin?token="+b.cloudike.getToken()+(f.transitionToState.stringifyBack?"&back="+f.transitionToState.stringifyBack:"")):g.location.host=e):m.resolve(c),f.CurrentUser&&"company_admin"===f.CurrentUser.role&&f.CurrentCompany&&("string"==typeof f.CurrentCompany.wizard_state&&(f.CurrentCompany.wizard_state=f.CurrentCompany.wizard_state.length>0?b.fromJson(f.CurrentCompany.wizard_state):{}),f.CurrentCompany.wizard_state.done||k(function(){i.modal()},1e3)),f.CurrentUser&&f.CurrentUser.need_password_change&&j.open(),f.CurrentCompany.logout_timeout_enable&&l.init()},function(a){!1!==f.transitionToState.needAuth?(m.reject(a),h.go("signin")):m.resolve()}),m.promise):{}}],FolderTree:["CurrentUser","CurrentCompany","serviceLocalMetadata","$rootScope",function(a,b,c,d){if(d.$$once("app.reset-token",function(){delete d.FolderTree}),d.CurrentUser&&d.CurrentUser.userid)return d.FolderTree?d.FolderTree:c.get().then(function(a){d.FolderTree=c.tree})}],MyNotices:["CurrentUser","CurrentCompany","Restangular","$rootScope",function(a,b,c,d){if(d.$$once("app.reset-token",function(){delete d.MyNotices}),d.CurrentUser&&d.CurrentUser.userid)return d.MyNotices?d.MyNotices:c.one("notices").get({limit:16}).then(function(a){d.MyNotices=a,d.MyNoticesNewEventsCount=_.where(d.MyNotices,{status:"new"}).length},function(){d.MyNotices=[]})}],CurrentCompanyByDomain:["CurrentCompany","Restangular","$q","$rootScope","$window","CONST",function(a,d,e,f,g,h){var i=null;if(a&&a.company_id)return a;var j=g.location.host.match("(.+)\\."+h.be.web_host);return b.isArray(j)&&2===j.length?(i=e.defer(),d.one("accounts").one("company").one("domain",j[1]).get().then(function(a){f.CurrentCompany=b.extend(a,{byDomain:!0}),i.resolve(f.CurrentCompany)},function(a){i.reject(),g.location.host=h.be.web_host}),i.promise):c}]}}),d.state("cloudike-root",{url:"/",parent:"cloudike-base",views:{"layout@":{template:"",controller:["CurrentUser","$state",function(a,b){b.go("drive")}]}}}),d.state("cloudike",{abstract:!0,parent:"cloudike-base",views:{"layout@":{templateUrl:"layouts/col-2.tpl.html"},"navbar@":{templateUrl:"common/navbar-with-menu.tpl.html"},"sidebar@cloudike":{templateUrl:"common/sidebar.tpl.html"},"sidebar-bottom@cloudike":{templateUrl:"common/sidebar-bottom.tpl.html",controller:"SidebarBottomCtrl"}}}),d.state("cloudike-clean",{abstract:!0,parent:"cloudike-base",views:{"layout@":{templateUrl:"layouts/col-1.tpl.html"},"navbar@":{templateUrl:"common/navbar.tpl.html"}}}),f.on("catchAll",function(a){var c=["flow."+a].concat(Array.prototype.slice.call(arguments,1));b.cloudike.emit.apply(this,c)})}]).run(b.cloudike.baseAppRun).run(b.cloudike.baseLicense).run(["CONST","$rootScope","$state","$window","Restangular","localstorageService","websocketService","clConnectionStateHint","ipCookie","toaster","dialog",function(a,c,d,e,f,g,h,i,j,k,l){b.cloudike=b.extend(b.cloudike||{},{getLinkKey:function(a){var c=e.sessionStorage.CLLINKKEY||j("linkkey")||{};return a?b.fromJson(c)[a]:b.fromJson(c)},setLinkKey:function(a,c){var d=function(a,c,d){return a=b.isObject(a)?a:{},c&&d&&(a[c]=d),a};a&&c&&(e.sessionStorage?e.sessionStorage.CLLINKKEY=b.toJson(d(b.cloudike.getLinkKey(),a,c)):"localhost"!==e.location.host&&j("linkkey",b.toJson(d(b.cloudike.getLinkKey(),a,c)),{domain:$location.host(),path:"/"}))},rmLinkKey:function(a){var c=function(a,c){return b.isObject(a)&&a.hasOwnProperty(c)&&delete a[c],a};a?e.sessionStorage?e.sessionStorage.CLLINKKEY=b.toJson(c(b.cloudike.getLinkKey(),a)):"localhost"!==e.location.host&&j("linkkey",b.toJson(c(b.cloudike.getLinkKey(),a)),{domain:$location.host(),path:"/"}):(j.remove("linkkey"),e.sessionStorage.removeItem("CLLINKKEY"))}}),b.cloudike.getToken()&&b.cloudike.setToken(b.cloudike.getToken()),d.lang&&(c.CurrentUser.lang=d.lang),c.$$on(["MyNotices.update","websocket.share_request_sent","websocket.share_invitation_sent","websocket.share_request_declined","websocket.share_request_accepted","websocket.migration_request_sent"],function(){f.one("notices").get({limit:16}).then(function(a){b.cloudike.extend(!0,c.MyNotices,a),c.MyNoticesNewEventsCount=_.where(c.MyNotices,{status:"new"}).length,c.$emit("MyNotices.updated")})}),c.$on("websocket.lost_connection",function(){i.show()}),c.$on("websocket.set_connection",function(){i.hide()}),c.$on("app.reset-token",function(){c.uploader.clearQueue()}),c.$on("websocket.company_admin_changed",function(){l.confirm(b.cloudike.translate("Company admin has changed"),b.cloudike.translate("You can use company admin features after re-login. If you press yes, it will be log out. Continue?"),b.cloudike.translate("Yes"),b.cloudike.translate("No")).then(function(){d.go("signout")}).then(function(){})}),c.$$on(["websocket.can_print_changed","websocket.use_watermarks_changed","websocket.can_download_changed"],function(a,b){switch(a.name){case"websocket.can_print_changed":c.CurrentUser.can_print=b[0].can_print;break;case"websocket.use_watermarks_changed":c.CurrentUser.use_watermarks=b[0].use_watermarks;break;case"websocket.can_download_changed":c.CurrentUser.can_download=b[0].can_download,c.$emit("updateClMenu")}c.$$apply()})}]).controller("AppCtrl",["CONST","$scope","$rootScope","$timeout","$location","cfpLoadingBar","$modal",function(a,c,d,e,f,g,h){d.$on("$stateChangeStart",function(a,c,d){c.stringifyBack=encodeURIComponent(b.toJson({name:c.name,params:d}))}),d.showModal=function(a){h.open({templateUrl:a,size:""})},c.$on("$stateChangeSuccess",function(a,d,e,f,g){b.isDefined(d.data)&&(b.isDefined(d.data.pageTitle)&&(c.pageTitle="Cloudike - "+b.cloudike.translate(d.data.pageTitle)),c.htmlClassname=b.isDefined(d.data.htmlClassname)?d.data.htmlClassname:"",c.bodyClassname=b.isDefined(d.data.bodyClassname)?d.data.bodyClassname:"")}),g&&(d.$on("$stateChangeStart",g.start),d.$on("$stateChangeSuccess",g.complete),d.$on("$stateChangeError",g.complete))}]);b.module("ngCloudike.changePassword",[]).factory("changePassword",["$modal",function(a){var b;return{open:function(){b||(b=a.open({backdrop:!0,templateUrl:"changePassword/changePassword.tpl.html",controller:"ChangePasswordCtrl",windowClass:"md-small"}))},close:function(){b.close(),b=!1}}}]).controller("ChangePasswordCtrl",["$scope","$filter","changePassword","Restangular","toaster",function(a,b,c,d,e){a.password={},a.sendRequest=function(){d.one("accounts").post("change_profile",{password:a.password.new}).then(function(a){"OK"===a.code&&(e.pop("note",b("translate")("Password successfully changed")),c.close()),"PasswordNotModified"!==a.code&&"PasswordAlreadyUsed"!==a.code||e.pop("note",b("translate")("This password was already used before. Set another please"))})},a.validatePasswords=function(){a.password.new&&a.password.repeat&&(a.changePasswordForm.$setValidity("minLength",!(a.password.new.length>1&&a.password.new.length<6||a.password.repeat.length>1&&a.password.repeat.length<6)),a.changePasswordForm.$setValidity("passwordsDontMatch",a.password.new===a.password.repeat))}}]),b.module("ngCloudike.common",[]).directive("sidebarBottomPositioning",["$window",function(a){return{restrict:"A",link:function(c,d,e){b.element(a).bind("resize",function(){var a=document.getElementById("sidebar-info");if(a&&a.getBoundingClientRect&&a.getBoundingClientRect()){var c=document.getElementsByClassName("metadata-tree")[0].getBoundingClientRect(),e=document.getElementById("sidebar-info").getBoundingClientRect(),f=15;e.top-f<=c.bottom?b.element(d).css({bottom:"auto",top:c.bottom+f+"px"}):b.element(d).removeAttr("style")}})}}}]),b.module("ngCloudike.companyFolders",[]).config(["$stateProvider",function(a){a.state("companyFolders",{parent:"cloudike",url:"/company",views:{"toolbar@":{templateUrl:"companyFolders/toolbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"toolbar-breadcrumbs@companyFolders":{template:'<ol class="breadcrumb b-breadcrumb"><li translate="COMPANY folders" translate-values="{COMPANY: $root.CurrentCompany.name}"></li></ol>'},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"CompanyFoldersCtrl",templateUrl:"companyFolders/companyFolders.tpl.html"}},resolve:{CompanyFolders:["CurrentUser","Restangular","toaster","$filter",function(a,c,d,e){return c.one("shares").one("company").one("get").get().then(function(a){return b.forEach(a,function(a){b.extend(a,{company_published:!0,folder:!0,icon:"folder"})}),a},function(a){return d.pop("error",b.cloudike.translate("Server error occurred during request processing")),[]})}]},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-scroll",pageTitle:"Company folders"}})}]).controller("CompanyFoldersNavbarCtrl",["$scope",function(a){a.navbarMenu="companyFoldersUserMenu"}]).controller("CompanyFoldersCtrl",["$scope","$rootScope","$state","$stateParams","Restangular","toaster","$filter","$templateCache","CompanyFolders","clActionHandler","clTour",function(a,c,d,e,f,g,h,i,j,k,l){if(c.CurrentUser.company_id||d.go("drive"),a.gridOptions={gridName:"user.company.folders",defaultSort:["-public_name"],uniqueItemField:"folder_hash",checkboxes:!1,columnDefs:[{title:b.cloudike.translate("Name"),cellTemplate:i.get("companyFolders/nameColumn.tpl.html"),sortKey:"public_name",size:"35%"},{title:b.cloudike.translate("Owner"),cellTemplate:"<span once-text=\"item.owner_id == $root.CurrentUser.userid ? ('Me' | translate) : item.owner_name\"></span>",sortKey:"owner_name",size:"15%"},{title:b.cloudike.translate("Collaborators"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="item.collaborators_count"></span>',sortKey:"collaborators_count",size:"15%"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellTemplate:'<span once-text="item.modification_time | datetime"></span>',cellClass:"text-right",sortKey:"modified",size:"15%"},{title:b.cloudike.translate("Published"),colClass:"hidden-xs",cellTemplate:'<span once-text="item.creation_date | datetime"></span>',cellClass:"text-right",sortKey:"creation_date",size:"20%"}],helpers:{requestAccess:function(a){k.requestAccessToCompanyFolder({selectedItems:[a]})}}},a.folders=j,c.CurrentUser&&c.CurrentUser.need_tutorial){if("company_admin"===c.CurrentUser.role&&!c.CurrentCompany.wizard_state.done)return;if(c.CurrentUser.tutorial_company_shared||c.CurrentUser.tutorial_last_step){var m=l.init_tour(!0,"auto",function(){c.CurrentUser.tutorial_end=!0});m.addSteps([{element:"#company_folder_tour",placement:"bottom",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("Now every user in you company can see this folder list, however they will not be able to see the contents unless you give permission")},{element:"#notice_menu",placement:"bottom",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("For a user to gain access, the user must request access to the owner of the folder. Then you will get an event message")},{element:"#drive_menu",placement:"bottom",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("Let's back to Cloudike menu. Click here")}]),m.init(),m.resume()||m.end()?m.restart():m.start()}else{var m=l.init_tour(!0,"auto",function(){c.CurrentUser.tutorial_last_step=!0});m.addSteps([{element:"#company_folder_tour",title:b.cloudike.translate("STEP2. Request access to shared folder to Admin"),content:b.cloudike.translate("This is company shared folder list. But you can only access folders which the owner allowed you to access")},{element:"#company_folder_tour",title:b.cloudike.translate("STEP2. Request access to shared folder to Admin"),content:b.cloudike.translate("Click the folder you want to access. Green : allowed folder, Red : not allowed yet")},{element:"#drive_menu",title:b.cloudike.translate("Last step!"),content:b.cloudike.translate("Now we have only one more step. Let's back to Cloudike menu. Click here")}]),m.init(),m.resume()||m.end()?m.restart():m.start()}}}]),b.module("ngCloudike.contacts",[]).config(["$stateProvider",function(a){a.state("contacts",{parent:"cloudike",url:"/contacts",needAuth:!0,tryGetUser:!0,views:{"navbar-menu@cloudike":{templateUrl:"contacts/contacts-menu.tpl.html"},"topbar-menu@cloudike":{templateUrl:"contacts/contacts-sidebar.tpl.html"},"sidebar-top@cloudike":{templateUrl:"contacts/contacts-sidebar.tpl.html"},"main@cloudike":{controller:"ContactsCtrl",templateUrl:"contacts/contacts.tpl.html"}},data:{htmlClassname:"g-overflow-hidden-page g-nonetoolbar-page",bodyClassname:"g-body-scroll",pageTitle:"Contacts"},resolve:{cardDav:["cardDavService","cardDavErrorHandlingService","$q",function(a,b,c){return a(!0)}]}}),a.state("contacts-one",{parent:"contacts",url:"/{uid:.*}/{hrefuid:.*}",needAuth:!0,tryGetUser:!0,views:{"navbar-menu@cloudike":{templateUrl:"contacts/contacts-menu.tpl.html"},"topbar-menu@cloudike":{templateUrl:"contacts/contacts-sidebar.tpl.html"},"sidebar-top@cloudike":{templateUrl:"contacts/contacts-sidebar.tpl.html"},"main@cloudike":{controller:"ContactsOneCtrl",templateUrl:"contacts/contacts-edit.tpl.html"}},data:{htmlClassname:"g-overflow-hidden-page g-nonetoolbar-page",bodyClassname:"g-body-scroll",pageTitle:"Contacts"},resolve:{cardDav:["cardDavService","cardDavErrorHandlingService","$q",function(a,b,c){return a(!0).then(null,function(a){return b.displayError(a),c.reject({status:0,statusText:"cardDav error"})})}]}})}]).controller("ContactsCtrl",["CONST","$scope","cardDav","toaster","$filter","$rootScope","dialog","serviceNaturalOrder",function(a,d,e,f,g,h,i,j){function k(a){d.allItems=a,d.allItems.sort(function(a,b){var d=(a.fn||a.email||a.tel||a.uid||[{value:c}])[0].value,e=(b.fn||b.email||b.tel||b.uid||[{value:c}])[0].value;return d&&e?j.naturalSort(String(d),String(e)):d===e?0:d<e?-1:1}),b.forEach(d.allItems,function(a){d.selectedItems[a._url]=!1}),d.moreItems=[].concat(d.allItems),Array.prototype.push.apply(d.items,d.moreItems.splice(0,n))}function l(){e.getList().then(function(a){d.loading=!1,k(a)},function(){d.loading=!1,d.allItems=[],d.moreItems=[],d.items=[]})}function m(){var a=_.keys(d.selectedItems);a=_.chain(a).filter(function(a){return d.selectedItems[a]}).map(function(a){return e.cards[a]}).value(),h.$emit("content:contacts:selectedItems",{selectedItems:a})}var n=a.be.page_size||50;d.loading=!0,d.items=[],d.query="",d.commonCheckboxState={value:"unchecked"},d.selectedItems={},d.metadataMore=function(){d.moreItems&&d.moreItems.length&&Array.prototype.push.apply(d.items,d.moreItems.splice(0,10))},d.toggleCommonCheckbox=function(){b.forEach(d.items,function(a){d.selectedItems[a._url]="checked"==d.commonCheckboxState.value}),m()},d.updateCheckbox=function(){var a=0;b.forEach(d.items,function(b){!0===d.selectedItems[b._url]&&a++}),0===a?d.commonCheckboxState.value="unchecked":a===d.items.length?d.commonCheckboxState.value="checked":d.commonCheckboxState.value="indeterminate",m()},d.removeCard=function(a){var b;for(b=d.items.length;b-- >0;)a.uid[0].value===d.items[b].uid[0].value&&d.items.splice(b,1);for(b=d.moreItems.length;b-- >0;)a.uid[0].value===d.moreItems[b].uid[0].value&&d.moreItems.splice(b,1);for(b=d.allItems.length;b-- >0;)a.uid[0].value===d.allItems[b].uid[0].value&&d.allItems.splice(b,1);d.moreItems.length&&d.items.push(d.moreItems.shift())},d.remove=function(a,b){b?(f.pop("note",g("translate")("Please, wait..."),"",0),e.remove(a._uidhref||a.uid[0].value).then(function(b){d.selectedItems={},d.updateCheckbox(),d.removeCard(a)}).finally(function(){f.clear()})):i.confirm(g("translate")("Are your sure?"),g("translate")(""),g("translate")("Yes, delete")).then(function(){d.remove(a,!0)})},d.$on("$destroy",h.$on("contacts:removeItems",function(a,c){i.confirm(g("translate")("Are your sure?"),g("translate")("Delete COUNT contacts",{COUNT:c.selectedItems.length}),g("translate")("Yes, delete")).then(function(){b.forEach(c.selectedItems,function(a){d.remove(a,!0)})})})),l()}]).controller("ContactsOneCtrl",["$scope","$rootScope","$stateParams","$state","$timeout","$filter","$window","toaster","dialog","flowFactory","imageResizeService","clVCard","cardDav",function(a,d,e,f,g,h,i,j,k,l,m,n,o){function p(){j.pop("note",h("translate")("Please, wait..."),"",0);var b=a.card.uid?"update":"create",c=n.prepareForSave(a.card);return o[b](c).then(function(b){return a.forms.ContactForm.$setPristine(),j.clear(),b}).catch(function(){j.pop("error",h("translate")("Error while saving contact"),"",3e3)})}var q={};if("new"==e.uid)a.card=n.prepareForEdit({}),a.isNew=!0;else{a.loading=!0;o.getOne(e.hrefuid||e.uid).then(function(c){a.card=n.prepareForEdit(b.copy(c)),a.loading=!1}).catch(function(){d.$state.go("contacts")})}var r={n:{label:h("translate")("name"),input:"text"},fn:{label:h("translate")("name"),input:"text"},org:{label:h("translate")("organization"),input:"text"},email:{label:h("translate")("email"),input:"text"},tel:{label:h("translate")("phone"),input:"text"},adr:{label:h("translate")("address"),input:"textarea"},url:{label:h("translate")("URL"),input:"text"}};a.forms={},a.inputs=_.keys(r).map(function(a){return b.extend({field:a},r[a],n.fieldsConfig[a])}),a.$flow=l.create(),a.$flow.off("catchAll"),a.setFormScope=function(a){q=a},a.$flow.on("fileAdded",function(b){var c=new FileReader;c.readAsDataURL(b.file),c.onload=function(c){var d=c.target.result;if(!d.match(/^data:image\//))return k.alert(h("translate")("You can choose only image"),h("translate")(""));m.resizeSquare(d,96,function(b){var c=b.substring(b.indexOf("image/")+6,b.indexOf(";"))||"",d=b.substring(b.indexOf("base64,")+7);a.card.photo=[{meta:{encoding:["b"],type:[c.toUpperCase()]},value:d}],a.forms.ContactForm.$dirty=!0,a.$$apply()}),b.cancel()}});var s=b.element(i),t=_.debounce(function(){var a=$(".contact"),b=a.find(".inner-content")[0];void 0!==b&&a.css("max-height",b.scrollHeight+355+"px")},200);s.bind("resize",t),a.$on("$destroy",function(){s.unbind("resize",t)}),a.$on("$destroy",a.$watch("card",function(b){a.cardIsEmpty=n.isEmpty(b),g(t)},!0)),a.clearImage=function(){a.card.photo=[],a.forms.ContactForm.$dirty=!0},a.removeElement=function(b,c){a.forms.ContactForm.$dirty=!0,n.removeValue(a.card,b,c),g(t)},a.addElement=function(b){var c=a.card[b]?a.card[b].length-1:0,d=n.fieldsConfig[b].valueField;a.card[b]&&a.card[b][c]&&""===a.card[b][c][d]||n.addValue(a.card,b),a.card[b][a.card[b].length-1]._focused=!0},a.save=function(){if(a.cardIsEmpty)return c;p().then(function(b){if(!b)return c;document.activeElement.blur(),j.pop("success",h("translate")("Contact saved successfully"),"",3e3),a.isNew&&f.go("contacts-one",{uid:b.uid[0].value})})},a.remove=function(){k.confirm(h("translate")("Are your sure?"),h("translate")(""),h("translate")("Yes, delete")).then(function(){j.pop("note",h("translate")("Please, wait..."),"",0),o.remove(a.card.uid[0].value).then(function(){a.forms.ContactForm.$setPristine(),d.$state.go("contacts")}).finally(j.clear)})},a.$on("$destroy",d.$on("$stateChangeStart",function(b,c){a.forms.ContactForm&&a.forms.ContactForm.$dirty&&!a.cardIsEmpty&&(b.preventDefault(),k.confirm(h("translate")("There are unsaved changes"),h("translate")("Do you want to save it?"),h("translate")("Yes, save"),h("translate")("No")).then(function(){p().then(function(){f.go(c)})},function(){a.forms.ContactForm.$setPristine(),f.go(c)}))}))}]),b.module("ngCloudike.drive",[]).config(["$stateProvider","previewStateProvider",function(a,c){a.state("drive",{parent:"cloudike",url:"/drive{path:.*}",needAuth:!0,tryGetUser:!0,views:{"navbar-menu@cloudike":{controller:"DriveNavbarCtrl",templateUrl:"drive/drive-navbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@drive":{controller:"DriveToolbarBreadcrumbsCtrl",template:'<div cl-breadcrumb cl-breadcrumb-path="path"></div>'},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"DriveCtrl",templateUrl:"drive/drive.tpl.html"}},resolve:{metadata:["CurrentUser","serviceLocalMetadata","$stateParams","$state","toaster",function(a,c,d,e,f){return c.get(d.path).catch(function(a){404===a.status&&f.pop("error",b.cloudike.translate("This path did not exists")),e.go("drive")})}],opts:function(){return{currentSort:{rule:["+path"]},showSearch:!0}},linkOpts:["metadata","LinkOptions","Restangular","$q",function(a,b,c,d){return b.get(a)}]},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"My Cloudike",showDropZoneInEmptyFolder:!0,showUploaderDropZone:!0}}),a.state("drive.preview",c.getConfig("drive",{needAuth:!0,toolbar:{}})),a.state("accept_migration",{parent:"cloudike-clean",url:"/migration_contents/accept/?hash",needAuth:!0,views:{"main@cloudike-clean":{controller:["$stateParams","$state","clActionHandler",function(a,b,c){c.approveMigration({hash:a.hash}).then(function(a){b.go("drive",{path:a.dst_path})},function(){b.go("drive")})}]}}})}]).controller("DriveCtrl",["$scope","$rootScope","$stateParams","$templateCache","$controller","CONST","Restangular","serviceLocalMetadata","metadata","opts","LinkOptions","$modal","clTour",function(a,d,e,f,g,h,i,j,k,l,m,n,o){console.log("DriveCtrl master 2.3.1-1 tag"),d.drivePath=e.path||"/",a.metadata=k,m.get(a.metadata),a.currentSort=l.currentSort,a.emptyFolderText=b.cloudike.translate("The folder is empty"),a.contextMenuEntry="driveMenu",a.gridOptions={gridName:"drive",defaultSort:a.currentSort.rule,previewStateName:"drive.preview",enableItemDragging:!0,columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"b-content-list__cell-item",cellTemplate:f.get("clFolderContents/nameColumn.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Type"),colClass:"hidden-xs",cellClass:"text-left pad-left-20",cellTemplate:'<span once-text="item.typeLocalized" translate></span>',sortKey:"typeLocalized",sortTitleForThumbnailView:b.cloudike.translate("By type"),size:"15%"},{title:b.cloudike.translate("Size"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes: 1:\'MB\'" once-title="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"100px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span class="text-muted" once-text="item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"18%"},{title:b.cloudike.translate("Link"),cellClass:"text-right primary-color",cellTemplate:'<i class="icon icon-3 icon-link-tiny p-cursor-pointer" ng-click="showSharingDialog(item)" ng-class="(item.shared || item.public_hash) ? \'\' : \'icon-link-tiny__hover\'"></i>',sortTitleForThumbnailView:b.cloudike.translate("By Published state"),size:"70px"}]};var p=!1,q=!1;if(a.tryApply=function(){a.$$phase||a.$apply()},a.metadataMore=function(){j.more(a.metadata.path,h.fe.page_more_size),a.tryApply()},a.onScrollEnd=function(){a.metadataMore()},d.$on("websocket.extradata_created",function(c,e){"none"!==e[0].id&&e[0].processed_interfaces&&!p&&(p=!0,i.one("metadata").metadataPath(d.drivePath).get({limit:500,order_by:"name"}).then(function(c){c.path===a.metadata.path&&(b.forEach(c.content,function(a){a.type=clItemIconType.get(a),a.typeLocalized=b.cloudike.translate(a.type.title)}),b.extend(a.metadata.content,c.content)),p=!1},function(){p=!1}))}),d.$on("websocket.use_watermarks_changed",function(){if(!q||d.admin_watermark){q=!0;var c="drive"===d.$state.current.name?d.drivePath:"/";i.one("metadata").metadataPath(c).get({limit:500,order_by:"name"}).then(function(c){"drive"!==d.$state.current.name&&(d.$emit("update_items",c.content),delete d.admin_watermark),c.path===a.metadata.path&&(b.extend(a.metadata.content,a.metadata.content,c.content),q=!1)},function(){q=!1})}}),a.$on("$destroy",a.$watchCollection("metadata.content",a.tryApply)),g("DriveBaseCtrl",{$scope:a}),d.running_tuto===c&&(d.running_tuto=!1),d.CurrentUser&&d.CurrentUser.need_tutorial&&(!d.running_tuto||d.doing_tuto)){if("company_admin"===d.CurrentUser.role&&!d.CurrentCompany.wizard_state.done)return;if(!d.CurrentUser.storage_size&&!d.FolderTree.$allcontent.length||d.doing_tuto)if(d.CurrentUser.tutorial_last_step||d.CurrentUser.tutorial_company_shared){if(d.CurrentUser.tutorial_last_step&&!d.CurrentUser.tutorial_end){var r=o.init_tour(!1);r.addSteps([{element:"#new_folder_create",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("You can make Company shared folders as well. Click [New folder]")}]),r.resume()||r.end()?r.restart():r.start(!0)}else if(d.CurrentUser.tutorial_end){var r=o.init_tour(!1,"auto",function(){a.disable_tutorial()});r.addSteps([{element:"#company_folder_menu",title:b.cloudike.translate("GOOD JOB!"),content:b.cloudike.translate("Now you’re ready to Cloudike. Enjoy your cloudike!")}]),r.init(),r.resume()||r.end()?r.restart():r.start(!0)}}else d.running_tuto=!0,n.open({backdrop:!0,windowClass:"sm",templateUrl:"drive/company/dialog/tutorial.tpl.html",controller:["$rootScope","$scope","$modalInstance","$stateParams","Restangular",function(a,c,d,e,f){c.do_tour=function(){d.close();var c=o.init_tour(!0);a.doing_tuto=!0,c.addSteps([{element:"#drive_main",title:b.cloudike.translate("STEP1. File/ Folder Upload"),content:b.cloudike.translate("You can upload any file here. You can drag and drop or choose from disk")}]),"company_admin"===a.CurrentUser.role&&a.CurrentCompany?c.addSteps([{element:"#profile_menu",placement:"bottom",title:b.cloudike.translate("STEP2. User invite"),content:b.cloudike.translate("Click here to invite users to your team. [My Name] and [Profile and settings]")}]):c.addSteps([{element:"#company_folder_menu",title:b.cloudike.translate("STEP2. Request access to shared folder to Admin"),content:b.cloudike.translate("Click here")}]),c.init(),c.resume()||c.end()?c.restart():c.start(!0)},c.disable_tutorial=function(){var c=b.copy(a.CurrentUser);c.need_tutorial=!1,f.one("accounts").post("change_profile",c).then(function(b){a.CurrentUser=c}),d.close()}}]});else{var s=b.copy(d.CurrentUser);s.need_tutorial=!1,i.one("accounts").post("change_profile",s).then(function(a){d.CurrentUser=s})}}a.disable_tutorial=function(){d.CurrentUser.tutorial_end&&delete d.CurrentUser.tutorial_end,d.CurrentUser.tutorial_company_shared&&delete d.CurrentUser.tutorial_company_shared,d.CurrentUser.tutorial_last_step&&delete d.CurrentUser.tutorial_last_step,d.doing_tuto&&delete d.doing_tuto;var a=b.copy(d.CurrentUser);console.log(a),a.need_tutorial=!1,i.one("accounts").post("change_profile",a).then(function(b){d.CurrentUser=a})}}]).controller("DriveNavbarCtrl",["$scope","$rootScope","$stateParams","$timeout","$modal","Restangular","clActionHandler","metadata","opts",function(a,d,e,f,g,h,i,j,k){d.hardSidebar=!1,a.opts=k,a.currentFolder=j,a.newFolderText=b.cloudike.translate("New Folder"),a.navbar={visible:404!==j.status,showUploader:{disabled:"reader"===j.role},showNewFolder:{name:a.newFolderText,disabled:"reader"===j.role,showForm:!1}},a.$state.current.data.showDropZoneInEmptyFolder="reader"!==j.role,(e.hash||a.$state.current&&"trash"===a.$state.current.name)&&(a.$state.current.data.showDropZoneInEmptyFolder=!1),a.toggleCollapseNode=function(e){if(a.navbar.showNewFolder.disabled)return c;g.open({backdrop:!0,windowClass:"md",templateUrl:"drive/drive-dialogCreateFolder.tpl.html",resolve:{IsOwner:function(){return a.currentFolder.owner===d.CurrentUser.userid}},controller:["$rootScope","$scope","$modalInstance","$stateParams","Restangular","$q","$timeout","cfpLoadingBar","$injector","toaster","IsOwner","clTour",function(a,c,d,e,f,g,h,j,k,l,m,n){var o;try{o=k.get("usersService"),o.ready()}catch(a){}c.users=o.list(),c.folderName=b.cloudike.translate("New Folder"),c.formCreateFolder={},c.Invite={Form:{}},c.showInviteForm=!1,c.sendingInvites=!1,c.collaborators=[],c.inviteCommentOpened=!1,c.folderCreated=!1,c.isOwner=m,c.toggleInviteForm=function(){return c.showInviteForm=!c.showInviteForm},c.invite={collaborators:[],comment:""},c.$on("$destroy",c.$watch("invite.collaborators",function(a){c.inviteCommentOpened=!(!a||!a.length),b.forEach(c.Invite.Form.$error,function(a,b){c.Invite.Form.$setValidity(b,!0)})},!0)),c.sendInvites=function(){var a={},i=b.copy(c.invite.collaborators),j={};b.forEach(i,function(d){var g={path:e.path.length>1?e.path+"/"+c.folderName:e.path+c.folderName,invitation:c.invite.comment,writer:!0};-1!=d.text.search("@")?b.extend(g,{member_login:(b.cloudike.isEmail(d.text)?"email:":"ldap:")+d.text}):b.extend(g,{member_login:"phone:"+d.text}),b.forEach(c.collaborators,function(a){a.name===d.text&&(j=!0)}),a[d.text]=f.one("shares").post("add",g).then(function(a){426===a.status&&l.pop("error",b.cloudike.translate("Denied for users with plan expire"))})}),c.sendingInvites=!0,g.all(a).then(function(a){h(function(){b.forEach(_.keys(a),function(c,d){var e=a[c][0].login.split(":")[1];j[e]?l.pop("note",b.cloudike.translate("User {0} is already invited").format(e)):l.pop("note",b.cloudike.translate("All invites successfully sent"))})},0,!0,a),c.invite.collaborators=[],c.invite.comment="",d.close()}).catch(function(a){c.Invite.Form.$parseErrors(a),a.data&&c.Invite.Form.$setValidity(a.data.code,!1)}).finally(function(){c.sendingInvites=!1})},c.getUserlistForAutocomplete=function(c){var d=[],e=_.reject(o.list(),function(b){return b.userid==a.CurrentUser.userid});return b.forEach(e,function(a){if(a.is_active){var e=_.find(a.logins,function(a){return a.value.toLowerCase().startsWith(c.toLowerCase())}),f=!1;b.forEach(a.name.split(" "),function(a){a.toLowerCase().startsWith(c.toLowerCase())&&(f=!0)}),(e||f)&&d.push({name:a.name,text:e?e.value:a.logins[0].value,logins:a.logins})}}),d},c.createFolder=function(){j.start(),i.createFolder({path:e.path,name:c.folderName}).then(function(d){if(c.folderCreated=!0,c.sendInvites(),a.CurrentUser.need_tutorial){var e=n.init_tour(!1);e.addSteps([{element:"#menu_items",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("Check the checkbox on file/folder list. And click [Sharing]")}]),e.init(),e.resume()||e.end()?e.restart():e.start(!0)}},function(a){c.formCreateFolder.$parseErrors(a)}).finally(function(){j.complete()})}}]}),f(function(){if(e.showForm=!e.showForm,e.showForm&&(e.name=a.newFolderText,a.formCreateFolder)){a.formCreateFolder.$reset();for(var b in a.formCreateFolder.$error)a.formCreateFolder.$error.hasOwnProperty(b)&&a.formCreateFolder.$setValidity(b,!0);a.formCreateFolder.$setPristine()}})},a.createFolder=function(b,c){i.createFolder({path:e.path,name:c}).then(function(){b.$reset(),a.navbar.showNewFolder.showForm=!1,a.navbar.showNewFolder.name=a.newFolderText},function(a){b.$parseErrors(a)})}}]).controller("DriveToolbarCtrl",["$scope","$rootScope","$state","$timeout","localstorageService","metadata","opts",function(a,c,d,e,f,g,h){a.metadata=g,a.currentSort=h.currentSort,a.opts=h,a.hasSidebar=!1;for(var i=a.$state.$current,j=1e3;i&&j-- >0;){if(i.views["sidebar-top@cloudike"]){a.hasSidebar=!0;break}i=i.parent}a.toggleMode=function(b){a.mode="grid"===b?b:"list",f.val("contentmode",a.mode),c.$emit("drive:contentmode",a.mode)},a.$on("$destroy",c.$on("clSortableTable:changeSort",function(c,d){b.extend(a.currentSort,{rule:d})})),a.$on("$destroy",c.$on("gridOptions",function(b,c){a.gridOptions=c})),e(function(){a.toggleMode(f.val("contentmode")||"list")})}]).controller("DriveToolbarBreadcrumbsCtrl",["$scope","metadata",function(a,b){a.path=b.path}]),b.module("ngCloudike.driveAlbum",[]).config(["$stateProvider","previewStateProvider",function(a,b){a.state("album",{parent:"cloudike-clean",url:"/a/:hash{path:.*}",needAuth:!1,tryGetUser:!0,views:{"navbar@":{templateUrl:"common/navbar-with-menu.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"main@cloudike-clean":{controller:"AlbumCtrl",templateUrl:"drivePublic/drivePublic.tpl.html"}},resolve:{metadata:["$stateParams","serviceAlbumMetadata",function(a,b){return b.get(a.hash).get(a.path,!0)}],opts:function(){return{currentSort:{rule:["+path"]},contentmode:"grid",oneColumn:!0}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Album"}}),a.state("album.preview",b.getConfig("album",{url:"^/preview/a/:hash{path:.*}?file",needAuth:!1,tryGetUser:!0,urlMethod:"links",toolbar:{remove:!1,sharing:!1,versions:!1,download:!1}}))}]).controller("AlbumCtrl",["CONST","$scope","$rootScope","$stateParams","$state","$templateCache","$controller","serviceAlbumMetadata","metadata","opts",function(a,c,d,e,f,g,h,i,j,k){i=i.get(e.hash),j&&j.$status200&&!j.folder&&b.extend(j,{content:[b.copy(j)],path:"/",filepath:j.path,folder:!0,singlefile:!0,icon:"folder"}),c.metadata=j,c.currentSort=k.currentSort,c.emptyFolderText=b.cloudike.translate("You have no files in album"),c.contextMenuEntry="albumFilesContextMenu",c.gridOptions={gridName:"albumFiles",defaultSort:c.currentSort.rule,previewStateName:"album.preview",disableContextMenu:!0,checkboxes:!1,rpad:!0,columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"pad-left-20",cellTemplate:g.get("drivePublic/drivePublic-ceil-name.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Type"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="item.typeLocalized"></span>',sortKey:"typeLocalized",sortTitleForThumbnailView:b.cloudike.translate("By type"),size:"15%"},{title:b.cloudike.translate("Size"),cellClass:"text-right pad-right-20",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes: 1:\'MB\'" once-title="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"100px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span class="text-muted" once-text="item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"170px"}]},c.metadataMore=function(){i.more(c.metadata.path,a.fe.page_more_size)},c.$on("$destroy",d.$on("drive:contentmode",function(){c.metadata.content.length>i.opts.limit&&(c.metadata=i.reset(e.path))})),h("DriveBaseCtrl",{$scope:c}),c.metadata&&c.metadata.singlefile&&f.go("album.preview",{file:c.metadata.filepath})}]),b.module("ngCloudike.drivePublic",[]).config(["$stateProvider","previewStateProvider",function(a,c){a.state("public",{parent:"cloudike-clean",url:"/public/:hash{path:.*}",needAuth:!1,tryGetUser:!0,views:{"navbar@":{templateUrl:"common/navbar-with-menu.tpl.html"},"navbar-menu@public":{controller:"DriveNavbarCtrl",templateUrl:"drivePublic/drivePublic-navbar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@public":{controller:"PublicToolbarBreadcrumbsCtrl",template:'<div cl-breadcrumb cl-breadcrumb-path="path" cl-breadcrumb-root="breadcrumbRoot"></div>'},"main@cloudike-clean":{controller:"PublicCtrl",templateUrl:"drivePublic/drivePublic.tpl.html"}},resolve:{info:["$stateParams","$modal","$q","Restangular","cfpLoadingBar",function(a,c,d,e,f){var g=d.defer(),h=b.element(document.body);return e.one("links").one("info").one(a.hash).get().then(function(d){var e={locked:!1,deadLink:!1,exceed:d.download_max>0&&d.download_count>=d.download_max,emptyTopic:"",uploadFolder:"upload"===d.access_rights},i=d.expires?new Date(d.expires):null,j=b.cloudike.getLinkKey();e.expired=b.isDate(i)&&i<new Date,(e.exceed||e.expired)&&(e.deadLink=!0,e.exceed&&(e.emptyTopic="exceed"),e.expired&&(e.emptyTopic="expired")),e.deadLink||!0!==d.password?g.resolve(e):(e.locked=!0,j.hasOwnProperty(a.hash)?g.resolve(b.extend(e,{password:j[a.hash]})):(f.complete(),h.find(".app-loading").css({display:"none"}),c.open({backdrop:"static",templateUrl:"drivePublic/drivePublic-password.tpl.html",windowClass:"md-small",controller:["$scope","$modalInstance",function(a,c){a.pubLinkOpt={passwordHide:!0},a.pubLinkParam={},a.sendPassword=function(){g.resolve(b.extend(e,{password:a.pubLinkParam.password})),c.close()}}]}).result.finally(function(){f.start(),h.find(".app-loading").css({display:"block"}),g.resolve(e)})))},function(a){g.resolve(a)}),g.promise}],metadata:["$stateParams","$rootScope","$q","Restangular","info",function(a,c,d,e,f){if(f.uploadFolder)return c.uploadFolderInfo={hash:a.hash},{content:[],uploadFolder:!0};var g=d.defer(),h={};return f.deadLink?g.resolve({empty:f.emptyTopic}):(f.locked&&(f.password&&f.password.length>0?(h.password=f.password,b.cloudike.setLinkKey(a.hash,f.password)):f.emptyTopic="emptyPw"),e.one("links").one("metadata").one(a.hash).post(a.path||"",h).then(function(a){g.resolve(b.extend(a,{empty:f.emptyTopic}))},function(c){f.locked&&h.password&&(f.emptyTopic="wrongPw",b.cloudike.rmLinkKey(a.hash)),g.resolve(b.extend(c,{empty:f.emptyTopic}))})),g.promise}],opts:function(){return{currentSort:{rule:["+path"]},oneColumn:!0}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Public files"}}),a.state("public.preview",c.getConfig("public",{url:"^/preview/public/:hash{path:.*}?file",needAuth:!1,tryGetUser:!0,urlMethod:"links",toolbar:{sharing:!1,versions:!1,comments:!1}}))}]).controller("PublicCtrl",["$scope","$rootScope","$state","$stateParams","$templateCache","$controller","metadata","opts",function(c,d,e,f,g,h,i,j){var k=b.cloudike.translate("Me");c.redirect=function(){a.location="https://cloudike.kr/signup/business"},i&&i.path&&!i.folder&&b.extend(i,{content:[b.copy(i)],path:"/",filepath:i.path,folder:!0,singlefile:!0,icon:"folder"}),c.metadata=i,d.link_metadata=c.metadata,c.currentSort=j.currentSort,c.emptyFolderText=b.cloudike.translate("The folder is empty"),c.contextMenuEntry="publicFilesContextMenu",i.uploadFolder&&(b.extend(c.$state.current.data,{showDropZoneInEmptyFolder:!0,showUploaderDropZone:!0}),d.uploadFolderInfo={hash:f.hash}),d.$on("uploader:file-upload-confirmed",function(a,b){c.metadata.content.push(b)}),d.$$on("websocket.extradata_created",function(a,d){for(var e,f=c.metadata.content.length;f-- >0;)c.metadata.content[f].path===d[0].path.split("?")[0]&&(e=c.metadata.content[f]);e&&(e.extradata=b.extend(e.extradata||{},d[0].processed_interfaces||{}))}),c.gridOptions={gridName:"publicFiles",defaultSort:c.currentSort.rule,previewStateName:"public.preview",checkboxes:!1,columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"pad-left-20",cellTemplate:g.get("drivePublic/drivePublic-ceil-name.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Owner"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:"<span once-text=\"item.owner == $root.CurrentUser.userid ? '"+k+"' : item.owner_name\"></span>",sortKey:"owner_name",sortTitleForThumbnailView:b.cloudike.translate("By owner"),size:"15%"},{title:b.cloudike.translate("Others can"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="opts.helpers.othersCan(item)"></span>',size:"15%"},{title:b.cloudike.translate("Size"),cellClass:"text-right pad-right-20",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes: 1:\'MB\'" once-title="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"100px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span class="text-muted" once-text="item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"20%"}],helpers:{othersCan:function(a){var c=b.cloudike.translate("read only");return a.members&&_.where(a.members,{writer:!0}).length&&(c=b.cloudike.translate("change")),c}}},h("DriveBaseCtrl",{$scope:c}),c.metadata&&c.metadata.singlefile&&e.go("public.preview",{file:c.metadata.filepath})}]).controller("PublicToolbarBreadcrumbsCtrl",["$scope","metadata",function(a,c){a.breadcrumbRoot=b.cloudike.translate("Public file"),c&&c.folder&&(a.breadcrumbRoot=c.basename,a.path=c.path)}]),b.module("ngCloudike.driveSearch",[]).config(["$stateProvider","previewStateProvider",function(a,b){a.state("search",{parent:"cloudike",url:"/search?query",views:{"navbar-menu@cloudike":{templateUrl:"driveSearch/driveSearch-navbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@search":{template:'<div><ol class="breadcrumb b-breadcrumb"><li><span translate>Search files</span></li><li><span ng-bind="$state.params.query"></span></li></ol></div>'},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"SearchCtrl",templateUrl:"drive/drive.tpl.html"}},resolve:{metadata:["serviceSearchMetadata","$stateParams",function(a,b){return a.get(b.query).get("",!0)}],opts:function(){return{currentSort:{rule:["-modified"]},showSearch:!0}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Search"}}),a.state("search.preview",b.getConfig("search",{url:"^/preview/search?query&file"}))}]).controller("SearchCtrl",["CONST","$scope","$rootScope","$stateParams","$templateCache","$controller","serviceSearchMetadata","metadata","opts",function(a,c,d,e,f,g,h,i,j){h=h.get(e.query),c.metadata=i,c.currentSort=j.currentSort,c.emptyFolderText=b.cloudike.translate("Nothing found"),c.contextMenuEntry="searchFilesMenu",c.gridOptions={gridName:"searchFiles",defaultSort:c.currentSort.rule,previewStateName:"search.preview",columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"b-content-list__cell-item",cellTemplate:f.get("driveSearch/driveSearch-ceil-name.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Path"),colClass:"hidden-xs",cellClass:"text-left pad-left-20",cellTemplate:f.get("driveSearch/driveSearch-ceil-path.tpl.html")},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span class="text-muted" once-text="item.client_data.modified ? item.client_data.modified : item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"170px"},{cellClass:"primary-color",cellTemplate:'<i class="icon icon-3 icon-link-tiny p-cursor-pointer" ng-click="showSharingDialog(item)" ng-class="(item.shared || item.public_hash) ? \'\' : \'icon-link-tiny__hover\'"></i>',size:"60px"}]},c.metadataMore=function(){h.more(c.metadata.path,a.fe.page_more_size)},c.$on("$destroy",d.$on("drive:contentmode",function(){c.metadata.content.length>h.opts.limit&&(c.metadata=h.get("").$object)})),g("DriveBaseCtrl",{$scope:c})}]),b.module("ngCloudike.driveShared",[]).config(["$stateProvider","previewStateProvider",function(a,c){a.state("shared",{parent:"cloudike",url:"/shared{path:.*}",views:{"navbar-menu@cloudike":{templateUrl:"driveShared/driveShared-navbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@shared":{template:'<ol class="breadcrumb b-breadcrumb"><li translate>Shared files</li></ol>'},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"SharedCtrl",templateUrl:"drive/drive.tpl.html"}},resolve:{Shared:["CurrentUser","Restangular","toaster","$filter",function(a,c,d,e){return c.one("shares").getList().then(function(a){return a.slice()},function(a){return d.pop("error",b.cloudike.translate("Server error occurred during request processing")),[]})}],Link:["CurrentUser","CurrentCompany","Restangular","$rootScope",function(a,b,c,d){return!d.CurrentCompany||d.CurrentCompany.public_links_allow?c.one("links").getList().then(function(a){return _.filter(a.slice(),function(a){return a.owner===d.CurrentUser.userid})},function(a){return[]}):[]}],metadata:["Shared","Link",function(a,c){var d=[].concat(a,c),e=[],f={};return b.forEach(d,function(a){if(a.expires){var b=Date.now();a.expires>b?(a.time_left=(a.expires-b)/1e3,a.time_left<60&&(a.time_left=-1)):a.time_left=-1}a.path in f||e.push(a),f[a.path]=!0}),{content:e}}],opts:function(){return{currentSort:{rule:["+path"]}}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Shared files"}}),a.state("shared.preview",c.getConfig("shared"))}]).controller("SharedCtrl",["$rootScope","$scope","$filter","$templateCache","$controller","metadata","opts",function(a,c,d,e,f,g,h){var i=b.cloudike.translate("Me");c.metadata=g,c.currentSort=h.currentSort,c.emptyFolderText=b.cloudike.translate("You have no public files"),c.contextMenuEntry="sharedFilesMenu",c.gridOptions={gridName:"sharedFiles",defaultSort:c.currentSort.rule,previewStateName:"shared.preview",columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"b-content-list__cell-item",cellTemplate:e.get("driveShared/driveShared-ceil-name.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Owner"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:"<span ng-bind=\"item.owner == $root.CurrentUser.userid ? '"+i+"' : item.owner_name\"></span>",sortKey:"owner_name",sortTitleForThumbnailView:b.cloudike.translate("By owner"),size:"15%"},{title:b.cloudike.translate("Others can"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="opts.helpers.othersCan(item)"></span>',size:"10%"},{title:b.cloudike.translate("Size"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes: 1:\'MB\'" once-title="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"100px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span class="text-muted" once-text="item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"15%"},{title:b.cloudike.translate("Link"),cellClass:"text-right primary-color",cellTemplate:'<i class="icon icon-3 icon-link-tiny p-cursor-pointer" ng-click="showSharingDialog(item)" ng-if="item.public_hash"></i>',size:"60px"}],helpers:{othersCan:function(c){var d=b.cloudike.translate("read only"),e=b.copy(c.members);return c.owner===a.CurrentUser.userid&&(e=_.reject(c.members,function(b){return b.name===a.CurrentUser.name})),e&&_.where(e,{writer:!0}).length&&(d=b.cloudike.translate("change")),d}}},f("DriveBaseCtrl",{$scope:c})}]),b.module("ngCloudike.driveShares",[]).config(["$stateProvider","previewStateProvider",function(a,b){a.state("shares",{parent:"cloudike-clean",url:"/shares/:hash{path:.*}",needAuth:!1,tryGetUser:!0,views:{"navbar@":{templateUrl:"common/navbar-with-menu.tpl.html"},"navbar-menu@shares":{controller:"DriveNavbarCtrl",templateUrl:"driveShares/driveShares-navbar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@shares":{controller:"SharesToolbarBreadcrumbsCtrl",template:'<div cl-breadcrumb cl-breadcrumb-path="path" cl-breadcrumb-root="breadcrumbRoot"></div>'},"main@cloudike-clean":{controller:"SharesCtrl",templateUrl:"drive/drive.tpl.html"}},resolve:{metadata:["$stateParams","$q","Restangular",function(a,b,c){var d=b.defer();return c.one("shares").one("metadata").one(a.hash).one(a.path||"").get({extra:"True"}).then(d.resolve,d.resolve),d.promise}],opts:function(){return{currentSort:{rule:["+path"]},oneColumn:!0}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Shares files"}}),a.state("shares.preview",b.getConfig("shares",{url:"^/preview/shares/:hash{path:.*}?file",needAuth:!1,urlMethod:"shares",toolbar:{sharing:!1,versions:!1}}))}]).controller("SharesCtrl",["$rootScope","$scope","$stateParams","$templateCache","$controller","metadata","opts",function(a,c,d,e,f,g,h){var i=b.cloudike.translate("Me");g&&g.path&&!g.folder&&b.extend(g,{content:[b.copy(g)],path:"/",folder:!0,icon:"folder"}),g.shared_hash=d.hash,c.metadata=g,c.currentSort=h.currentSort,c.emptyFolderText=b.cloudike.translate("Empty folder"),c.gridOptions={gridName:"sharesFiles",defaultSort:c.currentSort.rule,previewStateName:"shares.preview",checkboxes:!1,columnDefs:[{title:b.cloudike.translate("Name"),cellClass:"pad-left-20",cellTemplate:e.get("driveShares/driveShares-ceil-name.tpl.html"),sortKey:"path",sortTitleForThumbnailView:b.cloudike.translate("By name")},{title:b.cloudike.translate("Owner"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span class="ellipsis" ng-bind="item.owner == $root.CurrentUser.userid ? \''+i+"' : item.owner_name\"></span>",sortKey:"owner_name",sortTitleForThumbnailView:b.cloudike.translate("By owner"),size:"15%"},{title:b.cloudike.translate("Others can"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="opts.helpers.othersCan(item)"></span>',size:"15%"},{title:b.cloudike.translate("Size"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes: 1:\'MB\'" once-title="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"100px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span class="text-muted" once-text="item.modified | datetime"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"20%"}],helpers:{othersCan:function(a){var c=b.cloudike.translate("read only");return a.members&&_.where(a.members,{writer:!0}).length&&(c=b.cloudike.translate("change")),c}}},f("DriveBaseCtrl",{$scope:c})}]).controller("SharesToolbarBreadcrumbsCtrl",["$scope","metadata",function(a,c){a.breadcrumbRoot=b.cloudike.translate("Shares file"),c&&c.folder&&(a.breadcrumbRoot=c.basename||"Shared folder",a.path=c.path)}]),b.module("ngCloudike.driveTrash",[]).config(["$stateProvider","previewStateProvider",function(a,b){a.state("trash",{parent:"cloudike",url:"/trash{path:.*}",views:{"navbar-menu@cloudike":{controller:"DriveNavbarCtrl",templateUrl:"driveTrash/driveTrash-navbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"toolbar@":{controller:"DriveToolbarCtrl",templateUrl:"drive/drive-toolbar.tpl.html"},"toolbar-breadcrumbs@trash":{template:'<ol class="breadcrumb b-breadcrumb"><li translate>Trash</li></ol>'},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"TrashCtrl",templateUrl:"drive/drive.tpl.html"}},resolve:{metadata:["CurrentUser","serviceTrashMetadata",function(a,b){return b.get()}],opts:function(){return{currentSort:{rule:["+name"]}}}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"Trash",showTrashNotify:!0}}),a.state("trash.preview",b.getConfig("trash",{toolbar:null}))}]).controller("TrashCtrl",["$scope","$rootScope","$templateCache","$controller","CONST","serviceTrashMetadata","metadata","opts",function(a,c,d,e,f,g,h,i){a.metadata=h,a.currentSort=i.currentSort,a.emptyFolderText=b.cloudike.translate("You have no deleted files"),a.contextMenuEntry="trashContextMenu",a.gridOptions={gridName:"trash",defaultSort:a.currentSort.rule,previewStateName:"trash.preview",uniqueItemField:"name",checkboxes:!0,columnDefs:[{title:b.cloudike.translate("Name"),cellTemplate:d.get("driveTrash/driveTrash-ceil-name.tpl.tpl.html"),sortKey:"name",sortTitleForThumbnailView:b.cloudike.translate("By name"),size:"50%"},{title:b.cloudike.translate("Size"),colClass:"hidden-xxs",cellClass:"text-right",cellTemplate:'<span ng-if="!item.folder" once-text="item.bytes | bytes"></span>',sortKey:"bytes",sortTitleForThumbnailView:b.cloudike.translate("By size"),size:"20%"},{title:b.cloudike.translate("Modified"),cellClass:"text-right",cellTemplate:'<span class="text-muted" once-text="item.modified | date:\'short\'"></span>',sortKey:"modified",sortTitleForThumbnailView:b.cloudike.translate("By date modified"),size:"30%"}]},a.tryApply=function(){a.$$phase||a.$apply()},a.metadataMore=function(){g.more(h.path,f.fe.page_more_size),a.tryApply()},a.onScrollEnd=function(){a.metadataMore()},a.$on("$destroy",a.$watchCollection("metadata.content",a.tryApply)),e("DriveBaseCtrl",{$scope:a})}]),b.module("ngCloudike.home",[]).controller("SidebarBottomCtrl",["$scope","Restangular","$window",function(a,b,c){a.getLink=function(a){var d=c.open()||c;b.one("soft").one("get_version").get({platform:a}).then(function(a){a.version.link?d.location=a.version.link:d.close()},function(){d.close()})}}]),b.module("ngCloudike.oauth",[]).config(["$stateProvider",function(a){a.state("oauth",{parent:"cloudike-clean",url:"/oauth?back&use_ajax&signup&lang",needAuth:!1,views:{"main@cloudike-clean":{controller:"OauthCtrl",templateUrl:"oauth/oauth.tpl.html"}},resolve:{form_url:["CONST","$stateParams","$location","$q","Restangular",function(a,c,d,e,f){var g=e.defer();c.form_url&&g.resolve({authorize_url:b.cloudike.apiFixPath(c.form_url)});var h={oauth_callback:[d.$$protocol,"://",d.$$host,d.$$port?":"+d.$$port:"","/oauth_verifier/"].join(""),client_id:a.be.oauth_client_id};return f.one("accounts").post("oauth_url",h).then(function(a){g.resolve({authorize_url:b.cloudike.apiFixPath(a.authorize_url)})}),g.promise}],LoginMethod:["CONST","CurrentCompanyByDomain","$rootScope",function(a,b,c){var d="formEmail",e=0,f=!1;return a.be.auth.email.signin&&e++,a.be.auth.phone.signin&&e++,a.be.auth.windows.signin&&e++,b&&b.company_id&&"active"===b.status&&(f=!0,a.be.auth.windows.signin&&b.auth_methods&&b.auth_methods.ldap&&(d="formLDAP"),a.be.auth.email.signin&&b.auth_methods&&b.auth_methods.email&&(d="formEmail")),c.loginType=d,{type:d,isSelectable:e>1,companySignin:f,company:b}}]},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Sign in"}}),a.state("oauth-verifier",{parent:"cloudike-clean",url:"/oauth_verifier/?oauth_verifier&oauth_token",needAuth:!1})}]).controller("OauthCtrl",["CONST","$scope","$rootScope","$state","$stateParams","$http","$location","Restangular","localstorageService","LoginMethod","form_url","toaster","$translate","ipCookie",function(d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a){return d.fe.lang2locale[a]}switch(console.log("OauthCtrl master 2.3.1-1 tag"),b.cloudike.resetToken(),e.loginMethod=m,f.CurrentCompany=e.loginMethod.company,e.onlySignup="0"==h.use_ajax,e.formComplete=!1,e.user={formEmail:{email:l.val("email"),password:""},formPhone:{phone:l.val("phone"),password:""},formLDAP:{ldap:l.val("ldap"),password:""}},e.setLoginType=function(a){e.loginMethod.type=a,f.loginType=a},e.getLoginModel=function(){var a,b=e.user[f.loginType];switch(f.loginType){case"formEmail":a="email:"+b.email;break;case"formPhone":a="phone:+"+b.phone}return{login:a,password:b.password}},e.defaultBaseLocale=d.fe.defaultBaseLocale,e.user.lang=q("usl")?q("usl"):e.defaultBaseLocale,h.lang){case"en":e.user.lang="en";break;case"ko":e.user.lang="ko";break;case"ja":e.user.lang="ja"}if(e.langDisabled=!1,e.changeLanguage=function(a){e.langDisabled=!0,p.use(r(a)).then(function(){e.langDisabled=!1,q("usl",a,{expires:3650,domain:"."+d.be.web_host})})},e.changeLanguage(e.user.lang),e.submit=function(){var a=e[f.loginType];b.forEach(a.$error,function(b,c){a.$setValidity(c,!0)}),i.post(n.authorize_url,e.getLoginModel()).then(e.onSendModelComplete,e.onSendModelComplete)},e.onSendModelComplete=function(i){var l=e[f.loginType],m=e.user[f.loginType];if(!l||!m)throw new Error;return 401===i.status||403===i.status?(l.$setValidity(i.data&&i.data.code,!1),401===i.status?"LastAttempt"!==i.data.code?o.pop("error",b.cloudike.translate("Wrong email or password")):o.pop("error",b.cloudike.translate("Wrong email or password. Last attempt before blocking!")):o.pop("error",b.cloudike.translate("User is temporarily locked. Try login attempt later.")),l.$reset(),c):426===i.status&&"DeniedForUsersWithUnapprovedAccounts"===i.data.code?(o.pop("error",b.cloudike.translate(i.data.description)),l.$reset(),c):i.status>=400?(l.$parseErrors(i),l.$reset(),c):void("1"==h.use_ajax?e.sendModelByForm(n.authorize_url,e.getLoginModel(),function(c){k.one("accounts").post("oauth_confirm",c).then(function(b){var c=j.host(),e=b.domain,f="";e&&e.length>0&&e!=c.split(".")[0]?(f=j.protocol()+"://"+e+"."+d.be.web_host+"/signin?token="+b.token,h.back&&(f=f+"&back="+h.back),a.location.href=f):g.go("signin",{token:b.token,back:h.back})},function(a){"UserIsExpired"===a.data.code?o.pop("error",b.cloudike.translate("Your account has expired. Please contact company administrator")):l.$parseErrors(a)})}):e.sendModelByForm(n.authorize_url,e.getLoginModel()))},e.sendModelByForm=function(a,c,d){var e="iframe"+Math.round(1e3*Math.random()),f="width: 1px; height: 1px; line-height: 1px; overflow: hidden; position: absolute; left: -9000px; top: -9000px",g=document.createElement("form"),h=document.createElement("iframe");h.setAttribute("name",e),h.setAttribute("src","about:blank"),h.setAttribute("style",f),g.setAttribute("baseURI",a),g.setAttribute("action",a),g.setAttribute("method","post"),g.setAttribute("style",f);for(var i in c)if(c.hasOwnProperty(i)){var j=document.createElement("input");j.setAttribute("name",i),j.setAttribute("value",c[i]),g.appendChild(j)}document.body.appendChild(g),"function"==typeof d&&(g.setAttribute("target",e),document.body.appendChild(h)),h.onload=function(){var a,c,e;try{a=h.contentWindow.location.href}catch(a){throw console.info("oauth.submit",{window:h.contentWindow}),new Error("oauth.submit")}if(c=b.cloudike.getUrlParam(a,"oauth_verifier"),e=b.cloudike.getUrlParam(a,"oauth_token"),!c||!e)throw console.info("oauth.submit empty oauth_verifier or oauth_token"),new Error("oauth.submit");g.offsetParent.removeChild(g),h.offsetParent.removeChild(h),d({oauth_verifier:c,oauth_token:e})},g.submit()},e.submitLDAP=function(){var a=e[f.loginType],b=e.user[f.loginType];if(!a||!b)throw new Error;d.be.business_signup&&e.loginMethod.company.company_id&&(b.company_id=e.loginMethod.company.company_id),k.one("accounts").post("login_by_ldap",b).then(function(a){a.token&&g.go("signin",{token:a.token})},function(b){a.$parseErrors(b)})},"0"==h.use_ajax&&(f.oauthStateParams=h),h=f.oauthStateParams||h,f.oauthUserModel){switch(f.loginType){case"formEmail":e.user[f.loginType].email=f.oauthUserModel.email,e.user[f.loginType].password=f.oauthUserModel.password;break;case"formPhone":e.user[f.loginType].phone=f.oauthUserModel.phone,e.user[f.loginType].password=f.oauthUserModel.password;break;case"formLDAP":e.user[f.loginType].ldap=f.oauthUserModel.ldap,e.user[f.loginType].password=f.oauthUserModel.password}e.submit()}h.signup&&(delete h.signup,f.oauthStateParams&&delete f.oauthStateParams.signup,g.go("signup"))}]),b.module("ngCloudike.page404",[]).config(["$stateProvider",function(a){a.state("page404",{views:{"navbar-menu@":{templateUrl:"page404/page404-navbar.tpl.html"},"layout@":{templateUrl:"layouts/col-1.tpl.html"},"main@page404":{controller:"Page404Ctrl",templateUrl:"page404/page404.tpl.html"}},data:{pageTitle:"404 Error",htmlClassname:"overflow-hidden"}})}]).controller("Page404Ctrl",["$scope",function(a){}]),b.module("ngCloudike.profile.company.foldersizecalc",[]).config(["$stateProvider",function(a){a.state("profile.company.foldersizecalc",{parent:"profile",url:"/company/foldersizecalc",views:{"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyFolderCalcCtrl",templateUrl:"profile/company/folderSizeCalculate.tpl.html"}},resolve:{initStatus:["Restangular","toaster","$http","$sce","$q",function(a,c,d,e,f){var g=f.defer();return a.one("dir_size_calculate").get({force:!1}).then(function(a){g.resolve(a)},function(a){b.extend(a,{isError:!0}),g.resolve(a)}),g.promise}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Folder size"}})}]).controller("ProfileCompanyFolderCalcCtrl",["$scope","$rootScope","$filter","toaster","Restangular","initStatus","$state","serviceLocalMetadata",function(c,d,e,f,g,h,i,j){if(c.refreshRequest=!1,h.isError)if(c.ready=!1,"calculating"===h.data.status){var k=new Date-new Date(h.data.time),l=Math.floor(k/864e5),m=Math.floor(k/36e5)-24*l,n=Math.floor(k/6e4)-(24*l*60+60*m),o=Math.floor(k/1e3)-(24*l*60*60+60*m*60+60*n);c.elapsedTime=m+":"+n+":"+o,c.requestRunning=!0}else c.elapsedTime=b.cloudike.translate(h.data.description);else f.pop("note",b.cloudike.translate("Showing the calculation now. Please don't close browser")),c.ready=!0,c.doneTime=h.time;c.requestCalculate=function(){g.one("dir_size_calculate").get({force:!0}).then(function(a){"start calculating"===a.status&&(f.pop("note",b.cloudike.translate("Calculating folder size now. Notification email will be sent after calculation is complete")),c.elapsedTime="0 : 0 : 0",c.requestRunning=!0)},function(a){f.pop("error",b.cloudike.translate("Server error occurred during request processing"))})},c.refreshPage=function(){a.location.reload()}}]),b.module("ngCloudike.profile.company.folders",[]).config(["$stateProvider",function(a){a.state("profile.company.folders",{parent:"profile",url:"/company/folders",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html",controller:"ProfileCompanyFoldersNavbar"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyFoldersCtrl",templateUrl:"profile/company/folders.tpl.html"}},resolve:{CompanyFolders:["CurrentUser","Restangular","toaster","$filter",function(a,c,d,e){return c.one("shares").one("company").one("get").get({show_all:"1"}).then(function(a){return b.forEach(a,function(a){b.extend(a,{company_published:!0,folder:!0,icon:"folder"})}),a},function(a){return d.pop("error",b.cloudike.translate("Server error occurred during request processing")),[]})}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Company folders"}})}]).controller("ProfileCompanyFoldersNavbar",["$scope",function(a){a.navbarMenu="companyFoldersMenu"}]).controller("ProfileCompanyFoldersCtrl",["$scope","$rootScope","$state","$stateParams","$templateCache","Restangular","toaster","$filter","CompanyFolders",function(a,c,d,e,f,g,h,i,j){c.CurrentUser.company_id&&"company_admin"===c.CurrentUser.role||d.go("profile"),a.gridOptions={gridName:"company.folders",defaultSort:["-public_name"],uniqueItemField:"folder_hash",columnDefs:[{title:b.cloudike.translate("Name"),cellTemplate:f.get("clFolderContents/nameColumnNoHref.tpl.html"),sortKey:"public_name",size:"35%"},{title:b.cloudike.translate("Owner"),colClass:"hidden-xxs",cellTemplate:'<span once-text="item.owner_name"></span>',sortKey:"owner_name",size:"15%"},{title:b.cloudike.translate("Collaborators"),colClass:"hidden-xs",cellClass:"text-right pad-right-20",cellTemplate:'<span once-text="item.collaborators_count"></span>',sortKey:"collaborators_count",size:"15%"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span once-text="item.modification_time | datetime"></span>',sortKey:"modified",size:"15%"},{title:b.cloudike.translate("Published"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span once-text="item.creation_date | datetime"></span>',sortKey:"creation_date",size:"20%"}]},a.folders=j,a.filter="",a.applyFilter=function(){var b=new RegExp(a.filter,"ig");a.folders=_.filter(j,function(a){return b.test(a.public_name)||b.test(a.owner_name)})},c.$$on(["content:folder-contents:companyFoldersHideSuccessfull","content:folder-contents:companyFoldersHideFailed","content:folder-contents-context:companyFoldersHideSuccessfull","content:folder-contents-context:companyFoldersHideFailed"],function(c,d){b.forEach(d,function(a){j=_.reject(j,function(b){return b.folder_hash===a.folder_hash})}),a.applyFilter()}),c.$$on(["content:folder-contents:companyFoldersHideFailed","content:folder-contents-context:companyFoldersHideFailed"],function(){h.pop("error",b.cloudike.translate("Some folders were not hided from company."))}),c.$$on(["content:folder-contents:companyFoldersHideSuccessfull","content:folder-contents-context:companyFoldersHideSuccessfull"],function(){h.pop("error",b.cloudike.translate("Folder was removed from company folders list."))})}]),b.module("ngCloudike.profile.company.groups",[]).config(["$stateProvider",function(a){a.state("profile.company.groups",{parent:"profile",url:"/company/groups",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html",controller:"ProfileCompanyGroupsNavbar"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyGroupsCtrl",templateUrl:"profile/company/groups.tpl.html"}},resolve:{initUsers:["CurrentUser","usersService",function(a,b){return b.ready()}],initGroups:["CurrentUser","GroupsService",function(a,b){return b.ready()}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Groups"}})}]).controller("ProfileCompanyGroupsNavbar",["$scope",function(a){a.navbarMenu="companyGroupsMenu"}]).controller("ProfileCompanyGroupsCtrl",["$scope","$rootScope","$timeout","$interval","$filter","$modal","Restangular","usersService","GroupsService",function(a,c,d,e,f,g,h,i,j){var k=a;a.shared={},a.UsersService=i,a.GroupsService=j,a.selectedItems=[],a.createFirstGroup=function(){a.shared.firstGroupName&&a.shared.firstGroupName.length>0&&j.createGroup(a.shared.firstGroupName).then(function(){a.shared.firstGroupName=""})};var l={defaultSort:["name"],uniqueItemField:"userid",columnDefs:[{title:f("translate")("Display name"),cellTemplate:'<span once-text="item.name"></span>',sortKey:"name",size:"60%"},{title:f("translate")("Status"),cellTemplate:'<span ng-if="item.status == \'invited\'" translate>Hasn\'t joined yet</span><span ng-if="item.is_active === true" translate>Active</span><span ng-if="item.is_active === false" translate>Blocked</span>',sortKey:"status",size:"40%"}],allowSelectItem:!0};a.gridOptions=l,c.$on("content:folder-contents:selectedItems",function(b,c){a.selectedItems=c.selectedItems}),a.addUsers=function(){i.ready().then(function(){g.open({backdrop:!0,templateUrl:"profile/company/dialog/groupAddUsers.tpl.html",controller:["$scope","$modalInstance","usersService",function(a,c,d){a.outer=k,a.filterBy="";var e=b.copy(d.list());b.forEach(j.current().users,function(a){var b=_.findWhere(e,{userid:a.userid});e=_.without(e,b)}),a.users=e,a.gridOptions=b.copy(l),a.gridOptions.allowSelectItem=function(a){return"added"===a.status},a.applyFilter=function(){var b=new RegExp(a.filterBy,"ig");a.users=_.filter(e,function(a){var c=_.filter(a.logins,function(a){return b.test(a.value)});return b.test(a.name)||c.length})},a.done=function(){j.addUsersToCurrent(k.selectedItems).then(function(){c.close()})}}]})})},a.removeUsers=function(){g.open({backdrop:!0,templateUrl:"profile/company/dialog/groupRemoveUsers.tpl.html",controller:["$scope","$modalInstance","GroupsService",function(a,b,c){a.outer=k,a.GroupsService=c,a.removeUsers=function(){c.removeUsersFromCurrent(k.selectedItems).then(function(){b.close()})}}]})}}]),b.module("ngCloudike.profile.company.log",[]).config(["$stateProvider",function(a){a.state("profile.company.log",{parent:"profile",url:"/company/log",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html",controller:"ProfileCompanyLogNavbar"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyLogCtrl",templateUrl:"profile/company/log.tpl.html"}},resolve:{ActivityLog:["eventsService",function(a){return a.get({not_include_storage_info:!0})}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Log"}})}]).controller("ProfileCompanyLogNavbar",["$scope",function(a){a.navbarMenu="companyLogMenu"}]).controller("ProfileCompanyLogCtrl",["$scope","$rootScope","$state","$stateParams","ActivityLog","clItemLogType","cfpLoadingBar",function(a,c,d,e,f,g,h){var i=1;c.CurrentUser.company_id&&"company_admin"===c.CurrentUser.role||d.go("profile");var j=function(b){b.loading=!0,h.start(),f.get({skip:50*i,limit:50,not_include_storage_info:!0}).then(function(c){var d=k(c.plain());for(var e in d)d.hasOwnProperty(e)&&a.events.push(d[e]);c.plain().length<50&&(a.fullyLoaded=!0),b.loading=!1,i++,h.complete()})},k=function(a){return _.chain(a).each(function(a){a.logType=g.get(a,null,"text")}).filter(function(a){return a.owner_id!==a.user_id&&(a.logType=""),a.init_event_user_name!==a.owner_name||"migration_request_sent"!==a.type&&"migration_request_accepted"!==a.type||(a.logType=""),""!==a.logType}).value()};a.filter=e.filter,a.events=k(f.plain()),a.events.length<50&&!a.fullyLoaded&&j(this),a.$watch("filter",function(){a.fullyLoaded=!1}),a.$watch("clDimensions",function(b){var c=this;b&&b.bottomEdge<400&&!c.loading&&!a.fullyLoaded&&j(c)},!0),a.transform=function(a,b,c){for(var d=[],e=0,f=b.length;e<f;e++)d.push('<span class="bold">{'+e+"}</span>");return d.length&&(a=String.prototype.format.apply(a,d)),a},a.applyFilter=_.debounce(function(){d.go(d.current.name,{filter:a.filter}).then(function(){b.element("input.log-filter:first").focus()})},500)}]),b.module("ngCloudike.profile.company",[]).config(["$stateProvider",function(a){a.state("profile.company",{parent:"profile",url:"/company",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanySettingsCtrl",templateUrl:"profile/company/settings.tpl.html"}},data:{bodyClassname:"body-scroll body-settings",pageTitle:"My company account"}})}]).controller("ProfileCompanySettingsCommonCtrl",["CONST","$scope","$rootScope","$state","$controller","Restangular","toaster","$filter","FileUploader","$http","$timeout","clAutoLogout","dialog","usersService","$modal",function(a,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=["company_folder_creation_allow","domain","ldap_address","ldap_port","ldap_basedn","ldap_user_attribute","logo","name","public_links_allow","sharing_outside_allow","logout_timeout_enable","logout_timeout","password_lifetime","password_reuse_allow","notification_email","can_use_mobile"],s=function(){d.companyForm={},d.formExtend={},b.forEach(r,function(a,b){if(e.CurrentCompany.hasOwnProperty(a)&&(d.companyForm[a]=e.CurrentCompany[a],"password_lifetime"===a)){[0,2592e3,7884e3,15768e3,31536e3].indexOf(parseInt(d.companyForm[a],10))<0&&(d.companyForm[a]=0)}}),a.be.auth.windows.signin&&(d.formLDAP={},d.formLDAP.ldap_address=d.companyForm.ldap_address,d.formLDAP.ldap_port=d.companyForm.ldap_port,d.companyForm.ldap_user_attribute=d.companyForm.ldap_user_attribute||"cn"),d.formExtend.loginMethod=a.be.auth.windows.signin&&d.companyForm.ldap_address?"ldap":"email"};s(),d.LDAPEntries=[{nm:"Common name: cn",val:"cn"},{nm:"Sur name: sn",val:"sn"},{nm:"Organization unit: ou",val:"ou"},{nm:"Organization: o",val:"o"},{nm:"Domain component: dc",val:"dc"},{nm:"Distinguish name: dn",val:"dn"},{nm:"User ID: uid",val:"uid"},{nm:"Email: mail",val:"mail"}],d.$watch("companyForm.logout_timeout_enable",function(){e.CurrentCompany.logout_timeout_enable&&(d.companyForm.logout_timeout_enable||n.off())}),d.logoUploader=new k({scope:d,url:"/",autoUpload:!0,removeAfterUpload:!0,queueLimit:1}),d.logoUploader.onAfterAddingFile=function(a){if(a.isUploading||a.isUploaded||"/"!==a.url)return c;a.file.type.search(/^image.*\/.*(jpeg|png|bmp|gif)/)<0?m(function(){i.pop("error",j("translate")("Please upload proper file"))}):(d.companyForm.logo=!1,d.uploadingLogo=!0,a.isReady=!0,a.upload=function(){h.one("accounts").one("company",e.CurrentUser.company_id).post("logo_upload",{path:a.file.name}).then(function(c){a.formData=b.cloudike.formData({},c.parameters,c.headers),c.method&&(a.method=c.method),a.url=c.url,a.confirm_url=c.confirm_url,d.logoUploader.uploadItem(a)},function(){i.pop("error",j("translate")("There was an error during uploading company logo."))})})},d.logoUploader.onErrorItem=function(){i.pop("error",j("translate")("There was an error during uploading company logo.")),d.uploadingLogo=!1},d.logoUploader.onSuccessItem=function(a){a.confirm_url&&h.one("accounts").one("company",e.CurrentUser.company_id).post("change",{}).then(function(a){i.pop("notice",j("translate")("Company logo was changed successfully.")),d.companyForm.logo=a.logo,e.CurrentCompany.logo=a.logo}).finally(function(){d.uploadingLogo=!1})},d.removeCompanyLogo=function(){h.one("accounts").one("company",e.CurrentUser.company_id).post("logo_clear").then(function(){d.companyForm.logo="",e.CurrentCompany.logo=null,i.pop("notice",j("translate")("Company logo was removed successfully."))},function(){i.pop("error",j("translate")("There was an error during removing company logo."))})},d.save=function(c){var f=d.CompanyAccountForm,g={};if(!f.$valid||!f.$dirty||(f.ldap_address&&f.ldap_address.$dirty||f.ldap_port&&f.ldap_port.$dirty)&&"ldap"===d.formExtend.loginMethod&&!d.formExtend.testLDAP)return f.doSubmit=!1,f.$valid?f.$dirty?i.pop("info",j("translate")("Verification of LDAP server needed")):i.pop("info",j("translate")("No changes")):i.pop("info",j("translate")("Some fields are invalid")),c.stopPropagation(),c.preventDefault(),!1;f.doSubmit=!0,b.forEach(d.companyForm,function(a,c){b.equals(e.CurrentCompany[c],a)||(g[c]=a)}),"ldap"!==d.formExtend.loginMethod&&a.be.auth.windows.signin&&""!==e.CurrentCompany.ldap_address&&(g.ldap_address="",g.ldap_port="",g.ldap_basedn="",g.ldap_user_attribute=""),d.saveRequest(g,f)},d.saveRequest=function(a,c){return h.one("accounts").one("company",e.CurrentUser.company_id).post("change",a).then(function(a){e.CurrentCompany=a,s(),c&&(c.$reset(),c.$setPristine()),i.pop("note",j("translate")("Company info successfully saved.")),b.isFunction(d.onSaveSuccessful)&&d.onSaveSuccessful()},function(a){b.isFunction(d.onSaveError)&&d.onSaveError(a),"Company domain reserved"===a.data&&(i.pop("error",j("translate")("This domain name is reserved and cannot be used")),d.CompanyAccountForm.domain.$setValidity("reserved",!1)),c&&c.$parseErrors(a)})},d.testLDAP=function(){d.sendLDAPCheck=!0;var a={server:d.formLDAP.ldap_address,port:d.formLDAP.ldap_port};d.formExtend.testLDAP=!1,d.formExtend.testLDAPResult="",h.one("accounts").post("ldap_server_check",a).then(function(a){"alive"===a.status?(d.formExtend.testLDAP=!0,d.formExtend.testLDAPResult="Ok",b.extend(d.companyForm,d.formLDAP)):(d.formExtend.testLDAP=!1,d.formExtend.testLDAPResult=j("translate")("This LDAP server is unreachable"))},function(a){d.formExtend.testLDAP=!1,400===a.status?d.formExtend.testLDAPResult=j("translate")("Check address and port for LDAP"):d.formExtend.testLDAPResult=j("translate")("Server error occurred during request processing")}).finally(function(){d.sendLDAPCheck=!1})},d.changeCompanyAdmin=function(){p.ready(!0).then(function(){q.open({backdrop:!0,templateUrl:"profile/company/dialog/changeCompanyAdmin.tpl.html",controller:["$scope","$modalInstance","usersService",function(a,c,d){var g=b.copy(d.list());g=_.filter(g,function(a){return a.userid!==e.CurrentUser.userid&&"added"===a.status}),a.selectedItems=[],a.users=g,a.gridOptions={defaultSort:["name"],uniqueItemField:"userid",checkboxes:!0,columnDefs:[{title:j("translate")("Display name"),cellTemplate:'<span once-text="item.name"></span>',sortKey:"name",size:"60%"},{title:j("translate")("Status"),cellTemplate:'<span ng-if="item.status == \'invited\'" translate>Hasn\'t joined yet</span><span ng-if="item.is_active === true" translate>Active</span><span ng-if="item.is_active === false" translate>Blocked</span>',sortKey:"status",size:"40%"}],allowSelectItem:!0},a.applyFilter=function(){var b=new RegExp(a.filterBy,"ig");a.users=_.filter(g,function(a){var c=_.filter(a.logins,function(a){return b.test(a.value)});return b.test(a.name)||c.length})};var k=e.$on("content:folder-contents:selectedItems",function(c,d){d.selectedItems.length>1?(i.pop("error",b.cloudike.translate("You can not select more than 1 user")),e.$emit("content:uncheck-checkboxes")):a.selectedItems=d.selectedItems});a.$on("$destroy",function(){k()}),a.done=function(){o.confirm(b.cloudike.translate("You can not undo this operation"),b.cloudike.translate("Current account will not be an administrator account anymore and logout automatically. Continue?"),b.cloudike.translate("Yes, change company admin"),b.cloudike.translate("No")).then(function(){h.one("accounts").one("company").one(e.CurrentCompany.company_id).post("admin_change",{user_id:a.selectedItems[0].userid}).then(function(){i.pop("note",b.cloudike.translate("Company admin has changed")),c.close(),f.go("signout")},function(a){switch(a.data.code){case"UserIsNotAdmin":i.pop("error",b.cloudike.translate("You do not have permission"));break;case"UserNotFound":i.pop("error",b.cloudike.translate("User not found"));break;default:i.pop("error",b.cloudike.translate("Server error occurred during request processing"))}})})}}]})})},g("PromocodesBaseCtrl",{$scope:d})}]).controller("ProfileCompanySettingsCtrl",["$scope","$rootScope","$state","$controller",function(a,b,c,d){b.CurrentUser.company_id&&"company_admin"===b.CurrentUser.role||c.go("profile"),d("ProfileCompanySettingsCommonCtrl",{$scope:a})}]),b.module("ngCloudike.profile.company.shares",[]).config(["$stateProvider",function(a){a.state("profile.company.shares",{parent:"profile",url:"/company/shares",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html",controller:"ProfileCompanySharesNavbar"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanySharesCtrl",templateUrl:"profile/company/shares.tpl.html"}},resolve:{sharedObjects:["CurrentUser","Restangular","toaster","$filter",function(a,c,d,e){var f={},g=[];return c.one("shares").one("company").one("shared").get().then(function(c){var d="",e={},h={};return b.forEach(c,function(c){d="/"+c.owner+c.path,c.isOwner=a.userid===c.owner,f.hasOwnProperty(d)?(h={},e=g[f[d]],b.extend(h,e,c),h.created=c.created>e.created?c.created:e.created,h.modified=c.modified>e.modified?c.modified:e.modified,h.shared=c.shared||e.shared,h.shared_outside=c.shared_outside||e.shared_outside,("link"===e.type&&"share"===c.type||"share"===e.type&&"link"===c.type)&&(h.type="both"),g[f[d]]=h):(f[d]=g.length,this.push(c))},g),c.splice(0,c.length),b.extend(c,g),c},function(a){return"DeniedForUsersWithUnapprovedAccounts"===a.data.code?d.pop("error",b.cloudike.translate("Denied for users with unapproved accounts")):"DeniedForUsersWithPlanExpire"===a.data.code?d.pop("error",b.cloudike.translate("Denied for users with plan expire")):d.pop("error",b.cloudike.translate("Server error occurred during request processing")),[]})}],linkOpts:["sharedObjects","LinkOptions","Restangular","$q",function(a,b,c,d){return b.get(a,!0)}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Company shares"}})}]).controller("ProfileCompanySharesNavbar",["$scope",function(a){a.navbarMenu="companySharesMenu"}]).controller("ProfileCompanySharesCtrl",["$scope","$rootScope","$state","$stateParams","$templateCache","$q","Restangular","toaster","$filter","sharedObjects","LinkOptions",function(a,c,d,e,f,g,h,i,j,k,l){c.CurrentUser.company_id&&"company_admin"===c.CurrentUser.role||d.go("profile"),a.gridOptions={gridName:"company.shares",defaultSort:["+created"],checkboxes:!0,columnDefs:[{title:b.cloudike.translate("Name"),cellTemplate:f.get("clFolderContents/nameColumnNoHref.tpl.html"),sortKey:"path",size:"35%"},{title:b.cloudike.translate("Owner"),colClass:"hidden-xxs",cellTemplate:'<span once-text="item.owner_name"></span>',sortKey:"owner_name",size:"15%"},{title:b.cloudike.translate("Type"),colClass:"hidden-xxs",cellTemplate:'<span class="item-type" cl-share-type share-type="item.type" share-outside="item.shared_outside" share-tip="true"></span>',cellClass:"text-center",sortKey:"type",size:"75px"},{title:b.cloudike.translate("Modified"),colClass:"hidden-xs",cellTemplate:'<span once-text="item.modified | datetime"></span>',cellClass:"text-right",sortKey:"modified",size:"15%"},{title:b.cloudike.translate("Published"),colClass:"hidden-xs",cellTemplate:'<span once-text="item.created | datetime"></span>',cellClass:"text-right",sortKey:"created",size:"15%"}]},a.shares={},a.shares.content=l.metadata.content,a.contextMenuEntry="companySharesMenu",a.filter="",a.applyFilter=function(){var b=new RegExp(a.filter,"ig");a.shares.content=_.filter(l.metadata.content,function(a){return b.test(j("filename")(a.path))||b.test(a.owner_name)})},c.$$on(["content:folder-contents:companyUnshareSuccessfull","content:folder-contents:companyUnshareFailed","content:folder-contents-context:companyUnshareSuccessfull","content:folder-contents-context:companyUnshareFailed"],function(c,d){b.forEach(d,function(a){l.metadata.content=_.reject(l.metadata.content,function(b){return b.path===a.path&&b.owner===a.owner})}),a.applyFilter(),"content:folder-contents:companyUnshareSuccessfull"!==c.name&&"content:folder-contents-context:companyUnshareSuccessfull"!==c.name||i.pop("note",b.cloudike.translate("Shared items were withheld successfuly"))}),c.$$on(["content:folder-contents:companyUnshareFailed","content:folder-contents-context:companyUnshareFailed"],function(){i.pop("error",b.cloudike.translate("Some shared items were not withheld"))})}]),b.module("ngCloudike.profile.company.users",[]).config(["$stateProvider",function(a){a.state("profile.company.users",{parent:"profile",url:"/company/users",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html",controller:"ProfileCompanyUsersNavbar"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyUsersCtrl",templateUrl:"profile/company/users.tpl.html"}},resolve:{initUsers:["CurrentUser","usersService",function(a,b){return b.ready()}]},data:{bodyClassname:"body-scroll body-settings",pageTitle:"Users"}})}]).controller("ProfileCompanyUsersNavbar",["$scope",function(a){a.navbarMenu="companyUsersMenu"}]).controller("ProfileCompanyUsersCtrl",["$scope","$rootScope","$state","$stateParams","Restangular","toaster","$filter","usersService","clTour",function(a,c,d,e,f,g,h,i,j){function k(){return _.reject(i.list(),function(a){return a.userid==c.CurrentUser.userid})}c.CurrentUser.company_id&&"company_admin"===c.CurrentUser.role||d.go("profile"),a.users={},a.users.content=_.reject(i.list(),function(a){return a.userid==c.CurrentUser.userid});var l=0;if(b.forEach(a.users.content,function(a){b.forEach(a.logins,function(a){"ldap"===a.type&&l++})}),a.gridOptions={gridName:"company.users",defaultSort:["name"],uniqueItemField:"login",columnDefs:[{title:b.cloudike.translate("Display name"),cellTemplate:'<span once-text="item.name"></span>',sortKey:"name",size:"30%"},{title:l>0?b.cloudike.translate("Email / LDAP"):b.cloudike.translate("Email"),cellTemplate:'<span ng-repeat="login in item.logins"><span once-text="login.value"></span><span once-if="!$last">, </span></span>',sortKey:"logins[0].value",size:"25%"},{title:b.cloudike.translate("Storage"),colClass:"hidden-xxs",cellTemplate:'<span ng-if="item.status !== \'invited\'" translate="USER_STORAGE_SIZE of USER_QUOTA_SIZE" translate-values="{USER_STORAGE_SIZE: item.storage_size, USER_QUOTA_SIZE: item.quota_size}"></span><span ng-if="item.status === \'invited\'">-</span>',sortKey:"status",size:"15%"},{title:b.cloudike.translate("Expiry date"),colClass:"hidden-xxs",cellTemplate:"<span ng-if='item.expired' once-text='item.expired | date'></span> <span ng-if='!item.expired' translate>None</span>",sortKey:"expired",size:"15%"},{title:b.cloudike.translate("Status"),colClass:"hidden-xxs",cellTemplate:'<span ng-if="item.status == \'invited\'" translate>Hasn\'t joined yet</span><span ng-if="item.is_active === true" translate>Active</span><span ng-if="item.is_active === false && !item.expired"" translate>Blocked</span><span ng-if="item.is_active === false && item.expired" class="text-muted" translate>Expired</span>',sortKey:"status",size:"15%"},{title:b.cloudike.translate("Permission"),colClass:"text-center pad-a-0 mar-a-0",cellTemplate:"<i ng-if='!item.can_print' ng-disabled='!item.is_active' class='fail-color min-permission-btn glyphicon glyphicon-print'></i><i ng-if='item.can_print' class='success-color min-permission-btn glyphicon glyphicon-print'></i><i ng-if='item.can_download' class='success-color min-permission-btn mar-l-3 mar-r-3 glyphicon glyphicon-download-alt'></i><i ng-if='!item.can_download' class='fail-color min-permission-btn mar-l-3 mar-r-3 glyphicon glyphicon-download-alt'></i><i ng-if='item.pc_can_download' class='success-color min-permission-btn glyphicon glyphicon-hdd'></i><i ng-if='!item.pc_can_download' class='fail-color min-permission-btn glyphicon glyphicon-hdd'></i><i ng-if='item.use_watermarks' class='success-color min-permission-btn mar-l-3 mar-r-3 glyphicon glyphicon-tint'></i><i ng-if='!item.use_watermarks' class='fail-color min-permission-btn mar-l-3 mar-r-3 glyphicon glyphicon-tint'></i>",size:"15%"},{title:b.cloudike.translate("Last login"),colClass:"hidden-xs",cellClass:"text-right",cellTemplate:'<span class="text-muted" once-text="item.last_login | datetime"></span>',sortKey:"last_login",size:"15%"}]},c.$on("removeFromUsersList",function(c,d){b.forEach(d,function(a){i.reject(function(b){return b.login===a.login})}),a.applyFilter()}),c.$on("pushToUsersList",function(d,e){b.forEach(e,function(d){var e=!1;b.forEach(a.users.content,function(a){a.name===d.text&&(e=!0)}),e||(a.users.content.push({__allowSelect:!0,name:d.text,company_id:c.CurrentUser.company_id,login:"email:"+d.text,logins:[{type:"email",value:d.text}],status:"invited",userid:0}),i.list(a.users))}),i.list(a.users.content),a.applyFilter()}),c.$on("content:folder-contents:companyUsersCreatedSuccessfull",function(d,e){var f=_.object(["type","value"],e.login.split(":"));a.users.content=k(),a.users.content.push(b.extend(e,{__allowSelect:!0,logins:[f],type:"email",status:"active",is_active:!0,quota_size:c.CurrentCompany.quota_size-c.CurrentCompany.storage_size,storage_size:0,can_download:!0,pc_can_download:!0,can_print:!0,use_watermarks:!1})),i.list(a.users.content),a.applyFilter()}),a.filter="",a.applyFilter=function(){var b=new RegExp(a.filter,"ig");a.users.content=_.filter(i.list(),function(a){if(a.userid==c.CurrentUser.userid)return!1;var d=_.filter(a.logins,function(a){return b.test(a.value)});return b.test(a.name)||d.length})},c.$$on(["content:folder-contents:companyUsersBlockSuccessfull","content:folder-contents:companyUsersUnblockSuccessfull","content:folder-contents-context:companyUsersBlockSuccessfull","content:folder-contents-context:companyUsersUnblockSuccessfull","content:folder-contents:companyUsersBlockFailed","content:folder-contents:companyUsersUnblockFailed","content:folder-contents-context:companyUsersBlockFailed","content:folder-contents-context:companyUsersUnblockFailed"],function(c,d){b.forEach(d.nodes,function(a){var c=_.find(i.list(),function(b){return b.userid===a.userid});c&&b.extend(c,a)}),a.applyFilter()}),c.$$on(["content:folder-contents:companyUsersUpdateQuotaSuccessfull","content:folder-contents-context:companyUsersUpdateQuotaSuccessfull","content:folder-contents:companyUsersUpdateQuotaFailed","content:folder-contents-context:companyUsersUpdateQuotaFailed"],function(c,d){b.forEach(d.nodes,function(a){var c=_.find(i.list(),function(b){return b.userid===a.userid});c&&b.extend(c,a)}),a.applyFilter()}),c.$$on(["content:folder-contents:companyUsersDeleteSuccessfull","content:folder-contents:companyUsersDeleteFailed","content:folder-contents-context:companyUsersDeleteSuccessfull","content:folder-contents-context:companyUsersDeleteFailed"],function(c,d){b.forEach(d,function(a){i.reject(function(b){return b.userid===a.data.userid})}),a.applyFilter(),g.pop("note",b.cloudike.translate("Some users were deleted."))}),c.$$on(["content:folder-contents:companyUsersDeleteFailed","content:folder-contents-context:companyUsersDeleteFailed"],function(){g.pop("error",b.cloudike.translate("Some users were not deleted."))}),c.$$on(["content:folder-contents:companyUsersUpdateQuotaFailed","content:folder-contents-context:companyUsersUpdateQuotaFailed"],function(a,c){var d,e=b.cloudike.translate("Some user quotas were not updated");if(c&&b.isArray(c.nodes)&&(d=_.find(c.nodes,function(a){return a.error_info})),d)switch(d.error_info){case"Company quota need increase.":e=b.cloudike.translate("Company quota should be increased");break;case"User not found":e=b.cloudike.translate("User not found")}g.pop("error",e)}),c.$$on(["content:folder-contents:companyUsersUpdateQuotaSuccessfull","content:folder-contents-context:companyUsersUpdateQuotaSuccessfull"],function(a,c){g.pop("success",b.cloudike.translate("User quotas were updated successfully"))}),c.$on("content:folder-contents:companyUsersBlockFailed",function(){g.pop("error",b.cloudike.translate("Some users were not blocked."))}),c.$$on(["content:folder-contents:companyUsersUnblockFailed","content:folder-contents-context:companyUsersUnblockFailed"],function(){g.pop("error",b.cloudike.translate("Some users were not unblocked."))}),c.CurrentUser.need_tutorial&&c.CurrentCompany.wizard_state.done){var m=j.init_tour(!1);m.addSteps([{element:"#menu_items",title:b.cloudike.translate("STEP2. User invite"),content:b.cloudike.translate("Click [Add]")}]),m.init(),m.resume()||m.end()?m.restart():m.start(!0)}}]),b.module("ngCloudike.profile",[]).config(["$stateProvider",function(a){a.state("profile",{parent:"cloudike",url:"/profile",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCtrl",templateUrl:"profile/profile.tpl.html"}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-scroll body-settings",pageTitle:"Account"}}),a.state("security",{parent:"profile",url:"/security",views:{"main@cloudike":{controller:"SecurityCtrl",templateUrl:"profile/security.tpl.html"}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-scroll body-settings",pageTitle:"Security"},resolve:{BasicAuth:["Restangular",function(a){return a.one("accounts").one("get_basic_auth").get().then(function(a){return a},function(){return{}})}],tokens:["Restangular",function(a){return a.one("accounts").getList("permanent_tokens")}]}}),a.state("log",{parent:"profile",url:"/log",views:{"main@cloudike":{controller:"ActivityLogCtrl",templateUrl:"profile/log.tpl.html"}},resolve:{ActivityLog:["eventsService","$rootScope","CurrentUser",function(a,b,c){return a.get({person:"me",not_include_storage_info:!0})}]},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-scroll body-settings",pageTitle:"Activity log"}}),a.state("profile.product",{parent:"profile",url:"/product",views:{"navbar-menu@cloudike":{templateUrl:"profile/profile-menu.tpl.html"},"sidebar-top@cloudike":{templateUrl:"profile/profile-sidebar.tpl.html"},"main@cloudike":{controller:"ProfileCompanyProductCtrl",templateUrl:"profile/company/product.tpl.html"}},data:{bodyClassname:"body-scroll body-settings",pageTitle:"My company product"}})}]).controller("ProfileCtrl",["$scope","$rootScope","$controller","Restangular","dialog","toaster","$state","$window","$filter","$timeout","clTour",function(a,c,d,e,f,g,h,i,j,k,l){c.hardSidebar=!0,a.user=b.copy(c.CurrentUser),a.user.password="",a.removeAccount=function(){f.confirm(b.cloudike.translate("Are your sure?"),b.cloudike.translate("Your account will be deleted and all your files will be permanently deleted with no chance to restore. Continue?"),b.cloudike.translate("Yes, delete all my files"),b.cloudike.translate("Oops, not now")).then(function(){c.CurrentUser.logins[0];e.one("accounts").post("remove",{}).then(function(){h.go("signout")},function(a){"CompanyRemoveUserAtFirst"===a.data.code&&g.pop("error",b.cloudike.translate("If you want to remove admin account, You should remove all users in company at first"))})})},a.save=function(){var d=b.copy(c.CurrentUser);e.one("accounts").post("change_profile",a.user).then(function(e){"OK"===e.code&&(delete a.user.password,c.CurrentUser=b.copy(a.user),d.lang!==a.user.lang?i.location.reload():g.pop("note",b.cloudike.translate("Account data saved successfully"))),"PasswordNotModified"!==e.code&&"PasswordAlreadyUsed"!==e.code||g.pop("note",b.cloudike.translate("This password was already used before. Set another please"))})},d("PromocodesBaseCtrl",{$scope:a}),c.CurrentUser&&c.CurrentUser.need_tutorial&&c.CurrentCompany.wizard_state.done&&k(function(){var a=l.init_tour(!1);a.addSteps([{element:"#user_list",title:b.cloudike.translate("STEP2. User invite"),content:b.cloudike.translate("Click the [Users]")}]),a.init(),a.resume()||a.end()?a.restart():a.start(!0)},500)}]).controller("SecurityCtrl",["$scope","$rootScope","$state","$modal","$filter","Restangular","toaster","BasicAuth","tokens","CurrentUser",function(a,d,e,f,g,h,i,j,k,l){function m(){h.one("accounts").getList("permanent_tokens").then(function(b){a.devices=b})}b.extend(a,{login:{value:"",code:"",lastValue:c,needApprove:!1},webdav:{isEnable:!!b.cloudike.getLogin("basic"),login:j.login?"basic:"+j.login:c},BasicAuth:j,formBasicAuth:!1,devices:k}),a.removeDevice=function(a){f.open({backdrop:!0,windowClass:"md-small",templateUrl:"profile/company/dialog/alertUserRemoteWipeConfirm.tpl.html",controller:["$rootScope","$scope","$modalInstance",function(b,c,d){c.remoteWipe=!0,c.sendRequest=function(){c.remoteWipe||b.$emit("removeDeviceFromList",a),h.one("accounts").post("remove_permanent_token",{token_id:a.id,remote_wipe:c.remoteWipe?"True":"False"}).then(function(){d.close(),m()})}}]})},a.keepDevice=function(a){h.one("accounts").post("cancel_token_remote_wipe",{token_id:a.id}).then(function(){m()})},a.approveLogin=function(c){h.one("accounts").post("approve",{hash:a.login.lastValue+":"+a.login.code}).then(function(d){c.$reset(),a.login.needApprove=!1,a.login.code="",b.cloudike.addLogin(d.login)},function(a){c.$parseErrors(b.cloudike.translate("Invalid code"))})},a.denyLogin=function(){a.login.needApprove=!1,a.login.code=""},a.appendLogin=function(d){var e,f,g=a.login.value;if(!b.cloudike.isEmail(g))return c;e="add_email",f={email:g},d.$resetErrors(),h.one("accounts").post(e,f).then(function(d){a.login.lastValue=String(d.login).split(":")[1]||c,a.login.needApprove=!1,a.login.code="",a.login.value="";var f;switch(e){case"add_email":f="Please, check your email {0}."}f&&i.pop("note",b.cloudike.translate(f).format(g)),l.unapproved_logins.push("email:"+g)},function(c){c&&c.data&&i.pop("error",b.cloudike.translate("UserAlreadyExists"===c.data.code?"User with such email already exists":"Server error occurred during request processing")),a.login.value=""})},a.removeLogin=function(c){h.one("accounts").post("remove_login",{login:c}).then(function(c){b.cloudike.removeLogin(c.login),c.login==="basic:"+a.BasicAuth.login&&(a.webdav.isEnable=!1,a.BasicAuth={})})},a.toggleWebdav=function(){a.webdav.isEnable?h.one("accounts").post("create_basic_auth",{}).then(function(c){a.webdav.login=c.login,a.BasicAuth={},b.cloudike.addLogin(c.login),h.one("accounts").one("get_basic_auth").get().then(function(b){a.BasicAuth=b})}):h.one("accounts").post("remove_login",{login:a.webdav.login}).then(function(d){a.webdav.login=c,a.BasicAuth={},b.cloudike.removeLogin(d.login)})},a.toggleEditMode=function(c){c&&(a.BasicAuth.prevLogin=b.copy(a.BasicAuth.login),a.BasicAuth.prevPassword=b.copy(a.BasicAuth.password)),c||(a.BasicAuth.login=b.copy(a.BasicAuth.prevLogin),a.BasicAuth.password=b.copy(a.BasicAuth.prevPassword)),a.formBasicAuth=c},a.loginMinLengthErrorMessage=b.cloudike.translate("Login must be at least 6 characters length"),a.loginMaxLengthErrorMessage=b.cloudike.translate("Login must be less than 32 character"),a.passwordMinLengthErrorMessage=b.cloudike.translate("Password must be more than 6 character"),a.passwordMaxLengthErrorMessage=b.cloudike.translate("Password must be less than 32 character"),a.saveBasicAuthForm=function(){return a.BasicAuth.login&&a.BasicAuth.password?a.BasicAuth.password?/^[a-zA-Z0-9\.]+$/.test(a.BasicAuth.login)?/^[a-zA-Z0-9]+$/.test(a.BasicAuth.password)?void h.one("accounts").post("create_basic_auth",a.BasicAuth).then(function(b){a.webdav.login=b.login,a.formBasicAuth=!1},function(a){var c=a.data;switch(key+"."+a.status){case"login.403":c=b.cloudike.translate("Login is already in use")}form.$parseErrors(c),i.pop("error",b.cloudike.translate("Login is already in use"))}):void i.pop("error",b.cloudike.translate("Password contains forbidden characters")):void i.pop("error",b.cloudike.translate("Name contains forbidden characters")):void i.pop("error",b.cloudike.translate("Password must be more than 6 character")):void i.pop("error",b.cloudike.translate("Login must be at least 6 characters length"))}}]).controller("ActivityLogCtrl",["$scope","$rootScope","ActivityLog","eventsService","clItemLogType","cfpLoadingBar",function(a,b,c,d,e,f){a.filter={currentEvent:""},a.page=1,a.loading=!1;var g=function(a){return _.chain(a).each(function(a){a.logType=e.get(a,null,"text")}).filter(function(a){return a.init_event_user_id!==a.user_id&&(a.logType=""),""!==a.logType}).value()};a.selectType=function(){a.fullyLoaded=!1,a.page=1,f.start(),c.get({type:a.filter.currentEvent,person:"me",not_include_storage_info:!0,limit:100}).then(function(b){a.events=g(b),f.complete()})},a.onScrollEnd=function(b){a.loading||a.fullyLoaded||(a.loading=!0,f.start(),c.get({type:a.filter.currentEvent,skip:50*a.page,limit:50,person:"me",not_include_storage_info:!0}).then(function(b){var c=g(b.plain());for(var d in c)c.hasOwnProperty(d)&&a.events.push(c[d]);b.length<50&&(a.fullyLoaded=!0),a.loading=!1,a.page++,f.complete()}))},a.events=g(c.plain()),a.$watch("events.length",function(b){!a.loading&&b<50&&a.onScrollEnd()})}]).controller("ProfileCompanyProductCtrl",["$scope","$rootScope","$modal","Restangular","toaster","dialog","$timeout","$state",function(d,e,f,g,h,i,j,k){d.getInfo=function(){g.one("payment").one("info").get().then(function(a){if(d.payInfo=a,a.payment_current){d.payInfo.payment_current.plan?d.myOrders=[{name:d.payInfo.payment_current.plan,created:d.payInfo.payment_current.paid_at,start_at:d.payInfo.payment_current.period.start_at,end_at:d.payInfo.payment_current.period.end_at,next_paymentDay:d.payInfo.payment_scheduled?d.payInfo.payment_scheduled.paid_at:c}]:d.myOrders=[{name:d.payInfo.payment_history[0].plan,created:d.payInfo.payment_history[0].paid_at,start_at:d.payInfo.payment_history[0].period.start_at,end_at:d.payInfo.payment_history[0].period.end_at,next_paymentDay:d.payInfo.payment_scheduled?d.payInfo.payment_scheduled.paid_at:c}];var b;b=d.payInfo.payment_scheduled&&d.payInfo.payment_scheduled.plan?{name:d.payInfo.payment_scheduled.plan,created:d.payInfo.payment_scheduled.paid_at,start_at:d.payInfo.payment_scheduled.period.start_at,end_at:d.payInfo.payment_scheduled.period.end_at,next_paymentDay:d.payInfo.payment_scheduled.paid_at,status:"scheduled"}:{name:c,created:c,start_at:c,end_at:c,next_paymentDay:c},d.myOrders.push(b),d.cardStat={credit_card:d.payInfo.card_info.card_name,name:d.payInfo.card_info.name,exist:d.payInfo.card_info.exist}}else d.myOrders=[{name:"trial",created:e.CurrentUser.registration_date,start_at:e.CurrentUser.registration_date,end_at:e.CurrentUser.registration_date+2592e6,next_paymentDay:c},{name:c,created:c,start_at:c,end_at:c,next_paymentDay:c}],d.cardStat={credit_card:c,name:c,exist:!1};d.myOrders[0].status=d.myOrders[0].end_at<new Date?"expired":"running",d.custom_plan_value={amount:a.amount}},function(a){"PaymentSystemChooseRequire"===a.data.code?e.CurrentCompany.need_payment_select=!0:(h.pop("error",b.cloudike.translate("Error occured during get information")),d.myOrders=[{name:"trial",created:e.CurrentUser.registration_date,start_at:e.CurrentUser.registration_date,end_at:e.CurrentUser.registration_date+2592e6,next_paymentDay:c},{created:c,start_at:c,end_at:c,next_paymentDay:c}],d.cardStat={exist:!1})})},d.getInfo(),e.$on("updateInfo",d.getInfo),d.paymentMethod=function(a){var c={system:""};c.system="ko"===a?"iamport":"eximbay",i.confirm(b.cloudike.translate("Please check payment method again"),b.cloudike.translate("You will pay {0} card").format("ko"===a?b.cloudike.translate("korean"):b.cloudike.translate("japanese"))).then(function(){g.one("payment").post("choose",c).then(function(a){e.CurrentCompany.need_payment_select&&delete e.CurrentCompany.need_payment_select,h.pop("note",b.cloudike.translate("Now you are ready to pay!")),j(d.getInfo()).then(function(){k.reload()})},function(a){h.pop("err",b.cloudike.translate("Server error occurred during request processing"))})})},d.cardDelete=function(){f.open({backdrop:!0,windowClass:"sm",templateUrl:"profile/company/dialog/alertCardInfoDelete.tpl.html",resolve:{PaymentType:function(){return d.payInfo.type}},controller:["$scope","Restangular","$modalInstance","PaymentType",function(a,c,d,f){a.deleteCardInfo=function(){"iamport"===f?c.one("payment").one("iamport").one("delete").post().then(function(a){h.pop("note",b.cloudike.translate("Success delete plan")),e.$emit("updateInfo"),d.close()},function(a){h.pop("note",b.cloudike.translate("Failed delete plan")),d.close()}):c.one("payment").one("eximbay").one("delete").post().then(function(a){h.pop("note",b.cloudike.translate("Success delete plan")),e.$emit("updateInfo"),d.close()},function(a){h.pop("note",b.cloudike.translate("Failed delete plan")),d.close()})}}]})},d.cardEdit=function(c){return f.open({templateUrl:"profile/company/dialog/paymentTerms.tpl.html",size:"md",backdrop:!0,resolve:{CardExist:function(){return d.cardStat.exist},IsUpdate:function(){return c},CustomPlan:function(){return d.custom_plan_value.amount},PaymentType:function(){return d.payInfo.type}},controller:["$scope","$rootScope","CardExist","IsUpdate","CustomPlan","$modalInstance","PaymentType",function(c,d,e,g,h,i,j){c.eachTerms={all:!1,agree1:!1,agree2:!1},c.allChecked=function(){c.eachTerms.all?(c.eachTerms.agree1=!1,c.eachTerms.agree2=!1):(c.eachTerms.agree1=!0,c.eachTerms.agree2=!0)},c.allUnChecked=function(){(c.eachTerms.agree1||c.eachTerms.agree2)&&(c.eachTerms.all=!1)},c.nextPage=function(){i.close(),f.open({backdrop:!0,windowClass:"lg",templateUrl:"profile/company/dialog/cardEdit.tpl.html",resolve:{CardExist:function(){return e},IsUpdate:function(){return g},CustomPlan:function(){return h},PaymentType:function(){return j}},controller:["$rootScope","$scope","$modalInstance","Restangular","toaster","CONST","CardExist","CustomPlan","IsUpdate","PaymentType","$window",function(c,d,e,f,g,h,i,j,k,l,m){d.cardExist=i,d.is_update=k,d.amount=0,d.card_number=[],d.card_expiry=[],d.billing_plan=[],d.is_custom=!!j,d.type=l;var n="iamport"===d.type?h.fe.tariff.kr:h.fe.tariff.jp;b.forEach(n.billing_plan,function(a){return d.billing_plan.push(a.label)}),d.billing_form={agree:!1,plans:"",company_plan_to:"",plan_form:d.billing_plan[0]},d.cardInfo={card_number:"",is_corp_card:!1,card_expiry:"",card_password:"",user_name:"",user_birth:""};var o=function(a){({}).cnv=m.wcs.cnv("1",a),m.wcs_do()};d.changeCompanyPlan=function(a){var b=_.find(n.plans,function(b){return b.label===a}),c=_.find(n.billing_plan,function(a){return a.label===d.billing_form.plan_form});d.is_custom&&(b={value:j}),d.billing_form.company_plan_to=a,d.amount=10*Math.floor(b.value*c.month*c.discount*h.fe.tariff.VAT/10)},d.$watch("billing_form.plan_form",function(){if(!d.billing_form.company_plan_to)return!1;d.changeCompanyPlan(d.billing_form.company_plan_to)}),d.sendRequest=function(){d.sendingRequest=!0,d.cardInfo.is_corp_card||(d.cardInfo.user_birth=d.cardInfo.user_birth.replace(/-/gi,"")),d.cardInfo.card_number=d.card_number[0]+"-"+d.card_number[1]+"-"+d.card_number[2]+"-"+d.card_number[3],d.cardInfo.card_expiry=d.card_expiry[0]+"-"+d.card_expiry[1];var h;d.cardExist&&!d.is_update&&d.cardExist?h={month:_.find(n.billing_plan,function(a){return a.label===d.billing_form.plan_form}).month,company_plan_to:d.billing_form.company_plan_to}:d.cardExist&&d.is_update&&d.cardExist?h=d.cardInfo:(h=d.cardInfo,h=b.extend(h,{month:_.find(n.billing_plan,function(a){return a.label===d.billing_form.plan_form}).month,company_plan_to:d.billing_form.company_plan_to})),d.cardInfo.is_corp_card&&(delete h.card_password,delete h.user_name),"iamport"===l?f.one("payment").one("iamport").post("update",h).then(function(a){d.sendingRequest=!1,d.cardExist&&!d.is_update&&d.cardExist?(g.pop("note",b.cloudike.translate("Update your plan")),m.dataLayer.push({event:"user_paid_done"}),o(d.amount)):d.cardExist&&d.is_update&&d.cardExist?g.pop("note",b.cloudike.translate("Update your card information")):d.cardExist||g.pop("note",b.cloudike.translate("Register is success")),c.$emit("updateInfo"),e.close()},function(a){g.pop("error",a.data.description),d.sendingRequest=!1,e.close()}):!d.is_update&&d.cardExist?f.one("payment").one("eximbay").post("update_plan",h).then(function(a){g.pop("note",b.cloudike.translate("Update your plan")),m.dataLayer.push({event:"user_paid_done"}),o(d.amount),c.$emit("updateInfo"),d.sendingRequest=!1,e.close()},function(a){g.pop("err",b.cloudike.translate("Server error occurred during request processing")),d.sendingRequest=!1,e.close()}):f.one("payment").one("eximbay").post("prepare",h).then(function(b){var c=a.outerWidth/2.5,f=(a.outerHeight-700)/4;a.open(b.url,"_blank","width=450,height=700,left="+c+",top="+f),d.sendingRequest=!1,m.dataLayer.push({event:"user_paid_done"}),o(d.amount),e.close()},function(a){g.pop("err",b.cloudike.translate("Server error occurred during request processing")),d.sendingRequest=!1,e.close()})}}]})}}]})}}]),b.module("ngCloudike.resetPassword",[]).config(["$stateProvider",function(a){a.state("resetPassword",{parent:"cloudike-clean",url:"/resetpassword",needAuth:!1,views:{"main@cloudike-clean":{controller:"ResetPasswordCtrl",templateUrl:"resetPassword/resetPassword.tpl.html"}},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Reset password"}}).state("newPassword",{parent:"cloudike-clean",url:"/newpassword",needAuth:!1,views:{"main@cloudike-clean":{controller:"NewPasswordCtrl",templateUrl:"resetPassword/newPassword.tpl.html"}},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Set new password"}}).state("resetPasswordConfirm",{parent:"cloudike-clean",url:"/resetpassword/confirm?token",views:{"main@cloudike-clean":{controller:"ResetPasswordConfirmCtrl",templateUrl:"resetPassword/resetPassword.tpl.html"}},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Reset password confirm"}})}]).controller("ResetPasswordCtrl",["$scope","$rootScope","Restangular","localstorageService","$state","toaster",function(a,c,d,e,f,g){if(b.cloudike.getToken())return void f.go("drive");a.formComplete=!1,c.loginType=c.loginType||"formEmail",a.user={formPhoneCode:{code:""},formEmail:{login:e.val("email")},formPhone:{login:e.val("phone")},formWindows:{login:e.val("login")}},a.setLoginType=function(a){c.loginType=a},a.submit=function(){var b,e=a[c.loginType],f=a.user[c.loginType];if(!e||!f)throw new Error;switch(c.loginType){case"formEmail":b="email:"+f.login;break;case"formPhone":b="phone:+"+f.login;break;case"formWindows":b="login:"+f.login}d.one("accounts").post("recover_lost_password",{login:b}).then(function(){a.formComplete=!0},function(a){e.$parseErrors(a.data)})},a.resendVerification=function(){d.one("accounts").post("recover_lost_password",{login:"email:"+a.user.formEmail.login}).then(function(){g.pop("note",b.cloudike.translate("The email has been successfully re-sent"))})},a.submitPhoneCode=function(){d.one("accounts").post("login_by_key",{key:"+"+a.user.formPhone.login+":"+a.user.formPhoneCode.code}).then(function(a){b.cloudike.setToken(a.token),f.go("profile")},function(b){a.formPhoneCode.$parseErrors(b.data,{Unauthorized:"Invalid code"})})}}]).controller("ResetPasswordConfirmCtrl",["$scope","$state",function(a,b){b.go("drive"),a.submit=function(){b.go("drive")}}]).controller("NewPasswordCtrl",["$scope","$filter","$state","Restangular","toaster",function(a,c,d,e,f){a.formData={},b.extend(a,{passwordMinLengthErrorMessage:c("translate")("Password must be more than 6 character"),passwordMaxLengthErrorMessage:c("translate")("Password must be less than 32 character"),passwordsNotMatchErrorMessage:c("translate")("The password and confirmation password do not match")}),a.check=function(){a.newPassword.repeat.$setValidity("notmatch",a.formData.password===a.formData.repeat)},a.submit=function(){e.one("accounts").post("change_profile",{password:a.formData.password}).then(function(a){"OK"===a.code&&d.go("signin"),"PasswordNotModified"!==a.code&&"PasswordAlreadyUsed"!==a.code||f.pop("note",c("translate")("This password was already used before. Set another please"))})}}]),b.module("ngCloudike.signin",[]).config(["$stateProvider",function(a){a.state("signin",{parent:"cloudike-clean",url:"/signin?token&key&state&path&back&passwordRecovery",needAuth:!1,views:{"main@cloudike-clean":{controller:"SigninCtrl"}},data:{bodyClassname:"body-gray",pageTitle:"Sign in"}})}]).controller("SigninCtrl",["CONST","$scope","$rootScope","$location","$state","$stateParams","Restangular",function(a,d,e,f,g,h,i){var j=1;if(j=b.element.browser.msie&&b.element.browser.versionNumber<9?0:j,j=b.element.browser.opera&&b.element.browser.versionNumber<13?0:j,d.moveToOauth=function(){e.oauthStateParams?g.go("oauth",{back:e.oauthStateParams.back,use_ajax:e.oauthStateParams.use_ajax?j:c}):g.go("oauth",{back:h.back,use_ajax:j})},d.moveToState=function(a,c){return g.transitionTo(a,c||{},{reload:!0}).catch(function(){b.cloudike.resetToken(),d.moveToOauth()})},h.key)return i.one("accounts").post("login_by_key",{key:h.key}).then(function(a){if(b.cloudike.setToken(a.token),h.passwordRecovery)return d.moveToState("newPassword");var c=h.state||"profile";if(!h.path)return d.moveToState(c);i.withNoneSuffixConfig().one("metadata").one(h.path).get({offset:0,limit:1}).then(function(a){var e=a.folder?a.path:a.path.substring(0,a.path.lastIndexOf("/")),f=a.folder?null:a.path;d.moveToState(c+(f?".preview":""),b.extend({},e&&"/"!==e?{path:e}:{},f?{file:f}:{}))},function(){d.moveToState(c)})},function(){g.go("signin",{token:null,key:null})});if(h.token||b.cloudike.getToken()){h.token&&b.cloudike.setToken(h.token);var k=h.back;try{k=k?b.fromJson(decodeURIComponent(k)):k}catch(a){k=c}return b.isObject(k)||(k={name:"drive",params:{}}),d.moveToState(k.name,k.params)}d.moveToOauth()}]),b.module("ngCloudike.signout",[]).config(["$stateProvider",function(a){a.state("signout",{url:"/signout",views:{"layout@":{templateUrl:"layouts/col-1.tpl.html"},"main@signout":{controller:"SignoutCtrl"}},data:{pageTitle:"Sign out"}})}]).controller("SignoutCtrl",["$scope","$state","Restangular","websocketService",function(a,c,d,e){function f(){b.cloudike.resetToken(),e.logoff(),c.go("signin")}d.one("accounts").post("logout",{}).then(f,f)}]),b.module("ngCloudike.signup-business",[]).config(["$stateProvider",function(a){a.state("signup-business",{parent:"cloudike-clean",url:"/signup/business",needAuth:!1,views:{"main@cloudike-clean":{controller:"SignupBusinessCtrl",templateUrl:"signup/business/signup.tpl.html"}},resolve:{SignupDomain:["CONST","$window","$q",function(a,b,c){var d=c.defer();return b.location.host!==a.be.web_host?(d.reject(!1),b.location=b.location.protocol+"//"+a.be.web_host+"/signup/business"):d.resolve(!0),d.promise}]},data:{bodyClassname:"body-gray",pageTitle:"Sign up business account"}})}]).controller("SignupBusinessCtrl",["CONST","$scope","$rootScope","$state","$stateParams","$window","Restangular","$modal","toaster","$filter","SignupDomain","$translate","ipCookie",function(a,c,d,e,f,g,h,i,j,k,l,m,n){function o(b){return a.fe.lang2locale[b]}function p(){var b=c.SignupBusinessForm,d=c.user;h.one("accounts").post("create",d).then(function(e){var f=a.be.web_host,h=a.routes.signin,i="";b.$reset(),"trial"!==d.company_plan&&a.be.KT_email_verification?(f=e.domain?e.domain+"."+f:f,i=e.token?"?token="+e.token:i,g.location.href=g.location.protocol+"//"+f+h+i):c.formComplete=!0,g.dataLayer.push({event:"user_registered"}),{}.cnv=g.wcs.cnv("2",1),g.wcs_do()},function(a){b.$parseErrors(a)})}b.cloudike.getToken()?e.transitionTo("drive",{},{reload:!0}):!0!==a.be.business_signup&&e.go("signup"),c.formComplete=!1,c.user={},a.be.tariff_plan&&(c.user.company_plan="basic"),c.emailIsVerified=!a.be.KT_email_verification,c.defaultBaseLocale=a.fe.defaultBaseLocale,c.user.lang=n("usl")?n("usl"):c.defaultBaseLocale,c.langDisabled=!1,c.changeLanguage=function(b){c.langDisabled=!0,m.use(o(b)).then(function(){c.langDisabled=!1,n("usl",b,{expires:3650,domain:"."+a.be.web_host})})},c.changeLanguage(c.user.lang),c.submit=function(){var d=(c.SignupBusinessForm,c.user);"trial"!==d.company_plan&&a.be.KT_email_verification&&c.SignupBusinessForm.email.$valid?h.one("accounts").post("kt_get_account",d).then(function(a){a.username&&(d.name=a.username),c.emailIsVerified=!0,p(),j.clear()},function(a){404===a.status?j.pop({type:"error",title:b.cloudike.translate("User not found"),body:b.cloudike.translate("You are not KT service subscriber or you have used unknown email address. Cloudike is available only for KT customers. If you KT subscriber and you have problem with SignUp or something else is wrong here please contact our support specialists: 070-0000-0000"),timeout:1e4,showCloseButton:!0}):403===a.status&&j.pop({type:"error",title:b.cloudike.translate("You are not allowed to create any companies"),timeout:1e4,showCloseButton:!0})}):c.SignupBusinessForm.$valid&&(c.emailIsVerified=!0,p())},c.resendVerification=function(){var a=c.user,d="email:"+a.email;h.one("accounts").post("resend_message_for_approve",{login:d}).then(function(){j.pop("note",b.cloudike.translate("Email with link for registration confirmation successfully sent."))},function(){j.pop("error",b.cloudike.translate("There was an error during sending verification email, please try again later."))})},c.showOffer=function(){i.open({templateUrl:"signup/offer.tpl.html",size:"lg"})}}]),b.module("ngCloudike.signup",[]).config(["$stateProvider",function(a){a.state("signup",{parent:"cloudike-clean",url:"/signup?hash&lang",needAuth:!1,views:{"main@cloudike-clean":{controller:"SignupCtrl",templateUrl:"signup/signup.tpl.html"}},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Sign up"},resolve:{Invite:["$stateParams","Restangular","$q","$state",function(a,b,c,d){var e=null;return a.hash?(e=c.defer(),b.one("accounts").one("getinvited").get({hash:a.hash}).then(function(a){e.resolve(a)},function(a){e.reject(),d.go("signin")}),e.promise):void 0}]}}).state("signup-approve",{parent:"cloudike-clean",url:"/signup/approve?hash",needAuth:!1,views:{"main@cloudike-clean":{controller:"SignupApproveCtrl"}},data:{bodyClassname:"body-gray body-without-fucking-bottom-padding toaster-position-top",pageTitle:"Sign up approve"}})}]).controller("SignupApproveCtrl",["$scope","$state","$stateParams","toaster","Restangular","$filter",function(a,c,d,e,f,g){d.hash?(b.cloudike.resetToken(),f.one("accounts").one("approve").get({hash:d.hash}).then(function(a){b.cloudike.setToken(a.token),c.transitionTo("drive",{},{reload:!0})},function(a){a.data&&"CompanyOnModeration"===a.data.code?e.pop("error",g("translate")("Your request to create a new company received and will be reviewed soon")):a.data&&"CompanyIsDenied"===a.data.code?e.pop("error",g("translate")("Your request to create a new company was denied")):e.pop("error",g("translate")("Registration confirmation failed"),g("translate")("Probably, you've got a wrong or outdated link.")),c.go("signup")})):c.transitionTo("drive",{},{reload:!0})}]).controller("SignupCtrl",["CONST","$scope","$rootScope","$state","$stateParams","Restangular","localstorageService","$modal","Invite","$translate","ipCookie",function(a,c,d,e,f,g,h,i,j,k,l){function m(b){return a.fe.lang2locale[b]}switch(f.hash?b.cloudike.getToken()&&b.cloudike.resetToken():b.cloudike.getToken()?e.transitionTo("drive",{},{reload:!0}):!0===a.be.business_signup&&e.transitionTo("signup-business",{},{reload:!0}),c.formComplete=!1,d.loginType=d.loginType||"formEmail",d.loginType){case"formEmail":case"formPhone":break;default:d.loginType="formEmail"}if(c.loginTypes={email:"formEmail",phone:"formPhone",login:"formWindows"},c.user={formPhoneCode:{code:""},formEmail:{name:h.val("name"),email:h.val("email"),password:""},formPhone:{name:h.val("name"),phone:h.val("phone"),password:""},formWindows:{login:h.val("login"),password:""}},c.defaultBaseLocale=a.fe.defaultBaseLocale,c.user.formEmail.lang=f.lang?f.lang:l("usl")?l("usl"):c.defaultBaseLocale,c.langDisabled=!1,c.changeLanguage=function(b){c.langDisabled=!0,k.use(m(b)).then(function(){c.langDisabled=!1,l("usl",b,{expires:3650,domain:"."+a.be.web_host})})},c.changeLanguage(c.user.formEmail.lang),c.setLoginType=function(a){d.loginType=a},c.submit=function(){var a,i=c[d.loginType],k=b.extend(c.user[d.loginType],{invite_hash:f.hash});if(!i||!k)throw new Error;switch(j&&j.company_id&&(k=b.extend(k,{company_id:j.company_id})),d.loginType){case"formEmail":a="create";break;case"formPhone":a="create_by_phone",k.phone="+"+k.phone;break;case"formWindows":a="create_by_something"}g.one("accounts").post(a,k).then(function(a){k.email&&h.val("email",k.email),k.phone&&(k.phone=k.phone.replace("+",""),h.val("phone",k.phone)),k.login&&h.val("login",k.login),a.is_approved?(b.cloudike.setToken(a.token),e.transitionTo("drive",{},{reload:!0})):c.formComplete=!0},function(a){i.$parseErrors(a)})},c.submitPhoneCode=function(){g.one("accounts").post("approve",{hash:"+"+c.user.formPhone.phone+":"+c.user.formPhoneCode.code}).then(function(a){d.oauthStateParams?(d.oauthUserModel=c.user.formPhone,e.go("oauth",{form_url:d.oauthStateParams.form_url,use_ajax:d.oauthStateParams.use_ajax?1:null})):(b.cloudike.setToken(a.token),e.transitionTo("drive",{},{reload:!0}))},function(a){c.formPhoneCode.$parseErrors(a)})},c.resendVerification=function(){var a,b=c.user[d.loginType];switch(d.loginType){case"formEmail":a="email:"+b.email;break;case"formPhone":a="phone:+"+b.phone;break;case"formWindows":a="login:"+b.login}g.one("accounts").post("resend_message_for_approve",{login:a})},j){var n=String(j.login).split(":");2===n.length&&c.loginTypes.hasOwnProperty(n[0])&&(d.loginType=c.loginTypes[n[0]],c.user[d.loginType].hasOwnProperty(n[0])&&(c.user[d.loginType][n[0]]=n[1])),c.invite=j}c.showOffer=function(){i.open({templateUrl:"signup/offer.tpl.html",size:"lg"})}}]),b.module("ngCloudike.terms",[]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("terms",{url:"/terms*path",needAuth:!1,views:{"main@terms":{controller:"TermsCtrl",templateUrl:"terms/terms.tpl.html"},"layout@":{templateUrl:"layouts/col-1.tpl.html"},"navbar@":{templateUrl:"common/navbar-link.tpl.html"}},data:{pageTitle:"User Agreement"},resolve:{terms:["Restangular",function(a){return a.one("accounts").one("get_offer").get()}]}}),b.when("/terms/","/terms")}]).controller("TermsCtrl",["$scope","terms",function(a,b){a.terms=b}]),b.module("ngCloudike.transfers",[]).config(["$stateProvider",function(a){a.state("transfers",{parent:"cloudike",url:"/transfers",needAuth:!0,tryGetUser:!0,views:{"navbar-menu@cloudike":{templateUrl:"transfers/transfers-navbar.tpl.html"},"topbar-menu@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"sidebar-top@cloudike":{templateUrl:"drive/drive-sidebar.tpl.html"},"main@cloudike":{controller:"TransfersCtrl",templateUrl:"transfers/transfers.tpl.html"}},data:{htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll",pageTitle:"My Cloudike"},resolve:{Transfers:["Restangular",function(a){return a.one("migration_contents").get()}],initUsers:["CurrentUser","usersService",function(a,b){return b.ready()}]}})}]).controller("TransfersCtrl",["$scope","CONST","Transfers","usersService","CurrentUser","clActionHandler","Restangular","cfpLoadingBar",function(a,d,e,f,g,h,i,j){function k(a){var e;return a.owner_id===g.userid?(a.owner=b.copy(m),a.owner.name="Me_From"):a.owner=_.find(f.list(),function(b){return a.owner_id===b.userid}),a.receiver_id===g.userid?(a.receiver=b.copy(m),a.receiver.name="Me_To"):a.receiver=_.find(f.list(),function(b){return a.receiver_id===b.userid}),e=_.findWhere(d.fe.transfers.statuses,{value:a.status}),a.statusLabel=e?e.label:a.status,a.path=b.cloudike.pathAsFilename(a.src_path),a.receiver&&a.owner?a:c}function l(a){return _.reject(_.map(a,k),function(a){return a===c})}var m={me:!0,name:"Me"};a.transfers=l(e),a.filter={user:"",status:""},a.transfersSort=function(a){return a.status},a.transfersFilter=function(b){var c={};a.filter.user&&(c.whose=a.filter.user),a.filter.status&&(c.status=a.filter.status),j.start(),i.one("migration_contents").get(c).then(function(b){a.transfers=l(b)}).finally(function(){j.complete()})};var n=function(b){return function(){a.transfers=_.reject(a.transfers,function(a){return a.hash===b.hash})}};a.revoke=function(a){h.removeMigration(a).then(n(a))},a.decline=function(a){h.denyMigration(a).then(n(a))},a.accept=function(a){h.approveMigration(a)}}]),b.module("ngCloudike.unavailable",[]).config(["$stateProvider",function(a){a.state("unavailable",{parent:"",url:"/unavailable",needAuth:!1,views:{"main@unavailable":{controller:"UnavailableCtrl",templateUrl:"unavailable/unavailable.tpl.html"},"layout@":{templateUrl:"layouts/col-1.tpl.html"}},data:{pageTitle:"Unavailable",htmlClassname:"overflow-hidden",bodyClassname:"body-gray body-scroll"}})}]).controller("UnavailableCtrl",["$scope","$rootScope","$interval","Restangular","toaster","$filter","$state",function(a,b,c,d,e,f,g){a.tryAgain=function(a){var b=f("translate")("Can't connect to server");d.one("check").get().then(function(){g.go("drive"),c.cancel(h)},function(){a||e.pop("error",b)})};var h=c(function(){a.tryAgain(!0)},5e3);b.$on("websocket.set_connection",function(){a.tryAgain()})}]),b.module("ngAutocompleteReflect",[]).directive("ngAutocompleteReflect",["$timeout",function(a){return{require:"form",link:function(c,d,e,f){function g(){for(var a=d.find("input"),c=0,e=a.length;c<e;c++){var f=b.element(a[c]);if("checkbox"!==f.attr("type")&&"radio"!==f.attr("type")){var g=f.controller("ngModel");g&&g.$modelValue!=f.val()&&g.$setViewValue(f.val())}}}function h(a){function c(){clearTimeout(j),j=setTimeout(g,100)}for(var e=d.find("input"),f=!0===a?"unbind":"bind",h=0,i=e.length;h<i;h++){var k=b.element(e[h]);"checkbox"!==k.attr("type")&&"radio"!==k.attr("type")&&k[f]("input",c)[f]("change",c)}}function i(){g(),f.$setPristine(),c.$$apply()}var j=0;a(h,0),a(i,100),a(i,500),i(),c.$on("$destroy",function(){h(!0)})}}}]),b.module("cardDavErrorHandlingService",[]).factory("cardDavErrorHandlingService",["toaster","$filter",function(a,b){function c(c){if(c){switch(c.status){case 401:a.pop("error",b("translate")("cardDav error occurred: Unauthorized"));break;case 403:a.pop("error",b("translate")("cardDav error occurred: Forbidden"));break;case 404:a.pop("error",b("translate")("cardDav error occurred: Not Found"));break;default:a.pop("error",b("translate")("Server error occurred during request processing"))}Raven&&Raven.captureMessage("cardDav error: "+c.status+" "+c.statusText)}else a.pop("error",b("translate")("cardDav error occurred during request processing")),Raven&&Raven.captureMessage("cardDav error: unknown")}return{displayError:c}}]),b.module("cardDavService",[]).factory("cardDavService",["CONST","$rootScope","$q","$http","Restangular",function(a,d,e,f,g){function h(a){return s+a+".vcf"}function i(a){return"string"!=typeof a?c:(a=a.substring(a.lastIndexOf("/")+1),a?a.split(".")[0]||c:c)}function j(a){var b=$.parseXML(a),c=[];return $(b).find("d\\:response, response").each(function(){var a=$(this),b=a.find("d\\:href, href").text(),d=a.find("card\\:address-data, address-data"),e=a.find("d\\:getetag, getetag"),f={};d.length&&(f=vCard.parse(d.text().trim())),f._uidhref=i(b),f._url=b,f._etag=e.text().trim(),c.push(f)}),c}function k(a){var b=$.parseXML(a),c=[];if($(b).find("d\\:response, response").each(function(){var a=$(this);a.find("card\\:addressbook, addressbook").length&&c.push(a.find("d\\:href, href").text())}),c.length)return c[0];console.log("Error, can not find address book url",a)}function l(){return d.CurrentUser.userid!==q&&t.logout(),null!==p&&d.CurrentUser.userid===q?e.when(!0).then(m):g.one("accounts").one("get_contacts_sync_auth").get().then(function(a){r="Basic "+btoa(a.login+":"+a.password),p=a.login,q=d.CurrentUser.userid,t.isError=!1},function(a){if(404===a.status)return g.one("accounts").post("create_contacts_sync_auth",{}).then(l,function(a){return t.isError=!0,e.reject(a)})}).then(m)}function m(){return null!==s?e.when(!0):f({method:"PROPFIND",url:a.be.carddavapi+"/card.php/addressbooks/"+p,headers:{Authorization:r}}).then(function(a){s=k(a.data)},function(a){t.isError=!0})}function n(c,d,g){function h(a){return a&&(a=j(a.data)),b.isArray(a)&&(o+=p,Array.prototype.push.apply(m,a)),a&&!0!==g?k.resolve(m):!a||b.isArray(a)&&a.length?(i.data=q+(g?u:"")+v.format(o,p)+w.join("")+t,void f(i).then(h,k.reject)):k.resolve(m)}if(!s)return e.reject();if(null===r)return l().then(function(){return n(c,d,g)});d=void 0!==d&&d;var i={method:"REPORT",url:a.be.carddavapi+s,headers:{Authorization:r,Depth:1,"Content-Type":"application/xml; charset=utf-8"}},k=e.defer(),m=[],o=0,p=a.be.contacts_limit||200,q="<c:addressbook-"+(c?"multiget":"query")+' xmlns:d="DAV:" xmlns:c="urn:ietf:params:xml:ns:carddav">',t="</c:addressbook-"+(c?"multiget":"query")+">",u="<c:optimize><c:nresults>1</c:nresults></c:optimize>",v="<c:offset><c:nresults>{0}</c:nresults></c:offset><c:limit><c:nresults>{1}</c:nresults></c:limit>",w=["<d:prop>","<d:getetag/>"];return d||w.push("<c:address-data/>"),w.push("</d:prop>"),c&&(w=w.concat(_.map(c,function(a){return"<d:href>"+a+"</d:href>"}))),h(),k.promise}function o(){this.cards={},this.loaded=!1,this.isError=!1}var p=null,q=null,r=null,s=null,t=new o;return b.extend(o.prototype,{authorize:l,logout:function(){p=null,r=null,s=null,this.cards={},this.loaded=!1},getList:function(){if(this.loaded)return e.when(_.values(this.cards));var a=this;return n(c,c,!0).then(function(b){return a.cards=b,a.cards=_.object(_.map(b,function(a){return a._url}),b),a.loaded=!0,b})},getOne:function(a,b){function c(a){if(0===a.length)throw new Error("Not found");return a[0]}var d=h(a),e=this;return!b&&this.loaded&&void 0!==this.cards[d]&&this.cards[d]._full?n([d],!0).then(c).then(function(b){return b._etag!==e.cards[d]._etag?e.getOne(a,!0):e.cards[d]}):n([d]).then(c).then(function(a){return a._full=!0,e.cards[d]=a,a})},remove:function(b){var c=this,d=h(b);return f({method:"DELETE",url:a.be.carddavapi+d,headers:{Authorization:r}}).then(function(){return delete c.cards[d],c.cards})},update:function(b){var c=this;return f({method:"PUT",url:a.be.carddavapi+b._url,headers:{Authorization:r},data:this.generateCard(b)}).then(function(){return c.cards[b._url]=b,b})},create:function(a){var b=this.generateCard(a);return a=vCard.parse(b),a._url=h(a.uid[0].value),this.update(a)},generateCard:function(a){var c=b.copy(a);return delete c._url,vCard.generate(c,!0)}}),function(a){return a?l().then(function(){return t},function(){return t}):e.when(t)}}]),b.module("clActionHandler",[]).factory("clActionHandler",["CONST","$rootScope","Restangular","$state","$q","$filter","$injector","$window","$modal","toaster","dialog","clMoveOrCopy","clShare","fsnotifyService","cfpLoadingBar","taskService","$timeout",function(a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t={},u={};i.has("clActionHandlerExtension")&&(u=i.get("clActionHandlerExtension"));var v=b.extend({appendToMyCloudike:function(a){n.modal({onlyCopy:!0,noCreateFolder:!0}).result.then(function(c){if(c&&c.toPath)return v.addToStorage(b.extend({},a,c))})},addToStorage:function(a){var c=a.currentFolder&&a.currentFolder.singlefile,d=a.currentFolder.public_hash,f=a.toPath||"/",g=0;return l.pop("note",b.cloudike.translate("Please, wait..."),"",0),q.start(function(){return(g||1)/100}),e.withNotifyConfig(function(a){g=a}).one("links").one("add_to_storage").one(d).get({target_path:f}).then(function(a){q.complete(),l.clear();var d=b.cloudike.translate("Folder appended to your Cloudike");c&&(d=b.cloudike.translate("File appended to your Cloudike")),l.pop("success",d)},function(){q.complete(),l.clear();var a=b.cloudike.translate("Can't append folder to your Cloudike");c&&(a=b.cloudike.translate("Can't append file to your Cloudike")),l.pop("error",a)})},download:function(a){return 1!==a.selectedItems.length||a.selectedItems[0].folder?v.downloadArchive(a):e.one("files").one("get",a.selectedItems[0].path).get().then(function(a){a.url?j.location=b.cloudike.fileurl(a.url):l.pop("error",b.cloudike.translate("Download error"))},function(){l.pop("error",b.cloudike.translate("Download error"))})},downloadFolder:function(a){a.selectedItems=a.currentFolder.content,v.downloadArchive(a)},downloadPublicFolder:function(a){a.selectedItems=[{path:"/"}],v.downloadArchive(a)},downloadPublic:function(a){if(!a.currentFolder.public_hash||1!==a.selectedItems.length||a.selectedItems[0].folder)return v.downloadArchive(a);q.start(),e.one("links").one("get").one(a.currentFolder.public_hash).one(a.selectedItems[0].path).get({download:1,get_download_url:1}).then(function(a){q.complete(),a.url&&(location.href=a.url)},q.complete)},downloadArchive:function(a){function d(){q.set((k||1)/100),k<100&&s(d,200)}var f=a.currentFolder&&a.currentFolder.name&&a.currentFolder.public_hash?a.currentFolder.public_hash:"",h=g.defer(),i={path:_.map(a.selectedItems,function(a){return a.path})};f&&"function"==typeof b.cloudike.getLinkKey&&(i.password=b.cloudike.getLinkKey(f)),b.element.browser.win&&(i.is_win=!0);var k=0;if(l.pop("note",b.cloudike.translate("Please, wait for archive readiness..."),"",0),q.start(),d(),f){var m="?"+b.cloudike.transformRequestToParam(i),n=e.one("links").one("download_as_archive_stream",f).one("").getRestangularUrl();h.resolve(),j.location=b.cloudike.fileurl(n+m)}else e.one("files").post("create_link_of_archive",i).then(function(a){if(a.hash){var c=e.one("files").one("download_as_archive_stream",a.hash).one("").getRestangularUrl();j.location=b.cloudike.fileurl(c),h.resolve()}else h.reject()},h.reject);return h.promise.then(function(){k=100,q.complete(),l.clear()}).catch(function(a){switch(k=100,q.complete(),l.clear(),a&&a.data&&a.data.code||c){case"ZipFileTooLarge":l.pop("error",b.cloudike.translate("Total size of archive can't be more than 4Gb"));break;case"error ZipFileTooLarge":l.pop("error",b.cloudike.translate("Total size of archive can't be more than 2Gb"));break;case"error TooMuchFiles":l.pop("error",b.cloudike.translate("Total number of files can't be more than 1000"));break;default:l.pop("error",b.cloudike.translate("Download error"))}}),h.promise},remove:function(a){function c(){l.clear(),l.pop("error",b.cloudike.translate("Some folders was already removed by other user"))}m.confirm(b.cloudike.translate("Do you really want to remove it?")).then(function(){l.pop("note",b.cloudike.translate("Please, wait..."),"",0);var f={path:_.map(a.selectedItems,function(a){return a.path})};return e.one("fileops").one("multi").post("delete",f).then(function(a){if(l.clear(),p.deleted(a),a.failed)for(var b=a.nodes||[],c=b.length;c-- >0;)404===b[c].error_code&&d.$emit("websocket.file_deleted",[{path:b[c].path}])},c)})},rename:function(a){var f=d.$on("content:"+a.namespace+":renameItemFinished",function(g,h){if(f(),h.oldPath===(h.newPath||h.path))return c;h.path=h.newPath,h.$timestamp=new Date;var i={path:h.oldPath,newname:b.cloudike.pathAsFilename(h.newPath||h.path)};e.one("fileops").post("rename",i).then(p.renamed,function(c){h.path=h.oldPath,h.$timestamp=new Date;var e;switch(c.status){case 403:e=c.config.data?b.cloudike.translate('File/folder named "{0}" already exists!').format(c.config.data.newname):b.cloudike.translate("File/folder already exists!");break;case 400:e=c.data.code&&"InvalidParameters"===c.data.code?b.cloudike.translate("File name is incorrect"):b.cloudike.translate("There was an error during rename")}e&&l.pop({type:"error",title:e}),d.$emit("content:"+a.namespace+":renameItemFailed",h)})});d.$emit("content:"+a.namespace+":renameItem",a.selectedItems[0])},_moveOrCopy:function(a,d,f){if(1===d.length&&d[0].path===f)return l.pop("error",b.cloudike.translate("You try to copy a folder into itself")),c;var h=b.cloudike.translate("Moving selected items, please wait...");"copy"===a&&(h=b.cloudike.translate("Copy selected items, please wait...")),l.pop("note",h,"",0);var i=[];q.start(function(){for(var a=0,b=i.length;b-- >0;)a+=i[b];return(a/i.length||1)/100});var j=g.defer(),k=j.promise;return b.forEach(d,function(b,d){if(b.path===f)return c;k=k.finally(function(){var c=e.withNotifyConfig(function(a){i[d]=a}).one("fileops").post(a,{from_path:b.path,to_path:f});return c.then(p["copy"===a?"copied":"moved"]),c})}),j.resolve(),k.then(function(){q.complete(),l.clear()}).catch(function(){q.complete(),l.clear(),l.pop("error",b.cloudike.translate("Selected items were not moved"))})},onlyCopy:function(a){return v.moveOrCopy(a,{onlyCopy:!0})},onlyMove:function(a){return v.moveOrCopy(a,{onlyMove:!0})},moveOrCopy:function(a,b){return n.modal(b||{}).result.then(function(b){switch(b.type){case"copy":case"move":break;default:return c}v._moveOrCopy(b.type,a.selectedItems,b.toPath)})},share:function(b){if(t.share)return c;t.share=a.be.modern_sharing?o.modernModal(b):o.modal(b),t.share.result.finally(function(){delete t.share})},restore:function(a){if(b.isArray(a.selectedItems)&&1===a.selectedItems.length&&!a.selectedItems[0].name)return l.pop("error",b.cloudike.translate("Can't restore file")),c;l.pop("note",b.cloudike.translate("Please, wait..."),"",0);var d=[];q.start(function(){for(var a=0,b=d.length;b-- >0;)a+=d[b];return(a/d.length||1)/100});var f=[],h=g.defer(),i=h.promise;return b.forEach(a.selectedItems,function(a,b){if(!a.name)return c;var h=g.defer();i=i.finally(function(){e.withNotifyConfig(function(a){d[b]=a}).one("trash").one("restore").post(a.name,{name:a.name}).then(function(a){a.status||!1===a.deleted?h.resolve():h.reject()},h.reject)}),f.push(h.promise)}),g.all(f).then(function(){q.complete(),l.clear(),l.pop("note",b.cloudike.translate("Selected items were restored"))}).catch(function(a){q.complete(),l.clear(),a.data&&a.data.error&&402===a.data.error.code?l.pop("error",b.cloudike.translate(a.data.error.mgs)):l.pop("error",b.cloudike.translate("Selected items were not restored"))}),h.resolve(),f},restoreBusiness:function(a){l.pop("note",b.cloudike.translate("Please, wait..."),"",0);var d=[],f=[],h=g.defer(),i=g.defer(),j=i.promise;return b.forEach(a.selectedItems,function(a){if(!a.name)return l.pop("error",b.cloudike.translate("Can't restore file")),c;f.push(a.name)}),j=j.finally(function(){e.one("trash").post("restore",{paths:f}).then(function(a){r(a.taskid).then(function(a){if(a){var c=!0;b.forEach(a,function(a){!1!==a.deleted&&(c=!1)}),c?h.resolve():h.reject()}else h.reject()}).catch(h.reject)},h.reject)}),d.push(h.promise),g.all(d).then(function(){l.clear(),l.pop("note",b.cloudike.translate("Selected items were restored"))}).catch(function(a){l.clear(),a.data&&a.data.error&&402===a.data.error.code?l.pop("error",b.cloudike.translate(a.data.error.mgs)):l.pop("error",b.cloudike.translate("Selected items were not restored"))}),i.resolve(),d},deleteForever:function(a){},emptyTrash:function(){m.confirm(b.cloudike.translate("Do you really want to delete all files from trash?")).then(function(){var c=g.defer(),f=0;l.pop("note",b.cloudike.translate("Please, wait..."),"",0),q.start(function(){return(f||1)/100}),a.be.business_version?e.withNotifyConfig(function(a){f=a}).one("trash").one("clear").post().then(function(a){return r(a.taskid)}).then(c.resolve,c.reject):e.withNotifyConfig(function(a){f=a}).one("trash").one("clear").post().then(c.resolve,c.reject),c.promise.then(function(){q.complete(),l.clear(),d.$emit("websocket.trash_empty",[])}).catch(function(){q.complete(),l.clear(),l.pop("error",b.cloudike.translate("There was an error, some files were not deleted"))})})},createFolder:function(a){var c=b.cloudike.path(a.path,a.name);return e.one("fileops").post("folder_create",{path:c}).then(function(){l.pop("note",b.cloudike.translate("Folder created successfully"))},function(a){426===a.status&&l.pop("error",b.cloudike.translate("Denied for users with plan expire")),409===a.status&&l.pop("error",b.cloudike.translate("Folder already exists"))})},approveInvite:function(a){return e.one("shares").post("accept",{hash:a.hash}).then(function(c){a.status="accepted",d.$emit("MyNotices.update"),l.pop("note",b.cloudike.translate("Accepted invite to folder"),b.cloudike.translate("Click here to move to folder."),null,null,function(){l.clear(),f.go("drive",{path:c.path})})},function(a){msg=b.cloudike.translate("Server error occurred during request processing"),403===a.status&&(msg=b.cloudike.translate("Shared folder can't be accepted twice")),l.pop("error",msg)})},approveRequest:function(a,c){return e.one("shares").one("company").post("accept",{hash:a.hash,writer:c}).then(function(){a.status="accepted",d.$emit("MyNotices.update")},function(a){var c=b.cloudike.translate("Server error occurred during request processing");403===a.status&&"FolderIntersectsWithSharedOrPublished"===a.data.code&&(c=b.cloudike.translate("Can not approve request because it intersects with other shared folder")),l.pop("error",c)})},denyInvite:function(a){return e.one("shares").post("decline",{hash:a.hash}).then(function(){a.status="declined",d.$emit("MyNotices.update")})},approveSharesInvite:function(a){var c=a.currentFolder?b.cloudike.getNoticeByHash(a.currentFolder.shared_hash):null;if((c=c||(a.currentFolder?{status:"new",hash:a.currentFolder.shared_hash,path:a.currentFolder.path}:null))&&"new"===c.status)return v.approveInvite(c);l.pop("error",b.cloudike.translate("Invalid shared link"))},denySharesInvite:function(a){var c=b.cloudike.getNoticeByHash(a.currentFolder.shared_hash);if(c){if("new"===c.status)return v.denyInvite(c);l.pop("error",b.cloudike.translate("Invalid notice"))}},removeContact:function(a){d.$emit("contacts:removeItems",a)},uploadToPublicFolder:function(){b.element(document.getElementById("accessibleUploader")).click()}},u);return d.$on("content:renameItemSubmit",function(a,c){c.originalPath!==c.path&&e.one("fileops").post("rename",{path:c.originalPath,newname:b.cloudike.pathAsFilename(c.path)}).then(p.renamed,function(){l.pop("error",b.cloudike.translate("There was an error during rename"))})}),v}]),b.module("clActionHandler").factory("clActionHandlerExtension",["$rootScope","$modal","$filter","Restangular","$state","$q","$injector","toaster","dialog","cfpLoadingBar","GroupsService","clTour",function(a,c,d,e,f,g,h,i,j,k,l,m){var n={companyUserCopyEmail:function(a){var c="";return b.forEach(a.selectedItems[0].logins,function(a){"email"===a.type&&(c=a.value)}),c},companyUsersDelete:function(d){var f=[],h=[],i=0;b.forEach(d.selectedItems,function(a){a.is_deleted||(a.userid?f.push(a):h.push(a))}),i=f.length,0!==h.length&&n.companyUsersWithdrawInvite({selectedItems:h}),a.$emit("content:"+d.namespace+":companyUsersDelete",d.selectedItems),i>0&&c.open({backdrop:!0,templateUrl:"profile/company/dialog/alertUserDelete.tpl.html",size:"md",initUsers:function(a){return a.ready()},controller:["$scope","$modalInstance","usersService","$rootScope",function(a,b,c,h){a.user=f[0],a.userCnt=i,a.migrateFiles=!0,a.needWipe=!1,a.form={},a.users=_.chain(c.list()).filter(function(a){return void 0===_.find(f,function(b){return b.userid===a.userid})&&a.is_active}).map(function(a){return a.login_token=a.logins[0].type+":"+a.logins[0].value,a}).value(),a.users[0]&&(a.form.migrateTo=a.users[0].login_token);var j=_.map(f,function(b){return function(){return e.withConfig(function(a){a.setFullResponse(!0)}).one("admin").post("accounts_delete",{user_id:b.userid,immediately:"True",migrate_file:a.migrateFiles,need_wipe:a.needWipe?"True":"False",migrate_login:a.migrateFiles?a.form.migrateTo:""})}});a.sendRequest=function(){g.sequence(j).then(function(a){b.close(),h.$emit("content:"+d.namespace+":companyUsersDeleteSuccessfull",a)},function(a){h.$emit("content:"+d.namespace+":companyUsersDeleteFailed",a)})}}]})},companyUsersDevices:function(a){var d=a.selectedItems[0];e.one("accounts").one("company").one("user_permanent_tokens").get({user_id:d.userid}).then(function(a){var d=a.content;d.length>0?c.open({backdrop:!0,size:"lg",templateUrl:"profile/company/dialog/alertUserRemoteWipe.tpl.html",controller:["$rootScope","$scope","$modalInstance",function(a,f,g){f.devices=d,a.$on("removeDeviceFromList",function(a,b){f.devices=_.without(f.devices,b),0===f.devices.length&&g.close()}),f.disconnectDevice=function(a){c.open({backdrop:!0,windowClass:"md-small",templateUrl:"profile/company/dialog/alertUserRemoteWipeConfirm.tpl.html",controller:["$rootScope","$scope","$modalInstance",function(c,d,f){d.remoteWipe=!0,d.sendRequest=function(){d.remoteWipe||c.$emit("removeDeviceFromList",a),e.one("accounts").one("company").one("user_permanent_token").post("remove",{token_id:a.id,remote_wipe:d.remoteWipe?"True":"False"}).then(function(){a.remote_wipe=!0,f.close()},function(){i.pop("error",b.cloudike.translate("Something went wrong. We can't unlink this device now")),f.close()})}}]})},f.cancelDisconnection=function(a){e.one("accounts").one("company").one("user_permanent_token").post("cancel_remove",{token_id:a.id}).then(function(){a.remote_wipe=!1},function(){i.pop("error",b.cloudike.translate("Something went wrong. We can't cancel this device disconnecting now"))})}}]}):i.pop("error",b.cloudike.translate("This user haven't attached devices"))})},companyUsersBlock:function(d){a.$emit("content:"+d.namespace+":companyUsersBlock",d.selectedItems);var f=[],h={user_id:_.map(d.selectedItems,function(a){if(!0===a.is_active)return f.push(a),a.userid})},j=f.length,k=g.defer();j>0?c.open({backdrop:!0,templateUrl:"profile/company/dialog/alertUserBlock.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(b,c){b.user=f[0],b.userCnt=j,b.sendRequest=function(){e.one("accounts").one("company",a.CurrentUser.company_id).post("users_disable",h).then(function(a){c.close(),a.failed?k.reject(a):k.resolve(a)},function(a){k.reject(a)}),k.promise.then(function(b){a.$emit("content:"+d.namespace+":companyUsersBlockSuccessfull",b),"folder-contents"===d.namespace?a.$emit("content:"+d.namespace+":selectedItems",{selectedItems:d.selectedItems}):"folder-contents-context"===d.namespace&&a.$emit("updateSelectedItems")},function(b){a.$emit("content:"+d.namespace+":companyUsersBlockFailed",b)})}}]}):i.pop("error",b.cloudike.translate("All users are blocked"))},companyUsersUnblock:function(b){a.$emit("content:"+b.namespace+":companyUsersUnblock",b.selectedItems);var c={user_id:_.map(b.selectedItems,function(a){return a.userid})},d=g.defer();e.one("accounts").one("company",a.CurrentUser.company_id).post("users_enable",c).then(function(a){a.failed?d.reject(a):d.resolve(a)},function(a){d.reject(a)}),d.promise.then(function(c){a.$emit("content:"+b.namespace+":companyUsersUnblockSuccessfull",c),"folder-contents"===b.namespace?a.$emit("content:"+b.namespace+":selectedItems",{selectedItems:b.selectedItems}):"folder-contents-context"===b.namespace&&a.$emit("updateSelectedItems")},function(c){a.$emit("content:"+b.namespace+":companyUsersUnblockFailed",c)})},companyUsersChangePassword:function(a){c.open({backdrop:!0,templateUrl:"profile/company/dialog/changeUserPassword.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(c,d){c.user=a.selectedItems[0],c.password={},c.sendRequest=function(a){c.sendingRequest=!0,e.one("admin").post("accounts_set_password",{user_id:c.user.userid,new_password:c.password.new}).then(function(){d.close(),i.pop("error",b.cloudike.translate("Password successfully changed")),c.password={}}).catch(function(b){a.$parseErrors(b)}).finally(function(){c.sendingRequest=!1})},c.validatePasswords=function(){c.password.new&&c.password.repeat&&(c.changePasswordForm.$setValidity("minLength",!(c.password.new.length>1&&c.password.new.length<6||c.password.repeat.length>1&&c.password.repeat.length<6)),c.changePasswordForm.$setValidity("passwordsDontMatch",c.password.new===c.password.repeat))}}]})},companyUsersUpdateQuota:function(d){var f=_.map(d.selectedItems,function(a){return a.userid}),h=g.defer();c.open({backdrop:!0,templateUrl:"profile/company/dialog/updateUserQuotas.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(b,c){b.user=d.selectedItems[0],b.userCnt=f.length,b.quota={},b.sendRequest=function(g){b.sendingRequest=!0,e.one("accounts").one("company",a.CurrentUser.company_id).post("change_users_quota",{user_ids:f,quota_size:Math.floor(b.quota.new*Math.pow(2,30))}).then(function(a){c.close(),b.sendingRequest=!1,a.failed?h.reject(a):h.resolve(a),b.quota={}},function(a){b.sendingRequest=!1,h.reject(a)}),h.promise.then(function(b){a.$emit("content:"+d.namespace+":companyUsersUpdateQuotaSuccessfull",b)},function(b){a.$emit("content:"+d.namespace+":companyUsersUpdateQuotaFailed",b)})}}]})},companyUserAdd:function(a){c.open({backdrop:!0,templateUrl:"profile/company/dialog/addUserToCompany.tpl.html",windowClass:"modal-md-2",size:"md",resolve:{initUsers:["usersService",function(a){return a.ready(!0)}]},controller:["$rootScope","$scope","$modalInstance","toaster","usersService","$location",function(c,d,f,g,h,i){new ClipboardJS("#create_account_btn",{text:function(){return d.getAccessMessage()}});d.usersQuotaExceeded=!1,d.AddUserForm={isSetPeriod:!1};var j=new Date;d.newUser={name:"",email:"",password:"",expired:j,can_download:!0,pc_can_download:!0,can_print:!0,use_watermarks:!1},d.datePickerMax=new Date(j),d.datePickerMax.setDate(j.getDate()-1),d.datePickerMax.setFullYear(j.getFullYear()+1),d.datePickerMin=j,d.datePickerOpt={format:"yyyy/M/d",formatDay:"d",showWeeks:!1,maxMode:"year",isOpen:!1,selDate:j,selMin:j,selMax:j},d.passwordIsVisible=!1,d.inviteUsersLang=c.CurrentLocale;var l=_.reject(h.list(),function(a){return"invited"===a.status});b.isArray(l)&&(d.usersQuotaExceeded=l.length>=c.CurrentCompany.quota_employees_count),d.generatePassword=function(){for(var a=8,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="",e=0,f=b.length;e<a;++e)c+=b.charAt(Math.floor(Math.random()*f));d.newUser.password=c,d.AddUserForm.password.$setViewValue(c),d.AddUserForm.password.$render(),d.passwordIsVisible=!0},d.togglePasswordView=function(){d.passwordIsVisible=!d.passwordIsVisible},d.openDatePicker=function(){d.datePickerOpt.isOpen||(d.datePickerOpt.isOpen=!0)},d.checkDate=function(){var a=new Date;if(d.datePickerOpt.selDate&&d.datePickerOpt.selDate<=a)return!1},d.dateChange=function(){(!d.datePickerOpt.selDate||d.datePickerOpt.selDate<d.datePickerMin)&&(d.datePickerOpt.selDate=d.datePickerMin),d.datePickerOpt.isOpen=!1},d.inviteUsersLang=c.CurrentLocale,d.createUser=function(){(new Date).setSeconds(0,0);var h=b.extend(d.newUser,{company_id:c.CurrentCompany.company_id,created_manually:1,lang:d.inviteUsersLang});h.expired&&d.AddUserForm.isSetPeriod&&(d.datePickerOpt.selDate.setHours(23),d.datePickerOpt.selDate.setMinutes(59),d.datePickerOpt.selDate.setSeconds(59),h.expired=Math.ceil(h.expired)),k.start(),e.one("accounts").post("create",h).then(function(d){g.pop("note",b.cloudike.translate("User created successfully. Credentials sent to the user's email and copied to clipboard")),c.$emit("content:"+a.namespace+":companyUsersCreatedSuccessfull",b.extend(d,{name:h.name})),f.close()},function(a){switch(d.AddUserForm.$parseErrors(a),a&&a.data&&a.data.code){case"UserAlreadyExists":g.pop("error",b.cloudike.translate("User already exists"));break;case"InvalidParameters":g.pop("error",b.cloudike.translate("Some invites weren't sent because of invalid email"));break;default:g.pop("error",b.cloudike.translate("Server error occurred during request processing"))}}).finally(function(){k.complete()})},d.getAccessMessage=function(){return b.cloudike.translate("Authorization details in {0}:").format(c.CONST.be.app_name)+"\n"+b.cloudike.translate("Link")+": "+i.protocol()+"://"+i.host()+"\n"+b.cloudike.translate("Login")+": "+d.newUser.name+"\n"+b.cloudike.translate("Password")+": "+d.newUser.password}}]})},companyUsersAdd:function(){c.open({backdrop:!0,templateUrl:"profile/company/dialog/inviteUserToCompany.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$rootScope","$scope","$modalInstance","$q","toaster","$timeout",function(a,c,d,f,g,h){a.CurrentUser&&a.CurrentUser.need_tutorial&&a.CurrentCompany.wizard_state.done&&h(function(){var c=m.init_tour(!0,"auto",function(){a.CurrentUser.tutorial_last_step=!0});c.addSteps([{element:"#invite_field",title:b.cloudike.translate("STEP2. User invite"),content:b.cloudike.translate("Input the email of the person you want to invite.")},{element:"#drive_menu",title:b.cloudike.translate("STEP2. User invite"),content:b.cloudike.translate("Now we have only one more step. Let's back to Cloudike menu. Click here")}]),c.init(),c.resume()||c.end()?c.restart():c.start()},500),c.inviteUsersLang=a.CurrentLocale,c.sendInvites=function(){k.start();var h=[],i=b.copy(c.inviteUsers),j=!1,l=!1,m=!1,n=!1,o=!1;b.forEach(i,function(b){h.push(function(){return e.one("admin").one("company",a.CurrentUser.company_id).post("invite_user",{login:"email:"+b.text,lang:c.inviteUsersLang}).then(function(a){return i=_.without(i,b),d.close(),a},function(a){i=_.without(i,b),400===a.status?l=!0:402===a.status?j=!0:403===a.status?m=!0:426===a.status&&("DeniedForUsersWithPlanExpire"===a.data.code?o=!0:n=!0)})})}),f.sequence(h).then(function(){l&&j&&g.pop("note",b.cloudike.translate("Some invites weren't sent because of invalid email and user quota size is exceed")),l&&!j&&g.pop("note",b.cloudike.translate("Some invites weren't sent because of invalid email")),!l&&j&&g.pop("note",b.cloudike.translate("Some invites weren't sent because user quota size is exceed")),!l&&m&&g.pop("note",b.cloudike.translate("Some invite(s) weren't sent because user(s) already exist")),n&&g.pop("error",b.cloudike.translate("Denied for users with unapproved accounts")),o&&g.pop("error",b.cloudike.translate("Denied for users with plan expire")),l||j||m||n||(a.$emit("pushToUsersList",c.inviteUsers),g.pop("note",b.cloudike.translate("All invites successfully sent"))),c.inviteUsers=[]},function(a){c.InviteUserForm.$parseErrors(a.error[0])}).finally(function(){k.complete()})}}]})},companyUsersResendInvite:function(a){k.start();var c=a.selectedItems[0];e.one("admin").one("company",c.company_id).post("invite_user",{login:c.login}).then(function(){i.pop("note",b.cloudike.translate("Invite successfully resent"))},function(){i.pop("note",b.cloudike.translate("Server error occurred during request processing"))}).finally(function(){k.complete()})},companyUsersWithdrawInvite:function(c){k.start();var d=_.map(c.selectedItems,function(b){return function(){return e.one("admin").one("company",a.CurrentUser.company_id).one("invite_user").post("cancel",{login:b.login})}});g.sequence(d).then(function(){i.pop("note",b.cloudike.translate("Invite successfully canceled")),a.$emit("removeFromUsersList",c.selectedItems)},function(a){switch(a.error[0].status){case 403:i.pop("error",b.cloudike.translate("User already exists."));break;case 404:i.pop("error",b.cloudike.translate("User not found"));break;default:i.pop("note",b.cloudike.translate("Server error occurred during request processing"))}}).finally(function(){k.complete()})},companyGroupNew:function(){c.open({backdrop:!0,templateUrl:"profile/company/dialog/groupNew.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(a,b){a.createGroup=function(c){l.createGroup(a.groupName).then(function(){b.close()},function(a){c.$parseErrors(a)})}}]})},companyGroupRename:function(){c.open({backdrop:!0,templateUrl:"profile/company/dialog/groupRename.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(a,b){a.groupName=l.current().name,a.renameGroup=function(c){l.renameCurrent(a.groupName).then(function(){b.close()},function(a){c.$parseErrors(a)})}}]})},companyGroupDelete:function(){c.open({backdrop:!0,templateUrl:"profile/company/dialog/groupDelete.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(a,c){a.GroupsService=l,a.removeGroup=function(){l.removeCurrent().then(function(){c.close()},function(){i.pop("error",b.cloudike.translate("Server error occurred during request processing"))})}}]})},requestAccessToCompanyFolder:function(a){"requested"===a.selectedItems[0].status?i.pop("note",b.cloudike.translate("Request to access this folder already sent")):c.open({backdrop:!0,templateUrl:"companyFolders/requestAccessDialog.tpl.html",windowClass:b.cloudike.isSmallScreen?"":"md-small",controller:["$scope","$modalInstance",function(c,d){c.requestSent=!1,c.item=a.selectedItems[0],c.sendRequest=function(){c.sendingRequest=!0,e.one("shares").one("company").post("request",{folder_hash:c.item.folder_hash}).then(function(){c.requestSent=!0,c.item.status="requested",i.pop("note",b.cloudike.translate("Folder successfully requested"))}).catch(function(){i.pop("error",b.cloudike.translate("Server error occurred during request processing"))}).finally(function(){c.sendingRequest=!1}),d.close()}}]})},companyFoldersHide:function(b){a.$emit("content:"+b.namespace+":companyFoldersHide",b.selectedItems);var c=_.map(b.selectedItems,function(a){return function(){return e.withConfig(function(a){a.setFullResponse(!0)}).one("shares").one("company").post("hide",{folder_hash:a.folder_hash}).then(function(a){return a})}});g.sequence(c).then(function(){a.$emit("content:"+b.namespace+":companyFoldersHideSuccessfull",b.selectedItems)},function(){a.$emit("content:"+b.namespace+":companyFoldersHideFailed")})},withhold:function(b){var c=_.map(b.selectedItems,function(a){return function(){return e.one("company").one("admin").one("shares").post("unshare",{user_id:a.owner,path:a.path}).then(function(a){return a})}});g.sequence(c).then(function(){a.$emit("content:"+b.namespace+":companyUnshareSuccessfull",b.selectedItems)},function(){a.$emit("content:"+b.namespace+":companyUnshareFailed")})},migrateFolder:function(a){c.open({backdrop:!0,templateUrl:"drive/company/dialog/migrate.tpl.html",size:"md",resolve:{initUsers:["usersService",function(a){return a.ready()}]},controller:["$rootScope","$scope","$modalInstance","usersService","$q",function(c,d,f,g,h){d.users=_.filter(g.list(),function(a){return c.CurrentUser.userid!=a.userid&&(a.is_approved||a.is_active)}),d.users=_.map(d.users,function(a){return a.login_token=a.logins[0].type+":"+a.logins[0].value,a}),d.form={},d.users[0]&&(d.form.user=d.users[0].login_token,d.form.revoke=!0),d.addUser=function(){f.close(),n.companyUsersAdd()},d.sendRequest=function(){var c=_.map(a.selectedItems,function(a){return e.one("migration_contents").post("add",{member_login:d.form.user,path:a.path,cleanup:d.form.revoke})});h.all(c).then(function(){f.close()},function(a){var c=b.cloudike.translate("There was an error, some folders are not migrated");f.close(),402===a.status&&(c=b.cloudike.translate("User's storage quota has been exceeded")),i.pop("error",c)})}}]})},approveMigration:function(c){var d=e.one("migration_contents").post("accept",{hash:c.hash});return d.then(function(d){var e=b.cloudike.getResolveByName("FolderTreeRefresh",f.$current);e&&h.invoke(e),c.status="accepted",a.$emit("MyNotices.update"),i.pop("note",b.cloudike.translate("Folder migration completed"),null,null,null,function(){f.go("drive",{path:d.dst_path,file:null})})},function(a){c.status="nfound",a.data&&"MigrationDoesNotExists"===a.data.code?i.error(b.cloudike.translate("Migration failed. Can't find migration with specified hash")):i.error(b.cloudike.translate("Migration failed. Can't accepts this migration"))}),d},denyMigration:function(c){return e.one("migration_contents").post("reject",{hash:c.hash}).then(function(){c.status="declined",a.$emit("MyNotices.update"),i.pop("note",b.cloudike.translate('Declined request to migrate folder "{0}"').format(b.cloudike.pathAsFilename(c.path)))},function(a){c.status="nfound",a.data&&"MigrationDoesNotExists"===a.data.code?i.error(b.cloudike.translate("Cancel migration failed")):i.error(b.cloudike.translate("Server error occurred during request processing"))})},removeMigration:function(a){var c=e.one("migration_contents").post("remove",{hash:a.hash});return c.then(function(){},function(a){a.data&&"MigrationDoesNotExists"===a.data.code?i.error(b.cloudike.translate("Cancel migration failed.")):i.error(b.cloudike.translate("Server error occurred during request processing"))}),c},bulkPermission:function(a){c.open({backdrop:!0,templateUrl:"profile/company/dialog/bulkPermission.tpl.html",windowClass:"lg",resolve:{Users:function(){return a}},controller:["$scope","Users",function(a,c){a.users=c,a.sendPrintPermission=!1,a.sendDownloadPermission=!1,a.sendPCDownloadPermission=!1,a.sendWatermarkPermission=!1,a.bulkDownloadPermission=function(c){var d=g.defer(),f=[];return a.sendDownloadPermission=!0,b.forEach(a.users.selectedItems,function(a){a.can_download!==c&&(e.one("accounts").one("company").post("change_user_can_download",{user_id:a.userid,value:c}).then(function(b){a.can_download=b.can_download,d.resolve()},d.reject),f.push(d.promise))}),g.all(f).then(function(){i.pop("note",b.cloudike.translate("Download permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("Download permission changing failed"))}).finally(function(){a.sendDownloadPermission=!1}),f},a.bulkPCDownloadPermission=function(a){a?d(a):j.confirm(b.cloudike.translate("Are your sure?"),b.cloudike.translate("All data on local computers synced with PC client will be deleted if you apply this setting")).then(function(){d(a)},function(a){i.pop("err",b.cloudike.translate("Server error occurred during request processing"))})};var d=function(c){var d=g.defer(),f=[];return a.sendPCDownloadPermission=!0,b.forEach(a.users.selectedItems,function(a){a.pc_can_download!==c&&(e.one("accounts").one("company").post("change_user_pc_can_download",{user_id:a.userid,value:c}).then(function(b){a.pc_can_download=b.pc_can_download,d.resolve()},d.reject),f.push(d.promise))}),g.all(f).then(function(){i.pop("note",b.cloudike.translate("PC client permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("PC client permission changing failed"))}).finally(function(){a.sendPCDownloadPermission=!1}),f};a.bulkPrintingPermission=function(c){var d=g.defer(),f=[];return a.sendPrintPermission=!0,b.forEach(a.users.selectedItems,function(a){a.can_print!==c&&(e.one("accounts").one("company").post("change_user_can_print",{user_id:a.userid,value:c}).then(function(b){a.can_print=b.can_print,d.resolve()},d.reject),f.push(d.promise))}),g.all(f).then(function(){i.pop("note",b.cloudike.translate("Print permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("Print permission changing failed"))}).finally(function(){a.sendPrintPermission=!1}),f},a.bulkWatermarkPermission=function(c){var d=g.defer(),f=[];return a.sendWatermarkPermission=!0,b.forEach(a.users.selectedItems,function(a){a.use_watermarks!==c&&(e.one("accounts").one("company").post("change_user_use_watermarks",{user_id:a.userid,value:c}).then(function(b){a.use_watermarks=b.use_watermarks,d.resolve()},d.reject),f.push(d.promise))}),g.all(f).then(function(){i.pop("note",b.cloudike.translate("Changed to use watermark"))}).catch(function(){i.pop("error",b.cloudike.translate("Changing to use watermarks failed"))}).finally(function(){a.sendWatermarkPermission=!1}),f}}]})},companyGroupPermission:function(){c.open({backdrop:!0,templateUrl:"profile/company/dialog/bulkPermission.tpl.html",windowClass:"lg",controller:["$scope",function(a){a.sendPrintPermission=!1,a.sendDownloadPermission=!1,a.sendPCDownloadPermission=!1,a.sendWatermarkPermission=!1,a.currentGroup=l.current(),a.bulkDownloadPermission=function(c){a.sendDownloadPermission=!0,e.one("groups").one(a.currentGroup.group_id).post("change_can_download",{group_id:a.currentGroup.group_id,value:c}).then(function(c){a.currentGroup.can_download=c.can_download,i.pop("note",b.cloudike.translate("Download permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("Download permission changing failed"))}).finally(function(){a.sendDownloadPermission=!1})},a.bulkPCDownloadPermission=function(a){a?c(a):j.confirm(b.cloudike.translate("Are your sure?"),b.cloudike.translate("All data on local computers synced with PC client will be deleted if you apply this setting")).then(function(){c(a)},function(a){i.pop("err",b.cloudike.translate("Server error occurred during request processing"))})};var c=function(c){a.sendPCDownloadPermission=!0,e.one("groups").one(a.currentGroup.group_id).post("change_pc_can_download",{group_id:a.currentGroup.group_id,value:c}).then(function(c){a.currentGroup.pc_can_download=c.pc_can_download,i.pop("note",b.cloudike.translate("PC client permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("PC client permission changing failed"))}).finally(function(){a.sendPCDownloadPermission=!1})};a.bulkPrintingPermission=function(c){a.sendPrintPermission=!0,e.one("groups").one(a.currentGroup.group_id).post("change_can_print",{group_id:a.currentGroup.group_id,value:c}).then(function(c){a.currentGroup.can_print=c.can_print,i.pop("note",b.cloudike.translate("Print permission changed"))}).catch(function(){i.pop("error",b.cloudike.translate("Print permission changing failed"))}).finally(function(){a.sendPrintPermission=!1})},a.bulkWatermarkPermission=function(c){a.sendWatermarkPermission=!0,e.one("groups").one(a.currentGroup.group_id).post("change_use_watermarks",{group_id:a.currentGroup.group_id,value:c}).then(function(c){a.currentGroup.use_watermarks=c.use_watermarks,i.pop("note",b.cloudike.translate("Changed to use watermark"))}).catch(function(){i.pop("error",b.cloudike.translate("Changing to use watermarks failed"))}).finally(function(){a.sendWatermarkPermission=!1})}}]})}};return n}]),d.directive("clAnalyticsOn",["$window","$state",function(a,d){function e(c){if(a.ga){var e=b.element(this).data("clAnalyticsOnData");ga("send","event",{eventCategory:e.analiticEvent,eventAction:e.triggerEvent,page:d.$current.name})}}return{link:function(b,d,f){if(!a.ga)return c;var g=f.clAnalyticsOn||"click";d.on(g,e).data("clAnalyticsOnData",{triggerEvent:g,analiticEvent:f.clAnalyticsOnEvent}),b.$on("$destroy",function(){d.off(g,e).removeData("clAnalyticsOnData")})}}}]),b.module("clAutoLogout",[]).factory("clAutoLogout",["$rootScope","$window","$state","$filter","$timeout","$interval","$modalStack","localstorageService","toaster",function(a,d,e,f,g,h,i,j,k){var l,m,n,o=(new Date).getTime(),p=!1;a.$on("autoLogoutResetCounter",function(){q.reset()});var q={init:function(){function c(){j.val("autoLogoutTabIsActive",!0),j.remove("autoLogoutDoLogout")}function e(){j.remove("autoLogoutTabIsActive")}c(),d.addEventListener("focus",c,!1),d.addEventListener("blur",e,!1),d.addEventListener("storage",function(){j.val("autoLogoutDoLogout")&&q.logout(),j.val("autoLogoutResetCounter")&&(o=(new Date).getTime(),n=a.CurrentCompany?(new Date).getTime()+1e3*parseInt(a.CurrentCompany.logout_timeout,10):o,j.remove("autoLogoutResetCounter"))},!1);var f=["mousemove","mousedown","keypress","DOMMouseScroll","mousewheel","touchmove","MSPointerMove"];b.forEach(f,function(a){d.addEventListener(a,q.reset,!1)}),m=h(function(){o=(new Date).getTime(),a.CurrentCompany&&(n||(n=(new Date).getTime()+1e3*parseInt(a.CurrentCompany.logout_timeout,10)),p=!a.CurrentCompany.logout_timeout_enable,a.uploader.isUploading&&(p=!0,n=(new Date).getTime()+1e3*parseInt(a.CurrentCompany.logout_timeout,10)),n<o&&!p&&(q.logout(),j.val("autoLogoutDoLogout",!0))),n-o>0&&n-o<6e4&&!l&&!p&&(l=!0,g(function(){k.pop({type:"note",title:b.cloudike.translate("You're idle a long time and be logged out in one minute"),timeout:-1,id:"idle-toast"})}))},1e3)},reset:function(){n=a.CurrentCompany?(new Date).getTime()+1e3*parseInt(a.CurrentCompany.logout_timeout,10):(new Date).getTime()+36e5,l=!1,g(function(){try{k.remove("idle-toast")}catch(a){}}),j.val("autoLogoutResetCounter",!0)},logout:function(){h.cancel(m),j.remove("autoLogoutDoLogout"),q.reset(),l=!0,i.dismissAll(),e.go("signout"),g(function(){k.clear(),k.pop("note",b.cloudike.translate("You was idle for a long time and was logged out"),"",-1)},500)},off:function(){m&&(h.cancel(m),m=c),p=!0}};return q}]),b.module("clBreadcrumb",[]).directive("clBreadcrumb",["$rootScope","$state","$window",function(a,d,e){return{scope:{path:"=clBreadcrumbPath",segments:"=clBreadcrumbSegments",root:"=clBreadcrumbRoot"},templateUrl:"clBreadcrumb/clBreadcrumb.tpl.html",link:function(f,g,h){function i(){g.show(),l.show().find("li").show().filter(".divider:first").remove(),l.hide();var a=g.width();if(l.show(),a===g.width())return c;for(var b=l.children(":first").next().before('<li class="divider"><span>...</span></li>'),d=100;b&&d-- >0&&(l.hide(),a=g.width(),l.show(),a!==g.width());)b=b.hide().next()}function j(){g.hide(),setTimeout(i,0)}function k(){var a=[],c="";"string"==typeof f.path&&"/"!==f.path&&(a=f.path.split("/"),a.shift()),b.isArray(f.segments)&&(a=f.segments),f.routes.splice(1,f.routes.length);for(var e=0,g=a.length;e<g;e++){var h=a[e];c+="/"+h,f.routes.push({title:h,href:d.href(d.$current.name,{path:c,file:null})})}j()}var l=g.children();f.routes=[{title:f.root||b.cloudike.translate("My Cloudike"),href:d.href(d.$current.name,{path:null,file:null})}],b.element(e).bind("resize",i),f.$on("$destroy",f.$watch("path",k)),f.$on("$destroy",a.$on("clSortableTable:changeSort",j)),f.$on("$destroy",function(){b.element(e).unbind("resize",i)})}}}]),b.module("clBtnLoading",[]).directive("clBtnLoading",function(){return function(a,b,c){a.$watch(c.clBtnLoading,function(a,c){if(a)return b.data({loadingText:b.text()}).button("loading");b.button("reset")})}}),b.module("clCheckPassword",[]).directive("clCheckPassword",["$timeout",function(a){return{require:["^ngModel","^form"],link:function(b,c,d,e){var f=e[0],g=e[1];a(function(){var a=g[d.clCheckPassword];f.$viewValue=f.$viewValue||"",f.$parsers.push(function(b){return f.$setValidity("checkpassword",b===a.$viewValue),b}),a.$parsers.push(function(a){return f.$setValidity("checkpassword",a===f.$viewValue),a})},0)}}}]),b.module("clCheckbox",[]).directive("clCheckbox",["$compile",function(a){return{restrict:"E",scope:{state:"=",change:"&"},link:function(b,c,d){var e=a('<div class="cl-checkbox" ng-class="state.value" ng-click="toggleState();$event.stopPropagation()"></div>')(b);b.toggleState=function(){b.state.value="unchecked"==b.state.value?"checked":"unchecked",b.change()},c.hide().before(e)}}}]),d.directive("clClickOutside",["$document",function(a){return{restrict:"A",link:function(b,c,d){function e(a){a.stopPropagation()}function f(){b.$apply(d.clClickOutside)}function g(a){27===a.keyCode&&b.$apply(d.clClickOutside)}c.bind("click",e),a.bind("click",f),d.clClickOutsideEsc&&a.bind("keyup",g),b.$on("$destroy",function(){c.unbind("click",e),a.unbind("click",f),d.clClickOutsideEsc&&a.unbind("keyup",g)})}}}]),b.module("clCompanySettingsWizard",["ui.router"]).factory("clCompanySettingsWizard",["CONST","$modal","$state",function(a,c,d){var e,f;return{modal:function(){e||(f=b.copy(d.current.data.showUploaderDropZone),d.current.data.showUploaderDropZone=!1,e=c.open({backdrop:"static",templateUrl:"clCompanySettingsWizard/clCompanySettingsWizard.tpl.html",controller:"CompanySettingsWizardCtrl",windowClass:a.be.web_host.length>=15?"md-small":"",size:a.be.web_host.length<15?"sm":""}))},close:function(){d.current.data.showUploaderDropZone=f,e.close()}}}]).controller("CompanySettingsWizardCtrl",["$scope","$rootScope","$controller","$filter","$timeout","Restangular","clCompanySettingsWizard","$state","toaster",function(c,d,e,f,g,h,i,j,k){function l(a){var c=["step","done"],e=b.extend({},d.CurrentCompany.wizard_state,a),f={};b.forEach(e,function(a,b){c.indexOf(b)>=0&&(f[b]=a)}),h.one("accounts").one("company",d.CurrentUser.company_id).post("change",{wizard_state:b.toJson(f)}).then(function(a){d.CurrentCompany=a})}c.currentStep=d.CurrentCompany.wizard_state.step||0,k.pop("note",f("translate")("You successfully confirmed registration!"),f("translate")("Now, you can feel all the power!")),c.steps=[{alias:"domain"},{alias:"logo"},{alias:"finish"}],c.prev=function(){c.currentStep-=1,c.currentStep<0&&(c.currentStep=0),l({step:c.currentStep})},c.next=function(){c.currentStep+=1,c.currentStep>c.steps.length&&(c.currentStep=c.steps.length),l({step:c.currentStep})};var m,n=b.copy(d.CurrentCompany.domain);c.checkDomainAvailability=function(a){a.domain.$setValidity("busy",!0),c.checkingDomainAvailability=!0,g.cancel(m),m=g(function(){n!==c.companyForm.domain&&a.$valid?h.one("accounts").one("company").one("domain",c.companyForm.domain).get().then(function(){a.domain.$setValidity("busy",!1),c.checkingDomainAvailability=!1},function(){a.domain.$setValidity("busy",!0),c.checkingDomainAvailability=!1}):c.checkingDomainAvailability=!1},200)},c.saveWizard=function(a){l({step:c.currentStep,done:!0}),c.companyForm.domain!==d.CurrentCompany.domain?c.saveRequest({domain:c.companyForm.domain}):c.onSaveSuccessful(a)},c.goPaymentWithSave=function(a){c.saveWizard(a),j.go("profile.product")},c.onSaveSuccessful=function(b){var d=a.location.host.split("."),e=d.shift(),f=d.join(".");e!==c.companyForm.domain&&(a.location.href=c.companyForm.domain+"."+f),b||a.location.reload(),i.close()},e("ProfileCompanySettingsCommonCtrl",{$scope:c})}]),b.module("clConnectionStateHint",[]).factory("clConnectionStateHint",["$compile","$templateCache","$rootScope",function(a,c,d){var e=!1,f=a(c.get("clConnectionStateHint/clConnectionStateHint.tpl.html"))(d);return{show:function(){e||(e=!0,b.element(document.body).append(f))},hide:function(){e=!1,f.remove()}}}]),b.module("clDragDrop",[]).directive("clDraggable",["$parse","$rootScope","$compile","$document","$templateCache",function(a,d,e,f,g){return function(h,i,j){var k,l,m=!1,n=!1,o=!1,p=j.dragChannel||"defaultchannel",q={x:0,y:0},r=b.element(document.body),s=a(j.clDraggable),t=a(j.dragSetData);h.$on("$destroy",h.$watch(s,function(a){o=a})),j.drag&&h.$watch(j.drag,function(a){k=a||c}),f.bind("mouseup",function(a){m&&d.$emit("dnd:drag-end",p),m=!1,n=!1,r.removeClass("p-drag-in-progress"),l&&(l.remove(),l=null)}),i.bind("dragstart",function(a){a.preventDefault()}),i.bind("mousedown",function(a){o&&0===a.button&&(n=!0,q={x:a.pageX,y:a.pageY},a.stopPropagation())}),f.bind("mousemove",function(a){n&&(Math.abs(q.x-a.pageX)>40||Math.abs(q.y-a.pageY)>10)&&(n=!1,m=!0,r.addClass("p-drag-in-progress"),j.dragSetData&&(k=t(h,{$event:a})),h.dragData=k,j.dragTemplate&&(l=e(g.get(j.dragTemplate))(h),l.css({position:"absolute","z-index":1e4,left:-1e3,top:0}),r.append(l)),h.$apply(),d.$emit("dnd:drag-start",p,k)),m&&l&&l.css({left:a.originalEvent.clientX+10,top:a.originalEvent.clientY+10})})}}]).directive("clOnDrop",["$parse","$rootScope","$document",function(a,c,d){return function(e,f,g){function h(a){var b;e.item?b=e.item:e.folder&&(b=e.folder),b&&!0===b.folder?b.path!==m[0].path&&(f.addClass(q),r.addClass("p-drag-allow")):(f.removeClass(q),r.removeClass("p-drag-allow"))}function i(a){f.removeClass(q),r.removeClass("p-drag-allow")}function j(a){c.$emit("dnd:hover",n)}function k(a){e.$apply(function(){s(e,{$data:m,$event:a})}),f.removeClass(p),d.trigger("mouseup"),a.stopPropagation()}function l(a,b){return"*"===b||new RegExp("(\\s|[,])+("+a+")(\\s|[,])+","i").test(","+b+",")}var m,n="defaultchannel",o="",p=g.dragEnterClass||"on-drag-enter",q=g.dragHoverClass||"on-drag-hover",r=b.element(document.body),s=a(g.clOnDrop);c.$on("dnd:drag-start",function(a,b,c){o=b,m=c,l(o,n)&&(f.bind("mouseover",h),f.bind("mouseenter",j),f.bind("mouseleave",i),f.bind("mouseup",k),f.addClass(p))}),c.$on("dnd:drag-end",function(a,b){o="",l(b,n)&&(f.unbind("mouseover",h),f.unbind("mouseenter",j),f.unbind("mouseleave",i),f.unbind("mouseup",k),f.removeClass(q),f.removeClass(p))}),c.$on("dnd:hover",function(a,b){l(b,n)&&f.removeClass(p)}),g.$observe("dropChannel",function(a){a&&(n=a)})}}]),b.module("clDropdown",[]).directive("clDropdown",["$document",function(a){var c=b.element();return{controller:["$scope",function(a){this.addBody=function(a){c=a}}],link:function(d,e,f){e.bind("click",function(a){var d=b.element(a.currentTarget),e=d.offset();return c.css({display:"",left:e.left,top:e.top+d.outerHeight(!0)}),!1}),a.bind("click",function(){c.css({display:"none"})})}}}]).directive("clDropdownBody",function(){return{require:"^clDropdown",link:function(a,b,c,d){b.css({position:"absolute",left:-1e4}).appendTo(document.body),d.addBody(b)}}}).directive("clMultipleSelect",["$document",function(a){return{restrict:"EA",templateUrl:"clDropdown/clMultipleSelect.tpl.html",link:function(b,c,d){b.state=!1,b.placeholder=d.clPlaceholder,b.value=d.clValue,b.width=d.clWidth,b.noItemsText=d.clNoItemsText,b.noItemsButtonText=d.clNoItemsButtonText,b.noItemsButtonCall=b[d.clNoItemsButtonCall],b.onChange=function(){d.clOnChange&&b[d.clOnChange]()},b.$watch(d.clListItems,function(a){b.items=a}),c.on("click",function(a){a.stopPropagation()}),a.on("click",function(){b.state=!1})}}}]),b.module("clEllipsis",[]).directive("clEllipsis",["$rootScope","$window",function(a,d){function e(){if(this.style.display="block",this.offsetWidth===this.dataEllipsisWidth&&this.scrollWidth<=this.offsetWidth)return c;if(this.dataEllipsisWidth=this.offsetWidth,this.innerHTML=this.dataEllipsisHTML||this.innerHTML,this.scrollWidth<=this.offsetWidth)return c;this.dataEllipsisHTML=this.dataEllipsisHTML||this.innerHTML;var a=this.innerHTML,b=a.split(".").pop();b=b!==a?b:c,b=b&&b.length<=f?b:a.substring(a.length-f),a=a.substring(0,a.length-b.length),b="..."+b;for(var d=1e3;d-- >0&&this.scrollWidth>this.offsetWidth;)a=a.substring(0,a.length-1),this.innerHTML=a+b}var f=4,g={display:"none","white-space":"nowrap"},h=[];return a.$on("preview.update",function(){setTimeout(function(){for(var a=h.length;a-- >0;)h[a]()})}),b.element(d).bind("resize",function(){for(var a=h.length;a-- >0;)h[a]()}),{link:function(a,c,d){c.addClass("cl-ellipsis").css(g);var f=b.bind(c[0],e);h.push(f),a.$on("$destroy",function(){for(var a=h.length;a-- >0;)if(h[a]===f){h.splice(a,1);break}}),setTimeout(f,0)}}}]),d.factory("emptyState",function(){var a={expired:{className:"icon icon-block",text:b.cloudike.translate("This link has been expired")},exceed:{className:"icon icon-block",text:b.cloudike.translate("Exceed maximum number of download")},wrongPw:{className:"icon icon-lock",text:b.cloudike.translate("Password is incorrect")},emptyPw:{className:"icon icon-lock",text:b.cloudike.translate("Password is required")},forbidden:{className:"icon icon-block",text:b.cloudike.translate("You do not have permission")},notFound:{className:"fa fa-ban",text:b.cloudike.translate("Page Not Found")},badGateway:{className:"fa fa-ban",text:b.cloudike.translate("Something Went Wrong")}};return{byState:function(c){var d={};switch(c){case 403:d=a.forbidden;break;case 502:d=a.badGateway;break;default:d=a.notFound}return b.extend({},d)},byTopic:function(c){var d={};return a.hasOwnProperty(c)&&(d=a[c]),b.extend({},d)}}}).directive("clEmptyPage",["emptyState",function(a){return{restrict:"AC",scope:{state:"=clEmptyState",topic:"=clEmptyTopic"},templateUrl:"clEmptyPage/emptyPage.tpl.html",link:function(b,c,d){var e=null;b.topic?e=a.byTopic(b.topic):b.state&&(e=a.byState(b.state)),e?c.find("i.empty-icon").addClass(e.className).next(".empty-drop").find("span").text(e.text):c.css({display:"none"})}}}]),b.module("clFilePreview",[]).factory("clFilePreview",["$modal","$rootScope",function(a,c){return{modal:function(d,e,f){var g=a.open({backdrop:"static",templateUrl:"clFilePreview/clFilePreview.tpl.html",controller:"ModalFilePreviewCtrl",windowClass:"fullscreen",backdropClass:"fullscreen",resolve:{currentSort:function(){return e},metadata:function(){return d},opts:function(){return f.hasOwnProperty("toolbar")||b.extend(f,{toolbar:{}}),f||{}},usersServList:["usersService","$state","toaster",function(a,d,e){if(c.CurrentUser)return a.ready().then(function(){return a}).catch(function(a){404===a.status&&e.pop("error",b.cloudike.translate("This path did not exists"))})}]}});return g.result.finally(function(){c.$emit("close_preview_modal"),c.currentPreview=null}),g}}}]).filter("getUserName",["usersService","$filter",function(a,b){return function(b){var c=a.getUserById(b);return c?c.name:""}}]).controller("ModalFilePreviewCtrl",["$rootScope","$scope","$controller","$modalInstance","metadata","currentSort","opts","$timeout","toaster","$interval","usersServList","getUserNameFilter",function(a,c,d,e,f,g,h,i,j,k,l,m){a.CurrentUser&&b.extend(h.toolbar,{download:a.CurrentUser.can_download}),a.link_metadata&&b.extend(h.toolbar,{download:a.link_metadata.can_download}),a.$on("websocket.can_download_changed",function(c,d){h.toolbar.download!==d[0].can_download&&b.extend(h.toolbar,{download:a.CurrentUser.can_download})});var n=new Date;c.datePickerMax=new Date(n),c.datePickerMax.setDate(n.getDate()-1),c.datePickerMax.setFullYear(n.getFullYear()+1),c.datePickerMin=n,c.datePickerOpt={format:"yyyy/M/d",formatDay:"d",showWeeks:!1,maxMode:"year",isOpen:!1,selDate:n,selMin:n,selMax:n},c.openDatePicker=function(){c.datePickerOpt.isOpen||(c.datePickerOpt.isOpen=!0)},c.checkDate=function(){var a=new Date;if(c.datePickerOpt.selDate&&c.datePickerOpt.selDate<=a)return!1},c.dateChange=function(){(!c.datePickerOpt.selDate||c.datePickerOpt.selDate<c.datePickerMin)&&(c.datePickerOpt.selDate=c.datePickerMin),c.datePickerOpt.isOpen=!1},d("ModalFilePreviewBaseCtrl",{$scope:c,$modalInstance:e,metadata:f,currentSort:g,opts:h,usersServList:l||""}),c.isLoadingPagination=!0,c.PageChainging=!0;var o=k(function(){if((a.CurrentUser&&a.CurrentUser.use_watermarks||a.link_metadata&&a.link_metadata.use_watermarks)&&_.contains(["ebook_adobe","presentation_office","document_office","spreadsheet_office"],c.currentItem.icon)){c.isLoadingPagination=!1,c.filepath=c.currentItem.extradata.pdf.link?c.currentItem.extradata.pdf.link:c.currentItem.file.url;var d=c.filepath;c.form={current_page:1,whole_page:"ready"===c.currentItem.extradata.pdf.status&&c.currentItem.extradata.pdf&&c.currentItem.extradata.pdf.preview_page_count?c.currentItem.extradata.pdf.preview_page_count:1,currentItem:c.currentItem},c.prevPage=function(){if(c.form.current_page=parseInt(c.form.current_page)-1,c.form.current_page<1)return c.form.current_page=parseInt(c.form.current_page)+1,j.pop("error",b.cloudike.translate("This is first page"));var a=c.form.current_page;e(a)},c.nextPage=function(){if(c.form.current_page=parseInt(c.form.current_page)+1,c.form.current_page>c.form.whole_page)return c.form.current_page=parseInt(c.form.current_page)-1,j.pop("error",b.cloudike.translate("This is last page"));var a=c.form.current_page;e(a)},c.goToPage=function(){e(c.form.current_page)};var e=function(b){var d=_.find(c.filepath.split("&"),function(a){return-1!==a.indexOf("page=")}),e=b-1;c.filepath=c.filepath.replace(d,"page="+e),a.$emit("pageChanged",c.filepath),c.PageChainging=!1};a.$on("close_preview_modal",function(){c.currentItem.extradata.pdf.link?c.currentItem.extradata.pdf.link=d:c.currentItem.file.url=d}),a.$on("changingDone",function(){c.PageChainging=!0}),c.$watch("form.current_page",function(a,d){var e=/^[1-9]\d*$/;""!==a&&d&&(!e.test(a)||a>c.form.whole_page||c.form.current_page<0)&&(j.pop("error",b.cloudike.translate("Please enter correct page number")),c.form.current_page=d)}),c.$watch("form.whole_page",function(){c.form.whole_page===c.currentItem.extradata.pdf.preview_page_count&&k.cancel(o)});var f=function(a){13==a.keyCode&&e(c.form.current_page),39==a.keyCode&&c.nextPage(),37==a.keyCode&&c.prevPage()};b.element("body").on("keydown",f),c.$on("$destroy",function(){b.element("body").off("keydown",f)})}},800);a.$on("close_preview_modal",function(){c.currentItem.comments_loaded=!1,k.cancel(o)})}]),b.module("clFolderAsTree",[]).factory("clFolderAsTreeSevice",["$rootScope","$window","$location","$interval","$timeout","serviceLocalMetadata","clActionHandler","CONST",function(a,d,e,f,g,h,i,j){function k(){var a=b.element(this.el).find(".active:first");a.length&&b.element(this.el).scrollTo(a,800,{offset:{top:0,left:"100%"}})}return{templateUrl:"clFolderAsTree/clFolderAsTree.tpl.html",templateUrlSimple:"clFolderAsTree/clFolderAsTree-simple.tpl.html",link:function(l,m,n){if(l.$selectedListItem=b.element(),l.onresizeCallback=_.debounce(_.bind(k,{el:m}),500),l.folder=l.$root.FolderTree,l.currentPath=l.$root.$stateParams.path||"/",l.$on("$destroy",a.$on("tree.update:metadata",function(){console.log("update tree",(new Date).getTime()),g(function(){l.currentPath=l.$root.$stateParams.path||"/"})})),l.allContent&&l.folder.$morecontent)var o=l.$on("ngRepeatFinished",function(){g(function(){h.more(l.currentPath,l.folder.$morecontent.length),o()})});l.toggleFolder=function(a,b){a.parents("li:first").toggleClass("collapse-in",b).hasClass("collapse-in")&&(a.addClass("loading"),l.allContent&&(h.opts.page_size=j.be.metadata_limit),h.get(a.data("path")).then(function(b){l.allContent&&b.$morecontent&&h.more(a.data("path"),b.$morecontent.length),a.removeClass("loading")}))},l.clickItemMenu=function(c,d){var f=b.element(c.currentTarget).closest("a");return b.element(c.target).closest(".b-menu__item-link-toolbar").length?(c.preventDefault(),c.stopPropagation(),l.toggleFolder(f)):"function"==typeof l.itemClick?(m.find(".select").removeClass("select"),f.parents("li:first").addClass("select"),l.createFolderPath&&l.createFolderPath!==d.path&&(p(),a.$emit(n.clFolderAsTreeNamespace+":folderTree:create-folder",d.path)),l.itemClick(c,d)):void(f.length&&Modernizr.touch&&(c.preventDefault(),c.stopPropagation(),e.path(decodeURIComponent(f.attr("href")))))},l.dragSetData=function(a){return[a]},l.onDrop=function(a,b){1===b.length&&a.path===b[0].path||a.folder&&b.length&&i._moveOrCopy("move",b,a.path)};var p=function(){l.newFolder.name="",l.createFolderPath=null,l.$$phase||l.$root.$$phase||l.$apply()};l.$on("$destroy",a.$on(n.clFolderAsTreeNamespace+":folderTree:create-folder",function(a,b){if(l.createFolderPath===b)return l.createFolderPath=null,l.$selectedListItem.addClass("select"),c;l.$selectedListItem=m.find(".select").removeClass("select"),l.createFolderPath=b})),l.newFolder={name:""},l.createFolder=function(a){if(!l.createFolderPath||!l.newFolder.name)return p(),c;i.createFolder({path:l.createFolderPath,name:l.newFolder.name}).then(function(){var a=m.find("form:first").prev();a.is("a")&&l.toggleFolder(a,!0),p()},function(b){a.$parseErrors(b)})},b.element(d).bind("resize",l.onresizeCallback),l.$on("$destroy",function(){b.element(d).unbind("resize",l.onresizeCallback)}),f(_.bind(k,{el:m}),0,1)}}}]).directive("clSetFocusOnce",["$timeout",function(a){return{link:function(b,c,d){a(function(){c[0].focus()})}}}]).directive("clFolderAsTree",["clFolderAsTreeSevice",function(a){return{scope:{itemClick:"=clFolderAsTreeItemClick"},templateUrl:a.templateUrl,link:a.link}}]).directive("clFolderAsTreeSimple",["clFolderAsTreeSevice",function(a){return{scope:{itemClick:"=clFolderAsTreeItemClick"},templateUrl:a.templateUrlSimple,link:a.link}}]).directive("clFolderAsTreeSimpleWithSize",["clFolderAsTreeSevice",function(a){return{scope:{itemClick:"=clFolderAsTreeItemClick",doneTime:"=doneTime",allContent:"=allContent"},templateUrl:"clFolderAsTree/clFolderAsTree-simple-with-size.tpl.html",link:a.link}}]),b.module("clFolderContents",["serviceFolderContents"]).directive("clFolderContents",["$rootScope","serviceFolderContents",function(a,d){return{scope:d.scope,template:d.template,link:function(e,f,g){d.link(e,f,g),e.commonCheckboxState="unchecked",e.currentSort=[],e.$on("$destroy",e.$watchCollection("items",function(){if(!e.items)return c;for(var a=e.items.length;a-- >0;){var d=e.items[a];d.__allowSelect=!!e.opts&&(!b.isFunction(e.opts.allowSelectItem)||e.opts.allowSelectItem(d))}e.updateSelectedItems()})),e.$on("$destroy",a.$on("clSortableTable:changeSort",function(a,b){e.currentSort=b})),e.$on("$destroy",a.$on("content:uncheck-checkboxes",function(){e.commonCheckboxState="checked",e.toggleCommonCheckbox()})),e.$on("$destroy",a.$on("updateSelectedItems",function(){e.updateSelectedItems()}))}}}]).directive("clFolderContentsGridCell",["$compile","$templateCache",function(a,b){var c=b.get("clFolderContents/folderContentsAsGridCell.tpl.html");return{link:function(b,d,e){b.$on("$destroy",b.$watch("item.$timestamp",function(e,f){e!==f&&d.html(a(c)(b))})),d.html(a(c)(b))}}}]).directive("clFolderContentsListRow",["$compile","$templateCache",function(a,b){var c=b.get("clFolderContents/folderContentsAsListRow.tpl.html");return{link:function(b,d,e){b.$on("$destroy",b.$watch("item.$timestamp",function(e,f){e!==f&&d.html(a(c)(b))})),d.html(a(c)(b))}}}]).directive("clFolderContentsListCell",["$compile",function(a){return{link:function(b,c,d){c.html(a(b.col.cellTemplate)(b))}}}]),d.directive("clFullHeight",["$window","$interval","$rootScope",function(a,c,d){return{link:function(e,f,g){var h,i=b.element(a),j=b.element(),k=function(){g.clFullHeight&&0===j.length&&(j=b.element(g.clFullHeight));var a=i.height()-f.offset().top;j.length&&(a-=j.outerHeight(!0)),void 0!==h&&a==h||(h=a,f.css({height:a}))};f.addClass("cl-full-height"),c(k,300),i.bind("resize",k),e.$on("$destroy",d.$on("$viewContentLoaded",k)),e.$on("$destroy",function(){i.unbind("resize",k)})}}}]),d.directive("hiddenInput",["CONST","$compile","$templateCache","$timeout",function(a,b,d,e){return{restrict:"E",scope:{model:"=ngModel",options:"=clOptions",autofocus:"=",placeholder:"=",class:"@",readonly:"="},require:["^form","ngModel"],link:function(f,g,h,i){var j=b(d.get("clHiddenInput/clHiddenInput.tpl.html"))(f),k=j.find("textarea"==f.options.input?"textarea":"input"),l=i[1];switch(f.form=i[0],g.hide().before(j),f.model.wasFocused=!1,f.options.field){case"email":f.inputPattern=a.fe.emailPattern;break;case"tel":f.inputPattern=a.fe.phonePattern;break;default:f.inputPattern=/.*/}f.setFocus=function(){if(f.readonly)return c;f.model._focused||(f.model._focused=!0),e(function(){k.focus()})},f.blur=function(){if(f.readonly)return c;f.model._focused=!1,f.model.wasFocused=!0,e(function(){f.model.wasFocused=!1,l.$setValidity("input-pattern",!k.val()||!!f.model.value)},250)},h.autofocus&&""===f.model[f.options.valueField]&&f.setFocus();var m=!0;f.$on("$destroy",f.$watch("model."+f.options.valueField,function(){m?m=!1:(l.$setViewValue(f.model),l.$setValidity("input-pattern",!k.val()||!!f.model.value))})),f.$on("$destroy",f.$watch("model._focused",function(a){a&&f.setFocus()}))}}}]),b.module("clImagePreloader",[]).factory("clImagePreloader",function(){function a(){if(c&&b.length){var d;try{d=b[0].extradata.thumbnails.preview.link}catch(a){}if(b.splice(0,1),d){var e=new Image;e.onload=a,e.src=d}}}var b=[],c=!1;return{start:function(d){c=!0,Array.prototype.splice.apply(b,[0,b.length].concat(d)),a()},stop:function(){c=!1}}}),b.module("clItemIcon",[]).directive("clItemIcon",["clItemIconType",function(a){return{scope:{item:"=clItemIcon"},templateUrl:"clItemIcon/clItemIcon.tpl.html",link:function(b,d,e){b.type=a.get(b.item),b.iconSize=b.type.size,d.addClass(e.clIconSize).attr("title",b.type.alt),b.$on("$destroy",b.$watch("item.extradata.thumbnails",function(d,e){if(d===e)return c;b.type.tmb=a.getTmb(b.item)}))}}}]),d.directive("clUpItemIcon",["clItemIconType",function(a){return{scope:{file:"=clUpItemIcon"},template:'<i ng-class="icon.iClass"></i>',link:function(b,c,d){b.icon=a.getUpItemIcon(b.file)}}}]),b.module("clItemIconType",[]).factory("clItemIconType",function(){var a={folder:{className:"folder",iClass:"icon icon-folder-filled",title:"Folder"},folderShared:{className:"folder",iClass:"icon icon-folder-shared",title:"Shared folder"},folderCompany:{className:"folder",iClass:"icon icon-folder-biz",title:"Company folder"},document:{className:"file-gray",iClass:"icon icon-file",title:"Document"},application:{className:"file-gray",iClass:"fa fa-desktop",title:"Application"},archive:{className:"file-gray",iClass:"fa fa-file-archive-o",title:"Archive"},audio:{className:"file-gray",iClass:"fa fa-music",title:"Audio"},binary:{className:"file-gray",iClass:"fa fa-cubes",title:"Binary"},code:{className:"file-orange",iClass:"fa fa-file-code-o",title:"Code"},document_office:{className:"file-gray",iClass:"fa fa-file-word-o",title:"Word"},document_text:{className:"file-gray",iClass:"fa fa-pencil-square-o",title:"Text"},ebook:{className:"file-red",iClass:"fa fa-pencil-square-o",title:"Ebook"},ebook_adobe:{className:"file-red",iClass:"icon icon-file-pdf",title:"PDF"},image:{className:"file-gray",iClass:"fa fa-picture-o",title:"Image"},presentation_office:{className:"file-gray",iClass:"fa fa-file-powerpoint-o",title:"Powerpoint"},spreadsheet_office:{className:"file-gray",iClass:"fa fa-file-excel-o",title:"Excel"},video:{className:"file-blue",iClass:"fa fa-film",title:"Video"}},c=[{re:/^image\//,icon:"image"},{re:/^video\//,icon:"video"},{re:/^text\//,icon:"ebook"},{re:/\/.*zip$/,icon:"archive"},{re:/\/.*pdf$/,icon:"ebook_adobe"},{re:/\/.*office.*$/,icon:"document"},{re:/^application\//,icon:"application"}],d=function(d,e){if(!((d=d||"")&&d in a)){d="";for(var f in c)if(c[f].re.test(e)){d=c[f].icon;break}}return d||(d="document"),b.extend(a[d],{type:d})},e=function(a){var b=a.extradata?a.extradata:{},c=b&&b.metainfo||{width:Number.MAX_VALUE,height:Number.MAX_VALUE},d=b&&b.thumbnails||{middle:{link:""},preview:{link:""}},e=d.middle?d.middle.link:"";return c.width<256&&c.height<256&&(e=d.preview?d.preview.link:e),e};return{get:function(a){var c=a.icon;return a.folder&&"folder"===c&&(!0===a.shared&&(c="folderShared"),!0===a.company_published&&(c="folderCompany")),b.extend({},d(c,a.type),{alt:b.cloudike.pathAsFilename(a.path),tmb:e(a)})},getTmb:function(a){return e(a)},getUpItemIcon:function(a){return d(a.type,a.type)}}}),d.factory("clItemLogType",["$filter",function(a){var d={"type:trash_cleared":{disabledLink:!0,itemType:"folder",icon:"icon-bin",text:"You cleared trash",textCompany:a("translate")("{0} cleared trash"),replace:["init_event_user_name"]},"type:folder_created":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-add",text:"You added the folder",textCompany:"{0} added the folder",replace:["init_event_user_name"]},"type:post_entire_folder_create":{itemType:"folder",icon:"icon-add",text:"You added the folder",textCompany:"{0} added the folder",replace:["init_event_user_name"]},"type:folder_renamed":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-pen",text:"You edited the folder",textCompany:"{0} edited the folder",replace:["init_event_user_name"]},"type:folder_moved":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-folder-arrow",text:"You moved the folder",textCompany:"{0} moved the folder",replace:["init_event_user_name"]},"type:folder_copied":{itemType:"folder",icon:"icon-folder-arrow",text:"You copied the folder",textCompany:"{0} copied the folder",replace:["init_event_user_name"]},"type:folder_deleted":{disabledLink:!0,itemType:"folder",icon:"icon-bin",text:"You deleted the folder",textCompany:"{0} deleted the folder",replace:["init_event_user_name"]},"type:folder_undeleted":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-add",text:"You restored the folder",textCompany:"{0} restored the folder",replace:["init_event_user_name"]},"type:folder_unshared":{itemType:"folder",icon:"icon-lock",text:"You unshared the folder",textCompany:"{0} unshared the folder",replace:["init_event_user_name"]},"type:folder_collab_removed":{itemType:"folder",icon:"icon-link",text:"You left the shared folder",textCompany:"{0} left the shared folder",replace:["collab_name"]},"type:file_created":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"file",icon:"icon-add",text:"You added the file",textCompany:"{0} added the file",replace:["init_event_user_name"]},"type:file_renamed":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"file",icon:"icon-pen",text:"You edited the file",textCompany:"{0} edited the file",replace:["init_event_user_name"]},"type:file_moved":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"file",icon:"icon-folder-arrow",text:"You moved the file",textCompany:"{0} moved the file",replace:["init_event_user_name"]},"type:file_copied":{itemType:"file",icon:"icon-folder-arrow",text:"You copied the file",textCompany:"{0} copied the file",replace:["init_event_user_name"]},"type:file_deleted":{disabledLink:!0,itemType:"file",icon:"icon-bin",text:"You deleted the file",textCompany:"{0} deleted the file",replace:["init_event_user_name"]},"type:file_undeleted":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"file",icon:"icon-add",text:"You restored the file",textCompany:"{0} restored the file",replace:["init_event_user_name"]},"type:file_new_content":{itemType:"file",icon:"icon-add",text:"You updated the file",textCompany:"{0} updated the file",replace:["init_event_user_name"]},"type:link_created":{itemType:"file",icon:"icon-link",text:{folder:"You published the folder",file:"You published the file"},textCompany:{folder:"{0} published the folder",file:"{0} published the file"},replace:["init_event_user_name"]},"type:link_resolved":{itemType:"file",icon:"icon-link",text:{folder:"You resolved the folder",file:"You resolved the file"},textCompany:{folder:"{0} resolved the folder",file:"{0} resolved the file"},replace:["init_event_user_name"]},"type:link_deleted":{itemType:"file",icon:"icon-lock",text:{folder:"You unpublished the folder",file:"You unpublished the file"},textCompany:{folder:"{0} unpublished the folder",file:"{0} unpublished the file"},replace:["init_event_user_name"]},"type:share_invitation_revoked":{itemType:"folder",icon:"icon-lock",text:"You unshared the folder",textCompany:"{0} unshared the folder",replace:["init_event_user_name"]},"type:share_invitation_sent":{itemType:"folder",icon:"icon-link",text:"You invited {1} to the shared folder",textCompany:"{0} invited {1} to the shared folder",replace:["init_event_user_name",["collab_name","collab_id","group_name","group_id"]]},"type:share_request_sent":{itemType:"folder",icon:"icon-link",text:"{0} requested access to your shared folder",textCompany:"{0} requested access to {1} shared folder",replace:["collab_name","init_event_user_name"]},"type:share_request_declined":{itemType:"folder",icon:"icon-lock",text:"{0} declined your access request to company folder",textCompany:"{0} declined access request for {1} to company folder",replace:["init_event_user_name","owner_name"]},"type:share_invitation_accepted":{itemType:"folder",icon:"icon-link",text:"You joined the shared folder",textCompany:"{0} joined the shared folder",replace:["collab_name"]},"type:share_invitation_declined":{itemType:"folder",icon:"icon-link",text:"You declined the shared folder",textCompany:"{0} declined the shared folder",replace:["collab_name"]},"type:share_permissions_updated":{itemType:"folder",icon:"icon-link",text:"You updated permissions for the shared folder",textCompany:"{0} updated permissions for the shared folder",replace:["init_event_user_name"]},"action:share_invitation_sent":{itemType:"folder",icon:"icon-link",text:"{0} invited you to the shared folder",textCompany:"{0} invited you to the shared folder",replace:["init_notice_user_name"]},"action:share_request_sent":{itemType:"folder",icon:"icon-link",text:"{0} requested access to your shared folder",textCompany:"{0} requested access to your shared folder",replace:["init_notice_user_name"]},"type:migration_completed":{itemType:"folder",icon:"icon-folder-arrow",text:"All files from {0} were migrated into the folder",textCompany:"All files from {0} were migrated into the folder",replace:["init_event_user_name"]},"type:migration_request_sent":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-folder-arrow",text:"{0} sent a request to migrate folder",textCompany:"{0} sent a request to {1} to migrate folder",replace:["owner_name","init_event_user_name"]},"action:migration_request_sent":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-folder-arrow",text:"{0} sent a request to migrate folder",textCompany:"{0} sent a request to migrate folder",replace:["init_notice_user_name"]},"type:migration_request_accepted":{disabledLink:!1,disabledLinkFn:function(a){a.deleted?this.disabledLink=!0:this.disabledLink=!1},itemType:"folder",icon:"icon-folder-arrow",text:"{0} accept request of migration of folder",textCompany:"{0} accept request of migration of folder",replace:["init_event_user_name"]},"type:file_version_restored":{itemType:"file",icon:"icon-clocks",text:"You restored file to previous version",textCompany:"{0} restored file to previous version",replace:["init_event_user_name"]},"type:company_folder_hidden":{itemType:"file",icon:"icon-clocks",text:"You made hidden company folder",textCompany:"{0} made hidden company folder",replace:["init_event_user_name"]},"type:company_folder_added":{itemType:"file",icon:"icon-clocks",text:"You have added company folder",textCompany:"{0} have added company folder",replace:["init_event_user_name"]},"type:company_settings_changed":{itemType:"file",icon:"icon-clocks",text:"You have changed company settings",textCompany:"{0} have changed company settings",replace:["init_event_user_name"]},"type:user_name_changed":{itemType:"file",icon:"icon-pen",text:"You have changed username to {1}",textCompany:"{0} have changed username to {1}",replace:["old_name","init_event_user_name"]},"type:user_password_changed":{disabledLink:!0,itemType:"file",icon:"icon-pen",text:"You have changed password",textCompany:"{0} have changed password",replace:["init_event_user_name"]}};return{get:function(e,f,g){var h=e.type&&b.isString(e.type)?"type:"+e.type:e.action?"action:"+e.action:c;if(h&&h in d){var i=d[h],j="";if(j="object"==typeof i[g]?e.folder?i[g].folder:i[g].file:i[g],j=a("translate")(j),i.disabledLinkFn&&i.disabledLinkFn(e),i.hasOwnProperty("replace")){var k=[].concat(i.replace);f&&(j=f(j,k,e));for(var l in k){if(b.isArray(k[l]))for(var m in k[l])if(e[k[l][m]]){k[l]=_.escape(k[l][m]);break}e[k[l]]&&(k[l]=_.escape(e[k[l]]))}k[l].search(/^(email:|phone:|ldap:)/)>-1&&(k[l]=_.escape(k[l].replace(/^(email:|phone:|ldap:)/g,""))),j=String.prototype.format.apply(j,k)}return{text:j,icon:i.icon,itemType:i.itemType,disabledLink:!!i.disabledLink}}return""}}}]),d.directive("clItemLog",["clItemLogType","$rootScope",function(a,b){return{restrict:"A",scope:{item:"=itemInfo",iconFlag:"=itemInfoIconFlag",itemTransform:"=itemTransform"},template:'<i class="icon icon-2"></i><span></span>',link:function(c,d,e){!1===c.iconFlag&&d.find("i").remove();var f=c.item.init_event_user_id==b.CurrentUser.userid,g="company"!==e.clItemLog&&f?"text":"textCompany",h=a.get(c.item,c.itemTransform,g);""!==h&&(d.find("span").html(h.text),d.find("i").addClass(h.icon))}}}]),d.factory("clItemLogDescriptionType",["$filter",function(a){var b={name:{setTo:"Company name was set to {0}"},domain:{setTo:"Company domain was set to {0}"},logo_url:{setTo:"Logo was changed"},ldap_address:{setTo:"LDAP server was set to {0}",removed:"LDAP server was removed"},ldap_port:{setTo:"LDAP port was set to {0}",removed:"LDAP port was removed"},ldap_basedn:{setTo:"LDAP Base DN was set to {0}",removed:"LDAP Base DN was removed"},ldap_user_attribute:{setTo:"LDAP user was set to {0}",removed:"LDAP user was removed"},public_links_allow:{enabled:"Public links was enabled",disabled:"Public links was disabled"},sharing_outside_allow:{enabled:"Sharing files outside company was enabled",disabled:"Sharing files outside company was disabled"},company_folder_creation_allow:{enabled:"Company folders was enabled",disabled:"Company folders was disabled"},quota_size:{setTo:"Space quota was set to {0}"},quota_employees_count:{setTo:"Employees number quota was set to {0}"},logout_timeout_enable:{enabled:"Logout timeout was enabled",disabled:"Logout timeout was disabled"},logout_timeout:{removed:"Logout timeout was removed"}};return{get:function(c,d,e){return void 0===b[c]?"":"boolean"==typeof d?d?a("translate")(b[c].enabled):a("translate")(b[c].disabled):d&&d.length>0?e?a("translate")(b[c].setTo).replace("{0}",d):a("translate")(b[c].setTo).replace("{0}",'<span class="bold">'+d+"</span>"):a("translate")(b[c].removed)}}}]),d.directive("clItemLogDescription",["$sce","clItemLogDescriptionType",function(a,b){return{restrict:"A",scope:{key:"=itemKey",value:"=itemValue"},template:'<span title="{{title}}" ng-bind-html="text"></span>',link:function(c){c.text=a.trustAsHtml(b.get(c.key,c.value)),c.title=b.get(c.key,c.value,!0)}}}]),b.module("loadingService",[]).factory("loadingService",["$q",function(a){return{wait:function(){var b=a.defer(),c=arguments;return a.all(c).finally(function(){b.resolve(1)}),b.promise}}}]).value("clLoadedConfig",{tmpl:"clLoading/progressbar.tpl.html"}).directive("clLoaded",["$compile","$templateCache","$parse","clLoadedConfig",function(a,b,c,d){return{link:function(e,f,g){var h=b.get(g.clLoadedTemplate||d.tmpl);h=a(h)(e),f.after(h),e.$on("$destroy",e.$watch(g.clLoaded,function(a,b){f.css({display:"none"}),h.css({display:""});var d=function(){f.css({display:""}),h.css({display:"none"})},i=c(g.clLoaded)(e);i&&i.finally?i.finally(d):d()}))}}}]),d.directive("clMenu",["$rootScope","clActionHandler","menuConfig","$stateParams",function(a,c,d,e){return{restrict:"AE",replace:!0,scope:{},templateUrl:function(a,b){return"nav"===b.clMenuType?"clMenu/menuNav.tpl.html":"clMenu/menuContext.tpl.html"},link:function(f,g,h){function i(a,c){f.selectedItems=c.selectedItems,c.currentFolder&&c.currentFolder.path&&(f.currentFolder=c.currentFolder),b.forEach([{fn:"enabledFn",prop:"enabled"},{fn:"shownFn",prop:"shown"}],function(a){b.forEach(f.menu,function(c){if(b.isString(c[a.fn]))switch(c[a.fn]){case"zero":c[a.prop]=d.rules.enabledForZeroSelectedItems(f.selectedItems,f.currentFolder);break;case"one":c[a.prop]=d.rules.enabledForOneSelectedItem(f.selectedItems,f.currentFolder);break;case"several":c[a.prop]=d.rules.enabledForSeveralSelectedItems(f.selectedItems,f.currentFolder);break;case"auth":c[a.prop]=d.rules.enabledForAuthUser();break;default:c[a.prop]=!0}else b.isFunction(c[a.fn])?c[a.prop]=c[a.fn](f.selectedItems,f.currentFolder):c[a.prop]=!0})})}f.clip_available=a.CONST.fe.clip_available,f.selectedItems=[],f.currentFolder=f.$parent.currentFolder||{},f.menu=b.copy(d.menus[h.clMenuEntry]),f.menuType=h.clMenuType,f.$on("$destroy",a.$on("content:"+h.clMenuNamespace+":selectedItems",i)),f.$on("$destroy",a.$on("updateClMenu",function(){i(!1,{selectedItems:[],currentFolder:{}})})),a.$emit("content:"+h.clMenuNamespace+":selectedItems",{selectedItems:[],currentFolder:{}}),f.action=function(a){return c[a]({currentFolder:e.hash?{name:"/",path:"/",public_hash:e.hash,shared_hash:e.hash,singlefile:f.currentFolder&&f.currentFolder.singlefile}:f.currentFolder,selectedItems:f.selectedItems,namespace:h.clMenuNamespace})}}}}]),d.directive("clContextMenu",["$document","$window","$compile","$rootScope","$timeout",function(a,d,e,f,g){return{restrict:"A",scope:{item:"=clContextMenu",folder:"=clContextMenuFolder",disabled:"=clContextMenuDisabled"},link:function(h,i,j){function k(a,b){var d=h.item;if("function"==typeof d&&(d=d(a,b)),!d)return c;p=e(['<div class="b-dropdown" oncontextmenu="return false">','<ul class="dropdown-menu">','<cl-menu cl-menu-entry="'+j.clContextMenuEntry+'" cl-menu-type="context" cl-menu-namespace="'+j.clContextMenuNamespace+'"></cl-menu>',"</ul>","</div>"].join(""))(h),b.addClass(u),g(function(){f.$emit("content:"+j.clContextMenuNamespace+":selectedItems",{selectedItems:[d],currentFolder:h.folder||{}}),p=p?p.addClass("open").appendTo(s):p,setTimeout(function(){if(!p)return c;var b=Math.max(a.pageY,0),d=Math.max(a.pageX,0),e=t.height(),f=t.width(),g=p.children(),h=g.outerHeight(!0),i=g.outerWidth(!0);e-b<h&&(b=e-h),f-d<i&&(d=f-i),p.css({position:"absolute",top:b,left:d}),setTimeout(function(){q=!0},100)})})}function l(){i.removeClass(u),p&&p.remove(),p=c,q=!1}function m(a){a.preventDefault(),h.disabled||g(function(){k(a,i)})}function n(a){q&&!h.disabled&&27===a.keyCode&&l()}function o(a){q&&!h.disabled&&l()}if(!j.clContextMenuEntry)return c;var p,q=!1,r=b.element(d),s=b.element(document.body),t="body"===j.clContextMenuWrapper?s:r,u="ctx-select";h.disabled||(a.bind("click",o),a.bind("contextmenu",o),a.bind("keyup",n),i.bind("contextmenu",m),h.$on("$destroy",function(){a.unbind("click",o),a.unbind("contextmenu",o),a.unbind("keyup",n),i.unbind("contextmenu",m)})),h.$on("$destroy",f.$on("$stateChangeSuccess",l))}}}]),d.service("menuConfig",["$filter","$rootScope","$injector",function(a,b,c){var d;try{d=c.get("GroupsService")}catch(a){}var e=function(a){return a.length&&_.every(a,function(a){return a.is_active})},f=function(a){return a&&a.content&&a.content.length},g=function(a,b){return x.enabledForAuthUser()&&"reader"!==b.role},h=function(a){return a.length&&a[0].userid},i=function(a,c){return!b.uploadFolderInfo&&x.enabledForAuthUser()&&b.CurrentUser.userid!==c.author&&f(c)},j=function(a,c){return!b.uploadFolderInfo&&f(c)},k=function(){return!!b.uploadFolderInfo},l=function(a){var b=!0;if(0===a.length)return!1;for(var c=0;c<a.length;c++)a[c].is_active&&"invited"!==a[c].status||(b=!1);return!!b},m=function(a){var b=!0;if(0===a.length)return!1;for(var c=0;c<a.length;c++)(a[c].is_active||"invited"===a[c].status)&&(b=!1);return!!b},n=function(a,b){return h(a)&&a[0].is_active},o=function(a,b){return h(a)&&!a[0].is_active},p=function(a,b){return a.length&&!a[0].userid},q=function(a,b){return p(a,b)},r=function(){return d&&d.list().length},s=function(a,b){return f(b)},t=function(a){if(0===a.length)return!1;for(var c=0;c<a.length;c++){if(!a[c].folder)return!1;if(a[c].owner!==b.CurrentUser.userid)return!1}return!0},u=function(a){if(a&&1===a.length&&!a[0].folder)return a[0].created!==a[0].version},v=function(){return d&&d.list().length},w=function(){return b.link_metadata?b.link_metadata.can_download:!!b.CurrentUser&&b.CurrentUser.can_download},x={enabledForZeroSelectedItems:function(a){return 0===a.length},enabledForOneSelectedItem:function(a){return 1===a.length},enabledForSeveralSelectedItems:function(a){return a.length>=1},enabledForAuthUser:function(){return!!b.CurrentUser&&!!b.CurrentUser.userid}};return{menus:{driveMenu:[{title:"Download",iconClass:"icon-down-arrow",enabledFn:"several",shownFn:w,action:"download"},{title:"Sharing",iconClass:"icon-link",enabledFn:"one",shownFn:g,action:"share"},{title:"Move or copy",iconClass:"icon-folder-arrow",enabledFn:"several",shownFn:g,action:"moveOrCopy"},{title:"Rename",iconClass:"icon-pen",enabledFn:"one",shownFn:g,action:"rename"},{title:"Delete",iconClass:"icon-bin",enabledFn:"several",shownFn:g,action:"remove"},{divider:!0,shownFn:g},{title:"Transfer ownership",iconClass:"icon-folder-transfer",enabledFn:t,shownFn:g,action:"migrateFolder"}],driveContextMenu:[{title:"Download",iconClass:"icon-down-arrow",enabledFn:"several",shownFn:w,action:"download"},{title:"Sharing",iconClass:"icon-link",enabledFn:"one",shownFn:g,action:"share"},{title:"Move or copy",iconClass:"icon-folder-arrow",enabledFn:"several",shownFn:g,action:"moveOrCopy"},{title:"Rename",iconClass:"icon-pen",enabledFn:"one",shownFn:g,action:"rename"},{title:"Show versions",iconClass:"icon-clocks",enabledFn:"one",shownFn:u,action:"versionManagement"},{title:"Delete",iconClass:"icon-bin",enabledFn:"several",shownFn:g,action:"remove"},{divider:!0,shownFn:g},{title:"Transfer ownership",iconClass:"icon-folder-transfer",enabledFn:t,shownFn:g,action:"migrateFolder"}],publicFilesMenu:[{title:"Upload",iconClass:"icon-upload",shownFn:k,enabledFn:"always",action:"uploadToPublicFolder"},{title:"Download all in one .zip",iconClass:"icon-down-arrow",shownFn:j,shownFn:w,enabledFn:"always",action:"downloadPublicFolder"},{title:"Add to my Cloudike",iconClass:"icon-down-arrow",shownFn:i,enabledFn:"auth",action:"appendToMyCloudike"}],publicFilesContextMenu:[{title:"Download",iconClass:"icon-down-arrow",enabledFn:"several",shownFn:w,action:"downloadPublic"}],sharedFilesMenu:[{title:"Download",iconClass:"icon-down-arrow",enabledFn:"several",shownFn:w,action:"download"},{title:"Sharing options",iconClass:"icon-link",enabledFn:"one",action:"share"}],sharesFilesMenu:[{title:"Add to my Cloudike",iconClass:"icon-down-arrow",shownFn:i,enabledFn:"auth",action:"approveSharesInvite"}],trashMenu:[{title:"Restore",iconClass:"icon-restart",enabledFn:"several",action:"restoreBusiness"},{title:"Empty trash",iconClass:"icon-bin-x",enabledFn:s,action:"emptyTrash"}],trashContextMenu:[{title:"Restore",iconClass:"icon-restart",enabledFn:"several",action:"restoreBusiness"}],companyUsersMenu:[{title:"Add user manually",iconClass:"icon-add-user",enabledFn:"always",action:"companyUserAdd"},{title:"Add via invites",iconClass:"icon-invite-users",enabledFn:"always",action:"companyUsersAdd"},{title:"Block",iconClass:"icon-block",enabledFn:l,action:"companyUsersBlock"},{title:"Unblock",iconClass:"icon-unblock",enabledFn:m,action:"companyUsersUnblock"},{title:"Delete",iconClass:"icon-cross",enabledFn:"several",action:"companyUsersDelete"},{title:"Permission",iconClass:"icon-key-on",enabledFn:e,action:"bulkPermission"},{title:"Update quota",iconClass:"icon-pen",enabledFn:"several",action:"companyUsersUpdateQuota"}],companyGroupsMenu:[{title:"New group",iconClass:"icon-add",enabledFn:"always",action:"companyGroupNew"},{title:"Rename group",iconClass:"icon-pen",enabledFn:r,action:"companyGroupRename"},{title:"Permission",iconClass:"icon-key-on",enabledFn:v,action:"companyGroupPermission"},{title:"Delete group",iconClass:"icon-cross",enabledFn:r,action:"companyGroupDelete"}],companyFoldersMenu:[{title:"Hide from this list",iconClass:"icon-lock",enabledFn:"several",action:"companyFoldersHide"}],companySharesMenu:[{title:"Unshare",iconClass:"icon-link",enabledFn:"several",action:"withhold"}],companyLogMenu:[],companyUsersContextMenu:[{title:"Block",iconClass:"icon-block",enabledFn:"several",shownFn:n,action:"companyUsersBlock"},{title:"Unblock",iconClass:"icon-block",enabledFn:"several",shownFn:o,action:"companyUsersUnblock"},{title:"Change password",iconClass:"icon-asterix",enabledFn:"one",shownFn:h,action:"companyUsersChangePassword"},{title:"Copy email to clipboard",iconClass:"icon-add cl-clipboard-copy",enabledFn:"one",shownFn:h,clip:"companyUserCopyEmail"},{title:"Delete",iconClass:"icon-cross",enabledFn:"several",shownFn:h,action:"companyUsersDelete"},{title:"Resend invite",iconClass:"icon-add",enabledFn:"one",shownFn:p,action:"companyUsersResendInvite"},{title:"Withdraw invite",iconClass:"icon-block",enabledFn:"one",shownFn:q,action:"companyUsersWithdrawInvite"},{title:"User devices",iconClass:"icon-list",enabledFn:"one",shownFn:h,action:"companyUsersDevices"},{title:"Permission",iconClass:"icon-key-on",enabledFn:e,action:"bulkPermission"}],companyFoldersContextMenu:[{title:"Sharing",iconClass:"icon-link",enabledFn:function(){return!1},action:"share"},{title:"Hide from this list",iconClass:"icon-lock",enabledFn:"several",action:"companyFoldersHide"},{divider:!0},{title:"Download",iconClass:"icon-down-arrow",enabledFn:function(){return!1},action:"download"},{title:"Move or copy",iconClass:"icon-folder-arrow",enabledFn:function(){return!1},action:"moveOrCopy"},{title:"Rename",iconClass:"icon-pen",enabledFn:function(){return!1},action:"rename"},{title:"Delete",iconClass:"icon-bin",enabledFn:function(){return!1},action:"remove"}],companyFoldersUserMenu:[],contactsMenu:[{title:"Delete",iconClass:"icon-bin",enabledFn:"several",action:"removeContact"}]},rules:x}}]),b.module("clMoveOrCopy",[]).factory("clMoveOrCopy",["$modal",function(a){return{modal:function(b){return a.open({backdrop:!0,templateUrl:"clMoveOrCopy/clMoveOrCopy.tpl.html",controller:"clMoveOrCopyCtrl",windowClass:"md-small",resolve:{opts:function(){return b||{}}}})}}}]).controller("clMoveOrCopyCtrl",["$scope","$rootScope","$modalInstance","opts",function(a,b,d,e){a.toPath=c,a.opts=e,a.itemClick=function(b,c){return a.toPath=c.path,!1},a.copy=function(){d.close({type:"copy",toPath:a.toPath})},a.move=function(){d.close({type:"move",toPath:a.toPath})},a.createFolder=function(){b.$emit("moveOrCopy:folderTree:create-folder",a.toPath)}}]),b.module("clNgRepeatRenderCheck",[]).directive("onFinishRender",["$timeout",function(a){return{link:function(b){b.$last&&a(function(){b.$emit("ngRepeatFinished")})}}}]),b.module("clNoclick",[]).directive("clNoclick",function(){function a(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function c(a){a.stopPropagation&&a.stopPropagation()}return function(d,e,f){var g=d.$eval(f.ngNoclick)||{};b.element(e).bind("click",a),g&&b.element(e).bind("click",c),d.$on("$destroy",function(){b.element(e).unbind("click",a),b.element(e).unbind("click",c)})}}),b.module("clNoticesList",[]).directive("clNoticesList",["clActionHandler","$rootScope","$state","$filter","toaster","$injector",function(a,c,d,e,f,g){return{templateUrl:"clNoticesList/clNoticesList.tpl.html",scope:{notices:"=clNoticesList"},link:function(d){d.spaceRegex=/ /g,d.sort=function(a){return{new:1}[a.status]||999},d.icon={folder:!0,icon:"folder"};var e=function(){b.forEach(d.notices,function(a){switch(a.action){case"share_request_sent":a.noticeActionTemplate="clNoticesList/clNoticeRequestAccess.tpl.html";break;case"share_invitation_sent":case"migration_request_sent":a.noticeActionTemplate="clNoticesList/clNoticeInviteToFolder.tpl.html";break;default:a.noticeActionTemplate=""}})};d.approveRequestAccess=function(b,c){a.approveRequest(b,c)},d.acceptInvite=function(b){"migration_request_sent"===b.action?a.approveMigration(b):"share_invitation_sent"===b.action&&a.approveInvite(b)},d.denyInvite=function(c){"migration_request_sent"===c.action?a.denyMigration(c):a.denyInvite(c).then(function(){f.pop("note",b.cloudike.translate('Declined invite to folder "{0}"').format(b.cloudike.pathAsFilename(c.path)))})},d.denyRequest=function(c){a.denyRequest(c).then(function(){f.pop("note",b.cloudike.translate('Rejected user {0} access to folder "{1}"').format(b.cloudike.pathAsFilename(c.init_notice_user_name,c.path)))})},d.denyRequestAccess=function(c){a.denyInvite(c).then(function(){f.pop("note",b.cloudike.translate('Rejected request for access to folder "{0}"').format(b.cloudike.pathAsFilename(c.path)))})},e(),d.$on("$destroy",c.$on("MyNotices.updated",function(){e()}))}}}]),b.module("clOffClick",[]).directive("clOffClick",["$document","$parse",function(a,b){return{restrict:"A",scope:{offClick:"&clOffClick"},link:function(b,c,d){function e(a){var d=a.target||a.srcElement;c[0].contains(d)||b.$apply(b.offClick())}a.bind("click",e),b.$on("$destroy",function(){a.unbind("click",e)})}}}]),b.module("clOnScroll",[]).factory("clOnScrollService",function(){var a;return{handler:_.debounce(function(){clearTimeout(a);var c=function(){var a=b.element(this.element),c={topEdge:a.scrollTop(),viewHeight:a.outerHeight(!0),overallHeight:this.element[0].scrollHeight};c.bottomEdge=c.overallHeight-c.topEdge-c.viewHeight,this.onEnd?c.bottomEdge<400&&this.onEnd(c):(this.scope.clDimensions=c,this.scope.$apply())}.bind(this);a=setTimeout(function(){c()},500),c()},250,!0)}}).directive("clOnScroll",["$window","clOnScrollService",function(a,c){return{restrict:"A",link:function(d,e){var f=b.bind({scope:d,element:e},c.handler);e=b.element(e).is("body")?a:e,b.element(e).bind("scroll",f),d.$on("$destroy",function(){b.element(e).unbind("scroll",f)})}}}]).directive("clOnScrollEnd",["$window","clOnScrollService",function(a,c){return{restrict:"A",link:function(d,e,f){var g=b.bind({scope:d,element:e,onEnd:d.$eval(f.clOnScrollEnd)},c.handler);e=b.element(e).is("body")?a:e,b.element(e).bind("scroll",g),setTimeout(function(){},500),d.$on("$destroy",function(){b.element(e).unbind("scroll",g)})}}}]),b.module("clPdfjs",[]).directive("clPdfjs",["$rootScope",function(d){var e=800,f="PDFViewCss";return function(g,h,i){var j=h[0],k=b.element(j);k.addClass("invisible").parents(".pdf-view:first").addClass("pdf-view-incomplete"),k.contents().find("#toolbarViewerLeft").addClass("hidden"),k.contents().find("#toolbarViewerLeft").addClass("invisible");var l=b.bind(j.contentWindow,function(){function g(){if(!m.PDFViewCss&&m.document&&m.document.body&&!m.document.getElementById(f)){m.PDFViewCss=m.document.createElement("style"),m.PDFViewCss.setAttribute("id",f),m.PDFViewCss.innerHTML=["body {background-image: none !important}","#mainContainer {min-width: 0 !important}","#viewerContainer {overflow-y: hidden !important}","#viewerContainer {background-color: #404040 !important}","#viewerContainer {-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important}",".toolbar {border-top: 1px solid #333 !important; border-right: 1px solid #333 !important; border-left: 1px solid #333 !important}","#openFile, #download, #viewBookmark {display: none !important}","#secondaryOpenFile, #secondaryDownload, #secondaryViewBookmark {display: none !important}","#secondaryToolbarButtonContainer #firstPage {display: none !important}","#secondaryToolbarButtonContainer #lastPage {display: none !important}","#secondaryToolbarButtonContainer #documentProperties {display: none !important}","#secondaryToolbarButtonContainer .horizontalToolbarSeparator {display: none !important}","#toolbarViewerLeft {display: none !important}","@media(max-width: 350px){#toolbarViewerMiddle {left: -20% !important}}","#presentationMode {display: none !important}","#errorWrapper {display: none !important}"].join(""),(d.link_metadata&&!d.link_metadata.can_print||d.CurrentUser&&!d.CurrentUser.can_print)&&(m.PDFViewCss.innerHTML+=["#print {display: none !important}","@media print{body {display: none !important}}"].join("")),(d.link_metadata&&!d.link_metadata.use_watermarks&&!m.PDFJS.disableFullscreen||d.CurrentUser&&!d.CurrentUser.use_watermarks&&!m.PDFJS.disableFullscreen)&&(m.PDFViewCss.innerHTML=m.PDFViewCss.innerHTML.replace("#presentationMode {display: none !important}","#presentationMode {display: block !important}"));var a=m.document.getElementsByTagName("head");a&&a.length?a[0].appendChild(m.PDFViewCss):m.document.body.appendChild(m.PDFViewCss)}}function h(){if((n=n||m.document.getElementById("viewer"))&&o&&n.offsetHeight===o)return k.parents(".pdf-view:first").removeClass("pdf-view-incomplete"),c;o=n?n.offsetHeight:o,o&&(d.link_metadata&&d.link_metadata.use_watermarks||d.CurrentUser&&d.CurrentUser.use_watermarks?j.style.height="calc(100vh - 50px)":j.style.height=o+50+"px"),setTimeout(h,e)}function i(){if(!m.PDFView||!0!==m.PDFView.downloadComplete)return setTimeout(i,e);a.location.hash="block-back",a.location.hash="block-back-blink",a.onhashchange=function(){a.location.hash="block-back"},g(),h()}var m=this;if(m.PDFJS&&(m.MAX_AUTO_SCALE=1.1,m.HandTool.toggle(),m.PDFJS.disableRange=!0),!m.PDFView)return setTimeout(l,e);m.addEventListener("contextmenu",function(a){a.preventDefault()},!0),g(),h(),k.removeClass("invisible");var n,o;i(),d.$on("preview.update.done",function(){m.document.getElementById("viewer")&&setTimeout(function(){m.PDFView&&!0===m.PDFView.downloadComplete||(g(),h())},2*e)}),d.$on("websocket.can_print_changed",function(a,b){b[0].can_print?m.PDFViewCss.innerHTML=m.PDFViewCss.innerHTML.replace("#print {display: none !important}","#print {display: inline-block !important}").replace("@media print{body {display: none !important}}","@media print{body {display: inline-block !important}}"):-1!==m.PDFViewCss.innerHTML.indexOf("#print {display: block !important}")?m.PDFViewCss.innerHTML=m.PDFViewCss.innerHTML.replace("#print {display: block !important}","#print {display: none !important}").replace("@media print{body {display: block !important}}","@media print{body {display: none !important}}"):m.PDFViewCss.innerHTML+=["#print {display: block !important}","#print {display: none !important}","@media print{body {display: block !important}}","@media print{body {display: none !important}}"].join("")}),m.PDFJS.disableFullscreen||d.$on("websocket.use_watermarks_changed",function(a,b){b[0].use_watermarks?-1!==m.PDFViewCss.innerHTML.indexOf("#presentationMode {display: block !important}")&&(m.PDFViewCss.innerHTML=m.PDFViewCss.innerHTML.replace("#presentationMode {display: block !important}","#presentationMode {display: none !important}")):-1!==m.PDFViewCss.innerHTML.indexOf("#presentationMode {display: none !important}")&&(m.PDFViewCss.innerHTML=m.PDFViewCss.innerHTML.replace("#presentationMode {display: none !important}","#presentationMode {display: block !important}"))}),d.$on("pageChanged",function(a,c){m.PDFViewerApplication.loadingBar.show(),m.PDFViewerApplication.loadingBar.percent=0,-1!=c.indexOf("+")&&(c=c.replace("+","%2B")),m.PDFViewerApplication.open(c),setTimeout(function(){var a=d.$watchCollection(b.bind(this,function(){return m.PDFJS}),function(){m.MAX_AUTO_SCALE&&1.1!=m.MAX_AUTO_SCALE&&(m.MAX_AUTO_SCALE=1.1),m.PDFJS&&!m.PDFJS.disableRange&&(m.PDFJS.disableRange=!0,m.HandTool.toggle()),m.PDFJS.disableRange&&1.1===m.MAX_AUTO_SCALE&&a()},!0);i(),g(),h(),m.addEventListener("contextmenu",function(a){a.preventDefault()},!0),d.$emit("changingDone")},2*e)})});l()}}]),d.directive("clPerfectScrollbar",["$window",function(a){var d={};return b.element(a).bind("resize",_.throttle(function(){for(var a in d)d[a].perfectScrollbar("update")},10)),{link:function(a,e,f){if(b.element.browser.webkit)return c;if(!b.element.fn.clPerfectScrollbar)return c;var g=Math.random().toString().substring(2),h=a.$eval(f.clPerfectScrollbar);e.addClass("perfect-scrollbar").perfectScrollbar(h||{}),d[g]=e,a.$on("$destroy",function(){delete d[g],e.perfectScrollbar("destroy")})}}}]),b.module("clPopoverMetadataInfo",[]).directive("clPopoverMetadataInfoPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&",compileScope:"&",data:"&"},templateUrl:"clPopoverMetadataInfo/clPopoverMetadataInfo.tpl.html",link:function(a,b,c){a.metadata=a.$parent.data||a.data,"object"!=typeof a.metadata&&a.$parent.origScope&&a.$parent.origScope.data&&(a.metadata=a.$parent.origScope.data)}}}).directive("clPopoverMetadataInfo",["$tooltip",function(a){var b=a("clPopoverMetadataInfo","popover","click");return b.scope={data:"=clPopoverMetadataInfo"},b}]),b.module("clPreviewCarousel",[]).directive("clPreviewCarousel",["$filter",function(a){return{scope:{items:"=clPreviewCarousel",currItem:"=clPreviewCarouselItem"},templateUrl:"clPreviewCarousel/clPreviewCarousel.tpl.html",link:function(a,b,c){function d(a){var b=h.find("td").removeClass("active").filter(":eq("+a+")").addClass("active");b.length&&h.stop().animate({left:-b.position().left+(g.width()-b.width()>>1)+"px"})}function e(b){for(var c=a.items.length;c-- >0;)if(a.items[c].path===b){f=c;break}d(f)}var f=0,g=b.find(".carousel-wrapper:first"),h=b.find("table:first");a.$on("$destroy",a.$watchCollection("items",function(){var b=h.find("td:first").width();g.width("auto").width(Math.floor(g.width()/b)*b),a.currItem&&e(a.currItem.path)})),a.$on("$destroy",a.$watch("currItem",function(){a.currItem&&e(a.currItem.path)}))}}}]),b.module("clProgressBar",[]).directive("clProgressBar",function(){return{restrict:"E",templateUrl:"clProgressBar/clProgressBar.tpl.html",scope:{current:"@",total:"@"},link:function(a,b){function c(a){return isFinite(a)&&!isNaN(a)}var d;a.current=parseInt(a.current),a.total=parseInt(a.total),d=100*a.current/a.total,c(d)&&d>0?b.find(".progress-bar").css({width:d+"%"}):b.find(".progress-bar").css({display:"none"})}}}),b.module("clRename",[]).directive("clRename",["$document","$rootScope","$timeout","$compile","$templateCache",function(a,d,e,f,g){function h(a){a.stopPropagation()}return{restrict:"A",scope:{item:"=clRename"},link:function(a,e,i){var j,k=b.element(),l=b.element();a.filename="";var m=function(c,d){a.item.oldPath=d.path,a.filename=b.cloudike.pathAsFilename(d.path),a.formClass=i.clRenameClass,k=f(g.get("clRename/clRename.tpl.html"))(a),l=k.find("input:first"),e.hide().before(k),setTimeout(function(){l.focus(),k.on("mousedown mousemove mouseup",h),l.on("blur keyup",a.close)},300)};b.forEach(i.clRenameNamespace.split(/\s+/),function(b){a.$on("$destroy",d.$on("content:"+b+":renameItem",function(d,f){return f.path!==a.item.path?c:e.parents("body:first").length?a.isEdit?c:(a.isEdit=!0,j=b,void m(d,f)):c}))}),a.close=function(b){b&&"blur"!==b.type||(a.item.newPath=a.item.path.substring(0,a.item.path.lastIndexOf("/"))+"/"+a.filename),b&&"blur"!==b.type&&27!==b.keyCode||(k.off("mousedown mousemove mouseup",h),l.off("blur keyup",a.close),e.show(),k.remove(),a.$parent.$$phase||a.$root.$$phase||a.$parent.$apply(),a.isEdit=!1,d.$broadcast("content:"+j+":renameItemFinished",a.item))}}}}]),d.directive("clSearchForm",["$stateParams","$state",function(a,b){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"clSearchForm/clSearchForm.tpl.html",link:function(c,d,e){c.searchform={query:a.query||""},c.gotoSearch=function(a){return a?b.go("search",{query:a},{reload:!0}):b.go("drive")}}}}]),d.directive("clSelect",["$compile","$templateCache","$document",function(a,b,d){return{restrict:"E",scope:{model:"=clModel",options:"=clOptions",rules:"=clRules",card:"=clCard",type:"=clType",placeholder:"=",showPlaceholder:"=",readonly:"="},link:function(e,f,g){var h=a(b.get("clSelect/clSelect.tpl.html"))(e),i=h.find("input[type=text]"),j=h.find(".placeholder"),k=(e.rules||{}).single||{};e.activeIndex=-1,f.hide().before(h);var l=!1,m=function(a){l?l=!1:(h.click(),a.stopPropagation())},n=function(){if(e.readonly)return c;h.toggleClass("active"),h.hasClass("active")?(l=!0,i.focus().select(),d.on("click",m)):e.hide()},o=function(a){for(var b=0,c=e.card[e.type]||[],d=c.length;d-- >0;)c[d].meta&&c[d].meta.type[0]===a&&b++;return b>1};h.bind("click",n),e.$on("$destroy",function(){h.unbind("click",n)}),e.hide=function(){d.off("click",m),e.activeIndex=-1,h.removeClass("active")},i.keydown(function(a){40==a.keyCode?(e.activeIndex++,e.activeIndex>=e.options.length&&(e.activeIndex=0),e.$apply(),a.preventDefault()):38==a.keyCode?(e.activeIndex--,e.activeIndex<0&&(e.activeIndex=e.options.length-1),e.$apply(),a.preventDefault()):13==a.keyCode&&(e.hide(),e.activeIndex>-1&&(e.model=e.options[e.activeIndex]),e.activeIndex=-1,e.$apply(),a.preventDefault())}),e.$on("$destroy",e.$watch("model",function(a){if(!a)return c;e.modelLower=a.toLowerCase(),i.css({width:j.width()+8})})),e.$on("$destroy",e.$watch("modelLower",function(a,b){if(!a)return c;e.model=a.toUpperCase(),k[e.model]&&o(e.model)&&(e.model=b.toUpperCase())}))}}}]),b.module("clSelectOnClick",[]).directive("clSelectOnClick",function(){function a(){this.select()}return{restrict:"A",link:function(b,c,d){c.bind("click",a),b.$on("$destroy",function(){c.unbind("click",a)})}}}),b.module("clServerValidate",[]).directive("clServerValidate",["$parse","$interval",function(a,d){return{require:"form",link:function(e,f,g,h){function i(){if(h.$invalid||!0===h.$$doSubmit)return!1;h.$$doSubmit=!0,b.element.fn.button&&j.data({loadingText:j.html()}).button("loading"),d(function(){h.$reset()},3e4,1)}var j=f.find("button[type=submit]:first"),k=b.extend({500:"ServerError"},a(g.clServerValidate)(e)),l=function(){_.forEach(k,function(a){if(_.isArray(a))return _.forEach(a,function(a){h.$setValidity(a,!0)}),c;h.$setValidity(a,!0)})};_.forEach(h,function(a,c){"$"!==String(c).charAt(0)&&b.isObject(a)&&(a.$viewChangeListeners.unshift(l),a.$parsers.unshift(function(a){return l(),a}))}),h.$reset=function(){h.$$doSubmit=!1,b.element.fn.button&&j.button("reset")},h.$parseErrors=function(a){h.$reset(),a.status in k?_.isArray(k[a.status])&&_.contains(k[a.status],a.data.code)?h.$setValidity(a.data.code,!1):h.$setValidity(k[a.status],!1):h.$setValidity(k[a.status],!0)},f.bind("submit",i),e.$on("$destroy",function(){f.unbind("submit",i)})}}}]),d.directive("clSetFocus",["$timeout",function(a){return{restrict:"A",scope:{focusValue:"=clSetFocus"},link:function(b,c,d){b.$on("$destroy",b.$watch("focusValue",function(b,e){a(function(){!0!==b||e?!1===b&&e&&c[0].blur():(c[0].focus(),d.onSelect&&c[0].select())})}))}}}]),d.directive("clSimpleFocus",["$timeout",function(a){return{scope:{trigger:"@clSimpleFocus",selectText:"@clSimpleFocusSelect"},link:function(b,c){b.$watch("trigger",function(d){"true"===d&&a(function(){c[0].focus(),b.selectText&&c[0].select()})})}}}]),b.module("clShare",[]).factory("CollaboratorsFactory",["Restangular",function(a){return{get:function(b){return a.one("shares").getList("collaborators",{path:b}).catch(function(a){if(426===a.status)return{error:"upgrade"}})}}}]).factory("clShare",["$modal",function(a){var b=function(a,b,c){if(a.selectedItems[0].public_hash)return c.start(),b.one("links").one("info").one(a.selectedItems[0].public_hash).get().then(function(a){return a}).finally(function(){c.complete()})};return{modal:function(c){return a.open({backdrop:!0,templateUrl:"clShare/clShare.tpl.html",size:"lg",controller:"ShareCtrl",resolve:{Item:function(){return c.selectedItems[0]},LinkInfo:["Restangular","cfpLoadingBar",function(a,d){return b(c,a,d)}],Collaborators:["CollaboratorsFactory",function(a){return c.selectedItems[0].folder?a.get(c.selectedItems[0].path):{}}],SharedLink:function(){return null}}})},modernModal:function(c){return a.open({backdrop:!0,templateUrl:"clShare/clShare.tpl.html",size:"lg",controller:"ShareCtrl",resolve:{Item:function(){return c.selectedItems[0]},LinkInfo:["Restangular","cfpLoadingBar",function(a,d){return b(c,a,d)}],Collaborators:["CollaboratorsFactory",function(a){return c.selectedItems[0].folder?a.get(c.selectedItems[0].path):{}}],SharedLink:function(){var a=c.selectedItems[0];return a.folder&&a.shared_hash?{hash:a.shared_hash}:{}}}})}}}]).directive("setFocus",["$timeout",function(a){return{link:function(b,c,d){b.$watch(d.setFocus,function(e){!0===e&&a(function(){c[0].focus(),b[d.setFocus]=!1})})}}}]).controller("ShareCtrl",["CONST","$scope","$rootScope","$state","$location","$interval","$timeout","$injector","Restangular","toaster","$q","dialog","$filter","$modalInstance","CollaboratorsFactory","Item","Collaborators","SharedLink","LinkInfo","clItemIconType","cfpLoadingBar","usersService","clTour",function(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){function z(){b.forEach(d.groupsList,function(a){_.findWhere(d.collaborators,{group_id:a.group_id})?(a.clChecked=!0,a.clDisabled=!0):(a.clChecked=!1,a.clDisabled=!1)})}var A,B;d.invite={collaborators:[],comment:""},d.selectedItems=[];try{A=j.get("GroupsService"),B=j.get("usersService"),B.ready()}catch(a){}new ClipboardJS(".btn");if(d.users=B.list(),d.form={},d.pubLinkParam={},d.pubLinkOpt={ttl:!1,password:!1,passwordHide:!1,download_max:!1},"trial"===e.CurrentCompany.plan&&(d.pubLinkParam.download_max=3),d.inviteUsersLang=e.CurrentLocale,d.item=r,d.pubLinkOpt.upload_folder=u&&"upload"===u.access_rights,d.companyLink={isCompany:r.company_published},d.getMinDate=function(){var a=new Date;a.setHours(23,59,0,0),d.datePickerMin=a,d.datePickerH=a.getHours(),d.datePickerM=a.getMinutes()},d.getMinDate(),d.datePickerOpt={format:"d/M/yyyy",formatDay:"d",showWeeks:!1,maxMode:"day",isOpen:!1,selDate:d.datePickerMin,selHour:d.datePickerH,selMin:d.datePickerM},d.makeTimeOptions=function(){var a=[{name:"12 AM"},{name:"01 AM"},{name:"02 AM"},{name:"03 AM"},{name:"04 AM"},{name:"05 AM"},{name:"06 AM"},{name:"07 AM"},{name:"08 AM"},{name:"09 AM"},{name:"10 AM"},{name:"11 AM"},{name:"12 PM"},{name:"01 PM"},{name:"02 PM"},{name:"03 PM"},{name:"04 PM"},{name:"05 PM"},{name:"06 PM"},{name:"07 PM"},{name:"08 PM"},{name:"09 PM"},{name:"10 PM"},{name:"11 PM"}],b=[{name:"00"},{name:"01"},{name:"02"},{name:"03"},{name:"04"},{name:"05"},{name:"06"},{name:"07"},{name:"08"},{name:"09"},{name:"10"},{name:"11"},{name:"12"},{name:"13"},{name:"14"},{name:"15"},{name:"16"},{name:"17"},{name:"18"},{name:"19"},{name:"20"},{name:"21"},{name:"22"},{name:"23"}],c=[];"ru"===e.CurrentUser.lang&&(a=b);for(var d=0;d<60;d++)d<24&&(a[d].val=d),c.push(d);return{hour:a,min:c}}(),d.isModernMode=!!t,d.sharedLink=t&&t.hash?f.href("shares",{hash:t.hash},{absolute:!0}):null,u&&(r=b.extend(r||{},u),u.download_max&&(d.pubLinkOpt.download_max=!0,d.pubLinkParam.download_max=u.download_max),u.password&&(d.passwordTemporary=!0,d.pubLinkOpt.password=d.pubLinkOpt.passwordHide=!0,d.pubLinkParam.password="password"),u.expires)){d.pubLinkOpt.ttl=!0;var C=new Date(u.expires);d.datePickerOpt.selDate=C,d.datePickerOpt.selHour=C.getHours(),d.datePickerOpt.selMin=C.getMinutes()}d.linkOption={},d.clipHints={},p.result.finally(function(){l.clear()});var D=function(){q.get(r.path).then(function(a){E(a)})},E=function(a){if("upgrade"===a.error)return void(d.sharingNotAllowedYet=!0);d.shareOwner={},d.collaborators=_.map(a,function(a){if(!a.is_group){var b=a.login.split(":");a.name=a.name?a.name:b[1],a.userid=b[1],a.owner&&a.userid==e.CurrentUser.userid&&(d.shareOwnerIsMe=!0)}return a}),(d.collaborators.length>1&&!1===d.item.shared||d.item.parent_company_published)&&(d.unsharable=!0),d.item.folder||(d.shareOwnerIsMe=!0),z()};E(s),d.invite={collaborators:[],comment:""},d.$on("$destroy",d.$watch("invite.collaborators",function(a){d.inviteCommentOpened=!(!a||!a.length),b.forEach(d.Invite.Form.$error,function(a,b){d.Invite.Form.$setValidity(b,!0)})},!0)),d.groupsList=[],A&&A.ready().then(function(){d.groupsList=b.copy(A.list()),z()}),e.CurrentUser.need_tutorial&&i(function(){var a=y.init_tour(!1,"auto",function(){e.CurrentUser.tutorial_company_shared=!0});a.addSteps([{element:"#company_folder_checkbox",title:b.cloudike.translate("STEP3. Create shared folder"),content:b.cloudike.translate("Check the box and click the [Done] button. Now the other users can see this folder in their folder list. Let's back to the company shared folder")}]),a.init(),a.resume()||a.end()?a.restart():a.start(!0)},500),d.updateGroupsList=function(){b.forEach(d.groupsList,function(a){var c=_.findWhere(d.invite.collaborators,{group_id:a.group_id});a.clDisabled||!a.clChecked||c||d.invite.collaborators.push({group_id:a.group_id,text:a.name+" ("+b.cloudike.translate("group")+")",name:a.name+" ("+b.cloudike.translate("group")+")"}),!a.clChecked&&c&&(d.invite.collaborators=_.without(d.invite.collaborators,c))})},d.goToGroups=function(){p.close(),f.go("profile.company.groups")},d.tagRemoved=function(a){var b=_.findWhere(d.groupsList,{group_id:a.group_id});b&&(b.clChecked=!1)},d.publicLinkDone=function(){d.form.linkOption&&d.form.linkOption.$dirty&&!linkCreated?n.confirm(b.cloudike.translate("Close without saving?"),b.cloudike.translate("You have changed public link options but not saved it. Do you want to create public link now?"),b.cloudike.translate("Yes, create public link"),b.cloudike.translate("No, close without saving")).then(d.deletePublicLink).then(function(){d.getPublicLink()},function(){d.$close()}):d.$close()},d.linkOptTextArr=[],d.linkOptText="",d.itemOptText="",linkCreated=!1;var F=function(){var a="",c=[];d.linkOptTextArr.length&&(b.forEach(d.linkOptTextArr,function(a){a&&c.push(a)}),c.length&&(a=" : ",a+=c.join(" + "))),d.linkOptText=a};d.showLinkHint=function(){n.confirm(b.cloudike.translate("You should disable link first to change options"),b.cloudike.translate("Do you want to disable and edit it now?"),b.cloudike.translate("Yes, disable link"),b.cloudike.translate("Cancel")).then(d.deletePublicLink).then(function(){d.linkOption.isOpened=!0})},d.linkProhibited=function(){l.pop("warning",b.cloudike.translate("Creating(or deleting) public link is prohibited"))},d.$watch("[pubLinkOpt, pubLinkParam, datePickerOpt]",function(a){!0===a[0].ttl&&a[2].selDate?(a[2].selDate.setHours(a[2].selHour,a[2].selMin),d.linkOptTextArr[0]=b.cloudike.translate("Active until")+" "+o("date")(a[2].selDate,"short")):d.linkOptTextArr[0]=null,!0===a[0].password&&a[1].password?d.linkOptTextArr[1]=b.cloudike.translate("password"):d.linkOptTextArr[1]=null,!0===a[0].download_max&&a[1].download_max>0?d.linkOptTextArr[2]=b.cloudike.translate("Max. Download")+": "+(d.item.download_count?d.item.download_count:0)+" / "+a[1].download_max:d.linkOptTextArr[2]=null,a[0].upload_folder?(a[1].password&&(a[1].password=null,d.linkOptTextArr[1]=null),a[1].download_max&&(a[1].download_max=null,d.linkOptTextArr[2]=null),d.linkOptTextArr[3]=b.cloudike.translate("Upload folder")):d.linkOptTextArr[3]=null,F()},!0),d.checkPassword=function(){(d.passwordTemporary||d.form.linkOption&&d.form.linkOption.password.$invalid)&&(d.pubLinkParam.password="PASSWORD",d.passwordTemporary=!1)},d.checkDownMax=function(){d.form.linkOption&&d.form.linkOption.download_max.$error.pattern&&(d.pubLinkParam.download_max="")},d.openDatePicker=function(){d.getMinDate(),d.datePickerOpt.isOpen||(d.datePickerOpt.selDate=d.datePickerOpt.selDate||d.datePickerMin,d.datePickerOpt.isOpen=!0)},d.dateChange=function(){(!d.datePickerOpt.selDate||d.datePickerOpt.selDate<d.datePickerMin)&&(d.datePickerOpt.selDate=d.datePickerMin),d.datePickerOpt.isOpen=!1};var G=function(){d.item.public_hash?(d.item.public_hash_url=f.href("public",{hash:d.item.public_hash},{absolute:!0}),c.fe.url_shortener&&(url_shortener=c.fe.url_shortener,url_shortener="/"!==url_shortener.charAt(url_shortener.length-1)?url_shortener+"/":url_shortener,d.item.public_hash_url=d.item.public_hash_url.replace(/^[\w]+\:\/\/[\d\w\.\:]+\/p\//,url_shortener))):d.item.public_hash_url=""};d.getPublicLink=function(){var a;if(d.item.public_hash)G();else{if(d.item.folder){(!d.pubLinkParam.download_max||d.form.linkOption&&d.form.linkOption.download_max.$error.pattern)&&(d.pubLinkOpt.download_max=!1),(!d.pubLinkParam.password||d.form.linkOption&&d.form.linkOption.password.$invalid)&&(d.pubLinkOpt.password=!1);for(var c in d.pubLinkOpt)d.pubLinkOpt[c]||delete d.pubLinkParam[c]}d.pubLinkOpt.ttl&&(a=new Date,a.setSeconds(0,0),d.pubLinkParam.ttl=Math.ceil((d.datePickerOpt.selDate-a)/1e3)),d.pubLinkParam.upload_folder=d.pubLinkOpt.upload_folder,k.one("links").post("create",b.extend(d.pubLinkParam,{path:d.item.path})).then(function(b){d.item.public_hash=b.public_hash,d.item.download_max=b.download_max,d.item.download_count=b.download_count,d.item.expires=b.expires,d.item.expires>a?d.item.time_left=(d.item.expires-a)/1e3:d.item.time_left=-1,d.item.password=b.password,d.item.access_rights=b.access_rights,G()},function(a){switch(a.status){case 403:l.pop("error",b.cloudike.translate("Creating(or deleting) public link is prohibited"));break;case 426:l.pop("error",b.cloudike.translate("Denied for users with plan expire"))}a.status})}},d.item.folder?G():d.getPublicLink(),d.deletePublicLink=function(){return l.clear(),k.one("links").post("delete",{path:d.item.path}).then(function(){d.item.public_hash="",d.item.public_hash_url=""},function(a){403===a.status&&l.pop("error",b.cloudike.translate("Creating(or deleting) public link is prohibited"))})},d.toggleRule=function(a){w.start();var c={path:d.item.path,writer:a.writer?1:0};a.is_group?b.extend(c,{group_id:a.group_id}):b.extend(c,{member_login:a.login}),k.one("shares").post("update_collaborator",c).then(function(){},function(){l.pop("error",b.cloudike.translate("Server error occurred during request processing"))},function(a){426===a.status&&l.pop("error",b.cloudike.translate("Denied for users with plan expire"))}),["finally"](function(){D(),w.complete()})},d.unshare=function(a){n.confirm(b.cloudike.translate("Do you really want to remove this user or group from collaborators?")).then(function(){w.start();var c={path:d.item.path};a.is_group?b.extend(c,{group_id:a.group_id}):b.extend(c,{member_login:a.login}),k.one("shares").post("uninvite",c).then(function(){D()}).finally(function(){w.complete()})})},d.unshareAll=function(){n.confirm(b.cloudike.translate("Do you really want to unshare this folder?")).then(function(){k.one("shares").post("unshare",{path:d.item.path}).then(function(){d.item.shared=!1,d.item.shared_hash="",d.sharedLink=null,D()})})},d.leave=function(a){n.confirm(b.cloudike.translate("Do you really want to leave this share?")).then(function(){k.one("shares").post("remove",{path:d.item.path,member_login:a.login}).then(function(){p.close()})})},d.Invite={Form:{}},d.sendInvites=function(){var a={},c=b.copy(d.invite.collaborators),e={};b.forEach(c,function(c){var f={path:d.item.path,invitation:d.invite.comment,writer:!0,public_links_forbidden:!1,lang:d.inviteUsersLang};c.group_id?b.extend(f,{group_id:c.group_id}):-1!=c.text.search("@")?b.extend(f,{member_login:(b.cloudike.isEmail(c.text)?"email:":"ldap:")+c.text}):b.extend(f,{member_login:"phone:"+c.text}),b.forEach(d.collaborators,function(a){a.name===c.name&&(e=!0),a.is_group&&b.forEach(d.users,function(b){b.logins[0].value===c.text&&(e[c.name]=_.contains(b.groups,a.group_id))})}),a[c.text]=k.one("shares").post("add",f)}),m.all(a).then(function(a){i(function(){b.forEach(_.keys(a),function(c,d){var f=a[c][0].login.split(":")[1];e[f]?l.pop("note",b.cloudike.translate("User {0} is already invited").format(f)):l.pop("note",b.cloudike.translate("All invites successfully sent"))})},0,!0,a),d.invite.collaborators=[],d.invite.comment=""}).catch(function(a){d.Invite.Form.$parseErrors(a),a.data&&d.Invite.Form.$setValidity(a.data.code,!1)}).finally(function(){D()})},d.getUserlistForAutocomplete=function(a){var c=[],f=_.reject(x.list(),function(a){return a.userid==e.CurrentUser.userid}),g=d.collaborators;return b.forEach(f,function(d){if(d.is_active){var e=_.find(d.logins,function(b){return b.value.toLowerCase().startsWith(a.toLowerCase())}),f=!1;b.forEach(d.name.split(" "),function(b){b.toLowerCase().startsWith(a.toLowerCase())&&(f=!0)});var h=!1;d.aliases&&d.aliases.length&&(h=_.find(d.aliases,function(b){return b.toLowerCase().startsWith(a.toLowerCase())}));var i=!1;i=_.some(g,function(a){return a.userid==d.userid}),(e||f||h)&&!i&&c.push({name:d.name,text:e?e.value:d.logins[0].value,logins:d.logins,aliases:d.aliases})}}),c},d.shareLink=function(e){var f,h=d.item.public_hash_url;switch("localhost"===g.$$host&&(h=h.replace(/localhost[\:\d]*/,"saas-web-dev.cloudike.com")),e){case"vk":f=["http://vkontakte.ru/share.php","?url="+encodeURIComponent(h)].join("");break;case"facebook":f=["https://www.facebook.com/sharer/sharer.php","?u="+encodeURIComponent(h),"&t="+encodeURIComponent(b.cloudike.pathAsFilename(d.item.path))].join("");break;case"twitter":var i=d.item.folder?b.cloudike.translate("Just shared folder {0} using #{1} {2}"):b.cloudike.translate("Just shared file {0} using #{1} {2}");f=["http://twitter.com/home","?status="+encodeURIComponent(i.format(b.cloudike.pathAsFilename(d.item.path),c.be.app_name,h))].join("");break;case"ok":f=["http://www.odnoklassniki.ru/dk","?st.cmd=addShare&st.s=1","&st.comments="+encodeURIComponent(b.cloudike.pathAsFilename(d.item.path)),"&st._surl="+encodeURIComponent(h)].join("")}f&&a.open(f,"share_link_dialog","width=626,height=436")},d.afterClipMessage=function(a){d.clipHints[a]=!0,h(function(){d.clipHints[a]=!1},2e3,1)},d.goToSettings=function(){p.close(),g.url("/profile/company")},d.downloadMaxPatternValidity=function(){d.pubLinkParam.download_max.match(/^[0-9]{1,8}$/)?d.form.linkOption.download_max.$setValidity("pattern",!0):d.form.linkOption.download_max.$setValidity("pattern",!1)},d.toggleCompanyVisibility=function(){var a=d.companyLink.isCompany?"add":"hide";w.start(),k.one("shares").one("company").post(a,{path:d.item.path}).then(function(){d.item.company_published="add"===a,i(function(){d.item.type=v.get(d.item)})},function(a){a.data&&"CompanyFolderAlreadyExists"===a.data.code?l.pop("error",b.cloudike.translate("Company folder with this name already exists")):a.data&&a.data.description&&l.pop("error",b.cloudike.translate(a.data.description)),d.companyLink.isCompany=!1}).finally(function(){w.complete()})}}]),d.directive("clShareType",["$filter",function(a){return{restrict:"AC",scope:{type:"=shareType",outSide:"=shareOutside",showTip:"=shareTip"},templateUrl:"clShareType/clShareType.tpl.html",link:function(b,c,d){switch(b.type){case"link":c.find(".icon-collab-tiny-circle").remove();break;case"share":c.find(".icon-link-tiny-circle").remove(),!0===b.outSide&&c.find(".icon-collab-tiny-circle").removeClass("text-success").addClass("text-danger");break;case"both":default:!0===b.outSide&&c.find(".icon-collab-tiny-circle").removeClass("text-success").addClass("text-danger")}!0===b.showTip&&!0===b.outSide&&(b.shareTip=a("translate")("Shared outside"))}}}]),d.directive("clShowDropZone",["$parse",function(a){return{link:function(c,d,e){var f=b.element(document.body),g=a(e.clShowDropZone);f.bind("dragover",function(){g(c)&&d.show()}),d.bind("mouseup dragend dragleave drop",function(){d.hide()})}}}]),d.directive("sidebarBottomPositioning",["$window",function(a){return{restrict:"A",link:function(c,d,e){function f(){var a=document.getElementById("sidebar-info");if(a&&a.getBoundingClientRect&&a.getBoundingClientRect()){var c=document.getElementsByClassName("metadata-tree")[0].getBoundingClientRect(),e=a.getBoundingClientRect(),f=15;e.top-f<=c.bottom?b.element(d).css({bottom:"auto",top:c.bottom+f+"px"}):b.element(d).removeAttr("style")}}function g(){setTimeout(f,0),setTimeout(f,500),setTimeout(f,1e3),setTimeout(f,1500),setTimeout(f,2e3)}g(),b.element(a).bind("resize",g),c.$on("$destroy",function(){b.element(a).unbind("resize",g)})}}}]),b.module("clSlideWidth",[]).directive("clSlideWidth",["$window",function(a){function c(a,c){a.width(e);var f=Math.min.apply(this,a.find(d).filter(":visible").map(function(){return b.element(this).parent().width()-b.element(this).width()}).toArray());a.width(a.width()-f),c&&b.element(c).css("marginLeft",a.width())}var d=".slide-item",e="100%";return{link:function(a,b,d){var e=_.debounce(function(){setTimeout(function(){c(b,d.clSlideWidth)},0)},100);a.$on("$destroy",a.$root.$watch("FolderTree.$timestamp",e)),a.$on("$destroy",a.$root.$on("$stateChangeSuccess",e))}}}]),b.module("clSortableTable",[]).directive("clSortableTable",["$rootScope","$parse","localstorageService",function(a,b,c){return{scope:!0,controller:["$scope","$attrs",function(b,c){var d="-folder";b.headings=[],b.currentSort=[d],this.registerHeading=function(a){b.headings.push(a)},this.addSortField=function(c,e,f,g){var h,i,j=-1;if(!f)for(h=0,i=b.headings.length;h<i;h++)b.headings[h].removeClass("b-sortable-cell__direction-asc").removeClass("b-sortable-cell__direction-desc");if(!0!==g)for(h=0,i=b.currentSort.length;h<i;h++){var k=b.currentSort[h].charAt(0),l=b.currentSort[h].substring(1);if(c===l){"-"===k?(k="+",e.removeClass("b-sortable-cell__direction-desc").addClass("b-sortable-cell__direction-asc")):(k="-",e.removeClass("b-sortable-cell__direction-asc").addClass("b-sortable-cell__direction-desc")),b.currentSort[h]=k+l,j=h;break}}if(f){if(-1===j){var m="+"+c;for(h=b.currentSort.length;h-- >0&&b.currentSort[h]!==m;);-1===h&&b.currentSort.push("+"+c),e.addClass("b-sortable-cell__direction-asc")}}else-1===j?(b.currentSort=["+"+c],e.addClass("b-sortable-cell__direction-asc")):b.currentSort=[b.currentSort[j]];for(h=b.currentSort.length;h-- >0&&b.currentSort[h]!==d;);-1===h&&(b.currentSort=[d].concat(b.currentSort)),a.$emit("clSortableTable:changeSort",b.currentSort)}}],link:{pre:function(a,c,d){a.currentSort=b(d.clSortableTableSort)(a)}}}}]).directive("clSortableTableColumn",function(){return{require:"^clSortableTable",link:function(a,d,e,f){if(!e.clSortableTableColumn)return c;d.bind("click",function(b){a.$apply(function(){f.addSortField(e.clSortableTableColumn,d,!!b.ctrlKey)})}),d.addClass("b-sortable-cell"),f.registerHeading(d),b.forEach(a.currentSort,function(a){var b=(a.charAt(0),a.substring(1));e.clSortableTableColumn===b&&f.addSortField(b,d,!0,!0)})}}}),b.module("clStrongPasswordValidator",[]).directive("clStrongPasswordValidator",["serviceAsynchronousLoader","CONST",function(a,b){return{restrict:"A",require:"ngModel",scope:{score:"=clStrongPasswordValidator"},link:function(b,c,d,e){function f(){return zxcvbn(e.$viewValue).score}b.score=null,b.ctrl=e,a.load("/assets/zxcvbn.js").then(function(){b.$watch("ctrl.$viewValue",function(a){void 0!==a&&(b.score=f())})})}}}]),d.directive("clSwipeBar",function(){var a={triggerOnTouchEnd:!0,allowPageScroll:"vertical",threshold:10,excludedElements:".noSwipe"};return{restrict:"A",link:function(d,e,f){if(!b.element.fn.swipe)return c;var g=e.get(0),h=e.children().get(0),i=null,j=null,k=b.extend({swipeStatus:function(a,b,d,f){if("left"!==d&&"right"!==d)return c;null===i&&(i=h.offsetLeft,j=g.offsetWidth-h.scrollWidth);var k="right"==d?1:-1;if("move"===b){var l=i+f*k;l=l>0?0:l,l=l<j?j:l,h.style.left=l+"px",e.removeClass("is-untouch")}else"end"===b&&(i=null)}},a,d.$eval(f.clSwipeBar)||{});e.addClass("b-swipe-bar is-untouch").swipe(k),d.$on("$destroy",function(){e.swipe("destroy")})}}}),d.directive("clSwipePreview",function(){var a={triggerOnTouchEnd:!0,allowPageScroll:"vertical",threshold:10,excludedElements:".noSwipe"};return{restrict:"A",scope:{clSwipePreviewLeft:"=",clSwipePreviewRight:"=",clSwipePreviewOnend:"="},link:function(d,e,f){if(!b.element.fn.swipe)return c;var g=b.extend({swipeStatus:function(a,b,f,g){if("left"!==f&&"right"!==f)return c;if("left"===f&&!d.clSwipePreviewLeft)return c;if("right"===f&&!d.clSwipePreviewRight)return c;var h="right"==f?1:-1;"move"===b?e.css("left",g*h):"end"===b&&(e.addClass("hide-by-swipe").css("left",9999*h+"px"),setTimeout(function(){e.removeClass("hide-by-swipe").css("left","0"),"function"==typeof d.clSwipePreviewOnend&&d.clSwipePreviewOnend(a,f,g)},500))}},a,d.$eval(f.clSwipePreview)||{});e.swipe(g),d.$on("$destroy",function(){e.swipe("destroy")})}}}),b.module("clTour",[]).factory("clTour",function(){var a,c=b.cloudike.translate("PREV"),d=b.cloudike.translate("NEXT"),e=b.cloudike.translate("OK, I'll do it"),f="<div class='popover tour'><div class='arrow'></div><h3 class='popover-title tutorial'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-primary' data-role='prev'>"+c+"</button><span data-role='separator'>|</span><button class='btn btn-primary' data-role='next'>"+d+"</button><button class='btn btn-primary' data-role='end' translate>"+e+"</button></div></div>",g="<div class='popover tour'><div class='arrow'></div><h3 class='popover-title tutorial'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-primary' data-role='end' translate>"+e+"</button></div></div>";return{init_tour:function(b,c,d){return a=new Tour({redirect:!0,debug:!0,placement:c,template:b?f:g,onEnd:d})}}}),b.module("clUnsupportBrowser",[]).factory("clUnsupportBrowser",["$modal",function(a){var b={modal:function(){return a.open({backdrop:"static",templateUrl:"clUnsupportBrowser/clUnsupportBrowser.tpl.html",size:"md"})},once:function(){var a;return function(){return a||(a=b.modal())}}()};return b}]),b.module("clVCard",[]).factory("clVCard",function(){function a(a){var b=a?a.split(" "):[];b.length>2&&(b[2]=b.splice(2,b.length-2).join(" "));var c={prefix:"",postfix:"",familyName:"",name:b[0]?b[0]:"",addName:""};return 2==b.length?c.familyName=b[1]?b[1]:"":b.length>2&&(c.addName=b[1]?b[1]:"",c.familyName=b[2]?b[2]:""),[c.familyName,c.name,c.addName,c.prefix,c.postfix]}function c(a){if("n"===a)return{value:[]};var b=i[a],c={value:""};return"adr"===a&&(c={value:[],compiled:""}),b&&b.types&&(c.meta={type:[b.types[0]]}),c}function d(a){return b.forEach(_.keys(i),function(b){!i[b].defaultShow||a.hasOwnProperty(b)&&0!==a[b].length||(a[b]=[c(b)])}),b.forEach(a.adr,function(a){a.compiled=a.value.join(" ").trim()}),b.forEach(a.n,function(a){a.compiled=a.value.join(" ").trim()}),a}function e(c){return c.n[0].value=a(c.fn[0].value),b.forEach(c.adr,function(a){a.value=[a.compiled,"","","","","",""]}),c}function f(a,b,d){a[b].splice(d,1);var e=i[b];return 0===a[b].length&&!1!==e.defaultShow&&a[b].push(c(b)),a}function g(a,b){var d=c(b);return a[b]?a[b].push(d):a[b]=[d],a}function h(a){if(0===_.keys(a).length)return!0;for(var b=_.keys(i),c=0;c<b.length;c++)if(a[b[c]])for(var d=0;d<a[b[c]].length;d++){var e=a[b[c]][d];if(""!==e[i[b[c]].valueField])return!1}return!0}var i={n:{multiple:!1,defaultShow:!0,valueField:"compiled"},fn:{multiple:!1,defaultShow:!0,valueField:"value"},org:{multiple:!1,defaultShow:!0,valueField:"value"},email:{multiple:!0,defaultShow:!0,types:["WORK","HOME","PERSONAL"],valueField:"value"},tel:{multiple:!0,defaultShow:!0,types:["MOBILE","HOME","WORK"],valueField:"value"},adr:{multiple:!0,defaultShow:!0,types:["WORK","HOME","PERSONAL"],valueField:"compiled"},url:{multiple:!0,defaultShow:!1,types:["PROFILE","BLOG","WORK"],valueField:"value"}};return{prepareForEdit:d,prepareForSave:e,removeValue:f,addValue:g,isEmpty:h,fieldsConfig:i}}),d.directive("clVideo",["$interval",function(a){return{scope:{item:"=clVideo"},templateUrl:"clVideo/clVideo.tpl.html",link:function(b,c,d){b.$on("$destroy",b.$watch("item",function(){b.playVideo=!1,b.sources=[{mime:"video/mp4",src:b.item.extradata&&b.item.extradata.videos&&b.item.extradata.videos.vga&&b.item.extradata.videos.vga.link?b.item.extradata.videos.vga.link:""},{mime:b.item.mime_type,src:b.item.file&&b.item.file.url?b.item.file.url:""}]},!0)),b.start=function(){_.filter(b.sources,function(a){return a.src}).length&&(b.playVideo=!0,a(function(){b.startPlaying()},500,1))},b.startPlaying=function(){var a=c.find("video");a.length&&a.get(0).play()}}}}]),d.controller("DriveBaseCtrl",["CONST","$scope","$rootScope","$window","$q","$filter","clFileUploaderService","clUnsupportBrowser",function(a,c,d,e,f,g,h,i){var j=a.be.page_size||50;e.scrollTo(0,0),c.basePasteImage=function(a,c,d){var g=f.defer();return e.XMLHttpRequest&&e.FormData?(h.upload.call({method:"POST",drivePath:a,filename:c,uploader:{uploadAll:function(){},uploadItem:function(a){var c=new XMLHttpRequest,e=h.getFormData(a,d);c.onload=function(){h.onSuccessItem(a).then(g.resolve)},c.open(a.method,a.url,!0),b.forEach(a.headers,function(a,b){c.setRequestHeader(b,a)}),c.send(e)}}}),g.promise):(g.reject(),g.promise)},d.ClientStatus.isSupported||i.once(),c.$on("$destroy",d.$on("drive:contentmode",function(a,d){c.mode=d,setTimeout(function(){b.element("table.table").addClass("overflow-visible").addClass("overflow-hidden"),setTimeout(function(){b.element("table.table").removeClass("overflow-visible"),setTimeout(function(){b.element("table.table").removeClass("overflow-hidden")})})})})),d.$emit("gridOptions",c.gridOptions),c.$on("$destroy",d.$on("clSortableTable:changeSort",function(d,e){if(b.extend(c.currentSort,{rule:e}),a.fe.metadataWaitForComplete&&c.metadata.$allcontent&&c.metadata.content.length){var f=g("naturalOrderBy")(c.metadata.$allcontent,c.currentSort.rule);c.metadata.$allcontent.splice(0,c.metadata.$allcontent.length),c.metadata.$morecontent.splice(0,c.metadata.$morecontent.length),c.metadata.content.splice(0,c.metadata.content.length),Array.prototype.push.apply(c.metadata.$allcontent,f),Array.prototype.push.apply(c.metadata.$morecontent,f),Array.prototype.push.apply(c.metadata.content,c.metadata.$morecontent.splice(0,j))}})),setTimeout(function(){b.element("table.table").addClass("overflow-visible").addClass("overflow-hidden"),setTimeout(function(){b.element("table.table").removeClass("overflow-visible"),setTimeout(function(){b.element("table.table").removeClass("overflow-hidden")})})})}]),d.controller("ModalFilePreviewBaseCtrl",["CONST","$scope","$rootScope","$modalInstance","$state","$stateParams","$window","$q","$filter","$timeout","Restangular","cfpLoadingBar","toaster","clActionHandler","clImagePreloader","clFileUploaderService","metadata","currentSort","opts","usersServList","fileCommentsService",function(a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(a,b){return w.post(a,b,d.commentText.type,d.commentText.use_date?Math.ceil(d.commentText.due_date):"").then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;o.pop("note",k("translate")("Comment added"))},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})}function y(a,b,c){return w.edit(a,b,c).then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;o.pop("note",k("translate")("Comment changed"))},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})}if(d.metadata=s,d.contentItems=s.content,d.currentSort=t,d.opts=u,d.extFlags={},d.selectedItems=[],d.screenfull=i.screenfull||{element:null},d.defaultPreviewTemplate="clFilePreview/previewOther.tpl.html",d.previewableItem={image:{needUrlForPreview:!1,showInCarousel:!0,template:"clFilePreview/previewImage.tpl.html"},video:{needUrlForPreview:!1,showInCarousel:!1,template:function(a){try{var b=document.createElement("video");if(!(b.canPlayType(a.mime_type)||a.extradata.videos&&a.extradata.videos.vga&&a.extradata.videos.vga.link&&b.canPlayType("video/mp4")))throw new Error}catch(a){return d.defaultPreviewTemplate}return"clFilePreview/previewVideo.tpl.html"}},audio:{needUrlForPreview:!0,showInCarousel:!1,template:function(a){try{if(!document.createElement("audio").canPlayType(a.mime_type))throw new Error}catch(a){return d.defaultPreviewTemplate}return"clFilePreview/previewAudio.tpl.html"}},ebook_adobe:{needUrlForPreview:!0,showInCarousel:!1,classname:"pdf-view",template:function(a){return a.extradata&&a.extradata.pdf&&"error"!==a.extradata.pdf.status&&e.CurrentUser&&(e.CurrentUser.can_download||e.CurrentUser.use_watermarks)||e.link_metadata&&(e.link_metadata.can_download||e.link_metadata.use_watermarks)?"clFilePreview/previewAdobe.tpl.html":"clFilePreview/previewOther.tpl.html"}},document_text:{needUrlForPreview:!0,showInCarousel:!1,classname:function(a){return a.extradata&&a.extradata.pdf?"pdf-view":""},template:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"clFilePreview/previewAdobe.tpl.html":"clFilePreview/previewOther.tpl.html"}},document_office:{needUrlForPreview:!0,showInCarousel:!1,classname:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"pdf-view":""},template:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"clFilePreview/previewAdobe.tpl.html":"clFilePreview/previewOther.tpl.html"}},spreadsheet_office:{needUrlForPreview:!0,showInCarousel:!1,classname:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"pdf-view":""},template:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"clFilePreview/previewAdobe.tpl.html":"clFilePreview/previewOther.tpl.html"}},presentation_office:{needUrlForPreview:!0,showInCarousel:!1,classname:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"pdf-view":""},template:function(a){return a.extradata&&a.extradata.pdf&&a.extradata.pdf.link?"clFilePreview/previewAdobe.tpl.html":"clFilePreview/previewOther.tpl.html"}}},d.updateContentItems=function(){d.contentItems=d.metadata.content,d.contentItems=k("filter")(d.contentItems,d.filterMetadata),d.contentItems=k("naturalOrderBy")(d.contentItems,d.currentSort.rule)},d.mergeAnotherVersionToItem=function(a){return b.extend(d.currentItem,{version:a.version},a.content)},d.findItemByPath=function(a){return _.find(d.metadata.content,function(b){return b.path===a})},d.checkPreview=function(a){return a&&("video"==a.icon||"image"==a.icon)&&a.extradata&&a.extradata.thumbnails},d.onSwipeEnd=function(a,b,c){var e=("left"===b?d.nextItem||{}:d.prevItem||{}).path;e&&(d.isLoading=!0,d.$$apply(),g.go(g.$current.name,{file:e}))},d.filterMetadata=function(a){return!a.folder&&d.previewableItem[a.icon]&&d.previewableItem[a.icon].showInCarousel&&d.checkPreview(a)},d.changeFlag=function(a,c){d.extFlags[a]=arguments.length>1?!!c:!d.extFlags[a],"versionPanel"===a&&d.extFlags[a]?d.checkVersions():d.extFlags.versionPanel=!1,"commentsPanel"===a&&d.extFlags[a]?d.checkComments():d.extFlags.commentsPanel=!1;var e=b.element("button.btn.right-btn");e.length&&(e[0].style.right=c?"calc(300px + 2%)":""),d.holdScreen=function(a){a.stopPropagation()}},d.changeVersion=function(a,b){a.preventDefault(),e.$emit("preview.update",d.mergeAnotherVersionToItem(b))},d.action=function(a,b){var c=d.getActionRequest(a,b);c&&c.then(function(){"remove"!==a&&"onlyMove"!==a||d.$close(),g.current.versionShortcut&&(d.changeFlag("versionPanel",!0),g.current.versionShortcut=!1)})},d.getActionRequest=function(a,c){return p[a]({currentFolder:s,selectedItems:b.isArray(c)?c:[c],namespace:"folder-contents"})},d.updatePreview=function(){if(d.updatePreviewPositionInList(),!d.currentItem)return d.$close();d.indicateLoading(d.currentItem),d.preUpdatePreview(),d.extFlags.versionPanel&&d.checkVersions(),d.extFlags.commentsPanel&&d.checkComments(),d.currentItem.extradata.pdf&&!d.currentItem.extradata.pdf.isReseted&&d.checkPdf(),d.checkMedia(),e.$emit("preview.update.done"),"function"==typeof d.onUpdatePreview&&d.onUpdatePreview()},d.updatePreviewPositionInList=function(){if(d.currentItem=d.prevItem=d.nextItem=null,d.currentItem=d.findItemByPath(h.file),!d.currentItem)return c;for(var a=-1,b=0,e=d.contentItems.length;b<e;b++)if(d.contentItems[b].path===d.currentItem.path){a=b;break}-1!==a&&(a<d.contentItems.length-1&&(d.nextItem=d.contentItems[a+1]),a>0&&(d.prevItem=d.contentItems[a-1]))},d.preUpdatePreview=function(){if(!d.currentItem)return c;d.currentItem.needUrlForPreview=!!d.previewableItem[d.currentItem.icon]&&d.previewableItem[d.currentItem.icon].needUrlForPreview,d.currentItem.previewIsNotReady=!1,d.previewTemplate=d.defaultPreviewTemplate,d.previewableItem[d.currentItem.icon]&&(d.currentItem.needUrlForPreview||d.currentItem.extradata&&d.currentItem.extradata.thumbnails&&d.currentItem.extradata.thumbnails.preview?d.previewTemplate=b.cloudike.result(d.previewableItem[d.currentItem.icon],"template",d.currentItem):d.currentItem.needUrlForPreview||(d.currentItem.previewIsNotReady=!0),d.previewClassname=b.cloudike.result(d.previewableItem[d.currentItem.icon],"classname",d.currentItem))},d.indicateLoading=function(a){if(d.isLoading=!1,a&&"image"===a.icon){d.isLoading=!0;try{var b=new Image;b.onload=b.onerror=function(){d.isLoading=!1,d.$$apply()},b.src=a.extradata.thumbnails.preview.link}catch(a){d.isLoading=!1}}},d.getDowmloadUrl=function(a,e){var f={download:1,get_download_url:1,version:e||c};h.hash&&b.cloudike.getLinkKey&&(f.password=b.cloudike.getLinkKey(h.hash));var g=m.withNoneSuffixConfig().one(d.opts.urlMethod||"files");return g="albums"==d.opts.urlMethod?g.one(h.hash||"").one(currentItem.hash+"/"):g.one("get").one(h.hash||"").metadataPath(a),g.get(f)},d.downloadFile=function(a,b){n.start(),d.getDowmloadUrl((b||d.currentItem).path,a).then(function(a){n.complete(),a.url&&(location.href=a.url)},function(a){n.complete(),403===a.status?o.pop("error",k("translate")("Exceed maximum number of download")):o.pop("error",k("translate")("Download error"))})},d.checkVersions=function(){if(h.hash||d.currentItem.version_loaded)d.currentItem.versions=d.currentItem.versions||[];else{var a=d.currentItem.path;m.withNoneSuffixConfig().one("files").one("versions").metadataPath(a).get().then(function(a){d.currentItem.version_loaded=!0,d.currentItem.versions=a},function(){d.currentItem.versions=[]})}},e.CurrentUser){d.userList=v.list(),d.curUserId=e.CurrentUser.userid,d.commentText={value:"",type:"text",due_date:new Date,use_date:!1},d.lastEditedComment={},d.comment_filter={type:"all",assignments:"all",status:"all"};var z=b.element('textarea[name="comment-text"]');d.$watchCollection("commentText.value",function(a){a&&(d.commentText.type=w.parseUsers(a).length>0?"task":"text")})}d.isMyComment=function(a){return a.owner_id==d.curUserId},d.checkComments=function(){if(h.hash||d.currentItem.comments_loaded)d.currentItem.comments=d.currentItem.comments||[];else{var a=d.currentItem.path;w.get(a,!0).then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;d.currentItem.comments_loaded=!0,d.currentItem.comments=a},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})}},d.clearFormAction=function(){d.commentText={value:"",type:"text",due_date:new Date,use_date:!1},d.editingComment="",delete d.lastEditedComment,z.focus()},d.addCommentAction=function(a){if(!h.hash){var b=d.currentItem.path;d.lastEditedComment&&Object.keys(d.lastEditedComment).length>0?y(b,a.value,d.lastEditedComment.id):x(b,a.value)}d.clearFormAction()},d.deleteCommentAction=function(a){if(!h.hash){var b=d.currentItem.path;w.delete(b,a.id).then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;o.pop("note",k("translate")("Comment deleted"))},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})}},d.updateCommentAction=function(a){w.update(a.assignments[0].id,a.assignments[0].status).then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;o.pop("note",k("translate")("Comment updated"))},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})},d.replyComment=function(a){d.commentText.value="@"+k("getUserName")(a.owner_id)+" ",z.focus()},d.editCommentAction=function(a){d.commentText.value=a.text,d.editingComment=a.text,d.lastEditedComment=a,z.focus()},d.filterComment=function(){if(h.hash)d.currentItem.comments=d.currentItem.comments||[];else{var a=d.currentItem.path;w.get(a,"",d.comment_filter).then(function(a){if(a.status&&200!==a.status)return o.pop("error",k("translate")("There is an error occurs while getting response from server")),!1;d.currentItem.comments_loaded=!0,d.currentItem.comments=a},function(a){o.pop("error",k("translate")("There is an error occurs while getting response from server"))})}},d.checkMedia=function(){if("audio"!==d.currentItem.icon&&"video"!==d.currentItem.icon)return c;d.currentItem.file||(d.isLoading=!0,d.getDowmloadUrl(d.currentItem.path).then(function(a){d.isLoading=!1,d.currentItem.file=a},function(){d.isLoading=!1}))},d.checkPdf=function(){if("ebook_adobe"===d.currentItem.icon)return d.currentItem.file&&d.currentItem.extradata.pdf.link||(d.isLoading=!0,d.getDowmloadUrl(d.currentItem.path,d.currentItem.version).then(function(a){d.isLoading=!1,d.currentItem.file=a},function(){d.isLoading=!1})),c;if(!d.currentItem.extradata.pdf)return c;if("ready"===d.currentItem.extradata.pdf.status||d.currentItem.extradata.pdf.link)return c;if("possible"===d.currentItem.extradata.pdf.status){d.currentItem.extradata.pdf.status="waiting";var a=l(d.resetPdf,3e5);d.isLoading=!0,d.converToPdf(d.currentItem).then(function(b){l.cancel(a)},function(){l.cancel(a),d.resetPdf()})}else"waiting"!==d.currentItem.extradata.pdf.status&&d.resetPdf()},d.converToPdf=function(a){return m.one(d.opts.urlMethod||"files").post("create_extra",{path:d.currentItem.path,hash:h.hash||c,version:a.version})},d.resetPdf=function(){d.currentItem&&(d.currentItem.extradata.pdf.status="error",d.currentItem.extradata.pdf.isReseted=!0,d.updatePreview())},d.showSharingDialog=function(){p.share({selectedItems:[d.currentItem]})},d.appendToMyCloudike=function(){p.appendToMyCloudike({currentFolder:s})},d.restoreVersion=function(a){if(!a)return c;var b={path:d.currentItem.path,version:a};n.start(),m.one("files").post("restore",b).then(function(a){n.complete(),o.pop("note",k("translate")("File was restored to version dated {0}").format(k("date")(a.version,"short")))},function(){n.complete()})},d.toggleFullScreenMode=function(){d.changeFlag("versionPanel",!1);var a=b.element("div.modal.fullscreen:first");a=a.length?a[0]:document.body,d.screenfull.toggle(a),d.changeFlag("fullScreen",!!d.screenfull.element)},d.baseKeyHandler=function(a){d.checkPreview(d.currentItem)&&(39==a.keyCode&&d.nextItem&&g.go(g.current,{file:d.nextItem.path}),37==a.keyCode&&d.prevItem&&g.go(g.current,{file:d.prevItem.path}))},b.element("body").on("keydown",d.baseKeyHandler),d.$on("$destroy",function(){b.element("body").off("keydown",d.baseKeyHandler)}),q.start(d.contentItems),d.$on("$destroy",q.stop),d.$on("$destroy",d.$watchCollection("metadata.content",function(a,b){d.updateContentItems(),a!==b&&d.updatePreview()})),d.$on("$destroy",e.$on("preview.update",function(){d.updatePreview()})),d.$on("$destroy",d.$watch("currentItem.extradata.thumbnails",function(a,b){a!==b&&b!==c&&"image"!==d.currentItem.icon&&d.updatePreview()})),d.$on("$destroy",d.$watch("currentItem.extradata.pdf",function(a,b){a!==b&&d.currentItem&&"ebook_adobe"!==d.currentItem.icon&&d.updatePreview()})),d.$on("$destroy",d.$watchCollection("currentItem.versions",function(a,c){a!==c&&d.currentItem&&b.isArray(d.currentItem.versions)&&d.currentItem.versions.length&&d.mergeAnotherVersionToItem(d.currentItem.versions[0])})),f.result.finally(function(){d.screenfull.element&&d.screenfull.exit()}),function(){var a=d.screenfull.element,b=setInterval(function(){a!==d.screenfull.element&&(a=d.screenfull.element,l(function(){d.changeFlag("fullScreen",!!d.screenfull.element)}))},1e3);d.$on("$destroy",function(){clearInterval(b)})}(),l(function(){$modal=b.element("div.modal.fullscreen:first"),d.updatePreview()})}]),d.controller("PromocodesBaseCtrl",["CONST","$scope","$rootScope","$timeout","Restangular",function(a,d,e,f,g){d.formPromoCode={visible:!1,promo_code:""},d.requestInProgress=!1,d.showPromoCodeForm=function(){delete d.promoInfo,d.formPromoCode.promo_code="",d.formPromoCode.visible=!0},d.hidePromoCodeForm=function(){d.formPromoCode.promo_code="",d.formPromoCode.visible=!1},d.sendPromoCode=function(h){if(!h.$valid||!e.CurrentUser.userid)return c;d.requestInProgress=!0,g.setOneBaseUrl(a.be.billingapi,b.cloudike.transformRequestToJson).one("users",e.CurrentUser.userid).post("promocodes",{code:d.formPromoCode.promo_code},null,{"Content-Type":"application/json"}).then(function(a){d.promoInfo=a,f(function(){delete d.promoInfo,d.formPromoCode.visible=!1},3e3),f(function(){e.$emit("CurrentUser.update")},3e4),f(function(){e.$emit("CurrentUser.update")},6e4),f(function(){e.$emit("CurrentUser.update")},9e4)},function(){h.$parseErrors(b.cloudike.translate("Invalid promo code"))}).finally(function(){d.requestInProgress=!1})}}]),d.controller("SidebarBottomCtrl",["$scope","Restangular","$window",function(a,b,c){a.getLink=function(a){var d=c.open()||c;b.one("soft").one("get_version").get({platform:a}).then(function(a){a.version.link?d.location=a.version.link:d.close()},function(){d.close()})}}]),b.module("dialog",["ui.bootstrap"]).factory("dialog",["$modal","$filter",function(a,b){return{alert:function(c,d,e,f){return 1==arguments.length&&(d=c,c=b("translate")("Alert")),e=e||"Ok",a.open({backdrop:"static",windowClass:"b-dialog "+f,template:['<div class="modal-header">','<button type="button" class="close" ng-click="$close()" aria-hidden="true"><i class="icon icon-cross"></i></button>','<div class="container-fluid">','<div class="row">','<div class="col-md-12"><h3><strong>'+c+"</strong></h3></div>","</div>","</div>","</div>",'<div class="modal-body">','<div class="container-fluid">','<div class="row">','<div class="col-md-12">'+d+"</div>","</div>","</div>","</div>",'<div class="modal-footer">','<div class="container-fluid">','<div class="row">','<div class="col-md-12 text-left">','<button type="button" class="btn btn-primary btn-lg btn-wide" ng-click="$close()">'+e+"</button>","</div>","</div>","</div>","</div>"].join("")}).result},confirm:function(c,d,e,f,g){return 1==arguments.length&&(d=c,c=b("translate")("Confirm")),e=e||b("translate")("Yes"),f=f||b("translate")("No"),a.open({backdrop:"static",windowClass:"b-dialog "+g,template:['<div class="modal-header">','<button type="button" class="close" ng-click="$dismiss()" aria-hidden="true"><i class="icon icon-cross"></i></button>','<div class="container-fluid">','<div class="row">','<div class="col-md-12"><h3><strong>'+c+"</strong></h3></div>","</div>","</div>","</div>",'<div class="modal-body">','<div class="container-fluid">','<div class="row">','<div class="col-md-12">'+d+"</div>","</div>","</div>","</div>",'<div class="modal-footer">','<div class="container-fluid">','<div class="row">','<div class="col-md-12 text-left">','<button type="button" class="btn btn-primary btn-lg btn-wide" ng-click="$close()">'+e+"</button>",'<button type="button" class="btn btn-primary btn-lg btn-wide" ng-click="$dismiss()">'+f+"</button>","</div>","</div>","</div>","</div>"].join("")}).result}}}]),b.module("jqEllipsis",[]).directive("jqEllipsis",["$timeout",function(a){return{restrict:"AC",link:function(b,c,d){var e={row:d.jqEllipsisRow||2,position:d.jqEllipsisPos||"middle"};a(function(){c.html()&&!b.hasEllipsis&&(c.addClass("ellipsis"),c.ellipsis(e),b.hasEllipsis=!0)})}}}]),b.module("eventsService",[]).factory("eventsService",["Restangular",function(a){return{get:function(c){return c=b.extend({limit:50},c),a.one("events").get(c)}}}]),b.module("fileCommentsService",[]).factory("fileCommentsService",["$rootScope","Restangular","cfpLoadingBar","usersService",function(a,b,d,e){var f=[],g=[],h=[];if(h=e.list(),!h.length){if(!a.CurrentUser)return;e.ready().then(function(a){h=a},function(){h=[]})}return{get:function(a,c,e){return c&&(g=[]),d.start(),g[a]=b.withNoneSuffixConfig().one("workflow").one("comments").metadataPath(a).get("").then(function(b){return f[a]=b,f[a]},function(a){return a}).finally(function(){d.complete()}),g[a]},post:function(a,c,e,g){var h={};return d.start(),e=e||"text","text"!==e&&(h={type:e,assignments:this.parseUsers(c),due_date:g}),h.text=c,b.withNoneSuffixConfig().one("workflow").one("comment").one("create").metadataPath(a).post("",h).then(function(b){return f[a].push(b.plain()),b},function(a){return a}).finally(function(){d.complete()})},parseUsers:function(a){var b=[],c=a.match(/@\w*\b/gi);if(c&&c.length&&h.length)for(var d=0,e=c.length;d<e;d++){var f=this.getUserId(c[d]);f&&b.push(f)}return b},getUserId:function(a){var b=e.getUserByName(a.substr(1));return b?b.userid:c},edit:function(a,c,e){return d.start(),b.withNoneSuffixConfig().one("workflow").one("comment").one("update").one("").post("",{comment_id:e,text:c}).then(function(b){var c=_.findIndex(f[a],function(a){return a.id==e});return f[a][c]=b.plain(),b},function(a){return a}).finally(function(){d.complete()})},delete:function(a,c){return d.start(),b.withNoneSuffixConfig().one("workflow").one("comment").one("delete").one("").post("",{comment_id:c}).then(function(b){var d=_.findIndex(f[a],function(a){return a.id==c});return f[a].splice(d,1),!0},function(a){return a}).finally(function(){d.complete()})}}}]),b.module("ngFileUploader",["angularFileUpload"]).factory("clFileUploaderService",["CONST","$rootScope","$q","$http","$translt","Restangular","FileUploader","toaster","dialog",function(a,d,e,f,g,h,i,j,k){function l(){}var m={CONTENTTYPE:"application/octet-stream",PATHSEP:a.fe.pathsep,confirm:!1},n={status:400,response:{},getAllResponseHeaders:function(){return[]}},o={opts:m,uploader:d.uploader,config:function(a){return b.extend(m,a||{})},getFormData:function(a,d){var e;try{e=new FormData}catch(a){return c}return b.forEach(a.formData,function(a){b.forEach(a,function(a,b){e.append(b,a)})}),e.append("file",d,a.filename),e},cancel:function(){this.uploader.cancelItem(this),this.isReady=!1,this.isUploaded=!0,this.userHalt=!0},rm:function(){this.isUploading=!1,this.remove()},isEmptyAfterSelection:function(){return!1},upload:function(){function d(){e.isReady=!1,e.isUploaded=!0,e.hasError=!0,e.uploader.getNotUploadedItems().length?e.uploader.uploadAll():e.uploader.onCompleteAll()}var e=this,f=e._file,i=(f||{}).relativePath;if(!0===e.$inProcess)return c;if(e.$inProcess=!0,!0!==e.$needUpload&&f&&"string"==typeof i&&-1!==i.indexOf(m.PATHSEP)){var l=e.storagePath.replace(/\/$/,"");return h.one("fileops").post("folder_create",{path:l}).finally(function(){e.$needUpload=!0,e.$inProcess=!1,e.upload()}),c}h.one("files").post("create",{size:f.size,path:b.cloudike.path(e.storagePath,e.filename||e.file.name),overwrite:"number"==typeof e.$overwrite?e.$overwrite:+!m.confirm}).then(function(c){if(e.$inProcess=!1,!e.uploader.isHTML5&&a.be.uploadproxy){var d=c.url;c.url=a.be.uploadproxy,c.url+=(-1===c.url.indexOf("?")?"?":"&")+"url="+d}if(c.method&&(e.method=c.method),e.formData=b.cloudike.formData({},c.parameters,c.headers),e.url=c.url,e.confirm_url=c.confirm_url,!e.uploader.isHTML5&&a.be.confirm_url&&e.confirm_url){var f="/confirm/";confirm_url=e.confirm_url,confirm_url=confirm_url.substring(confirm_url.lastIndexOf(f)+f.length),e.confirm_url=a.be.confirm_url.replace(/[\/]+$/,"")+"/"+confirm_url}-1!==e.uploader.getIndexOfItem(e)&&e.uploader.uploadItem(e)},function(a){e.$inProcess=!1,402===a.status&&"SizeQuotaExceededError"===a.data.code&&j.pop("error",g("You have exceeded the quota on size of storage, you can only read and remove files.")),409==a.status?k.confirm(g('File named "{{filename}}" already exist',{filename:e.filename||e.file.name}),g("Do you really want to overwrite it?"),g("Yes, overwrite it")).then(function(){e.$overwrite=1,e.upload()},d):426===a.status?j.pop("error",b.cloudike.translate("Denied for users with plan expire")):d()})},onDrop:function(a){function d(a,b){return a.relativePath=b.substring(1),a}function f(a,c){var g=e.defer(),c=c||[];return a.createReader().readEntries(function(a){var h=[];b.forEach(a,function(a){var b=e.defer();if(h.push(b.promise),a.isFile){var g=a.fullPath;a.file(function(a){c.push(d(a,g)),b.resolve()},b.reject)}else a.isDirectory&&f(a,c).then(b.resolve,b.reject)}),e.all(h).finally(function(){g.resolve(c)})},g.reject),g.promise}function h(a){var g=[],h=[];return b.forEach(a.items,function(a){var b=a.webkitGetAsEntry();if(!b)return c;b.isFile?h.push(d(a.getAsFile(),b.fullPath)):g.push(f(b,h))}),e.all(g).then(function(a){return h})}return function(d){d.preventDefault(),d.stopPropagation();var f=this,i=e.defer(),k=d.dataTransfer||d.originalEvent.dataTransfer||{};k.items&&k.items[0]&&k.items[0].webkitGetAsEntry?h(k).then(i.resolve):i.resolve(k.files||[]),i.promise.then(function(d){var e=g("Sorry, your browser does not support uploading folders");if(0===d.length)return b.element.browser.msie&&j.pop("error",e),c;b.cloudike.readFilesAsDataURL(d).then(function(b){_.filter(b,function(a){return a.isFolder}).length&&j.pop("error",e),b=_.filter(b,function(a){return a.isFile}),b.length&&a.call(f,{preventDefault:l,stopPropagation:l,dataTransfer:{files:b||[]}})})})}},upload2:function(e){return function(){var f=i.FileItem.prototype._onError,l=this,n=arguments,o=d.uploadFolderInfo?d.uploadFolderInfo.hash||c:c,p=h.one("files");o&&(p=h.one("links").one("upload_folders").one("file_create")),p.post(o||"create",{size:l.file.size,path:b.cloudike.path(l.storagePath,l.filename||l.file.name),overwrite:"number"==typeof l.$overwrite?l.$overwrite:+!m.confirm,multipart:!!(a.be.chunk_size&&l.file.size>a.be.chunk_size)}).then(function(c){if(!l.uploader.isHTML5&&a.be.uploadproxy){var d=c.url;c.url=a.be.uploadproxy,c.url+=(-1===c.url.indexOf("?")?"?":"&")+"url="+d}if(c.method&&(l.method=c.method),l.formData=b.cloudike.formData({},c.parameters,c.headers),l.url=c.url,l.temp_path=c.temp_path,l.confirm_url=c.confirm_url,!l.uploader.isHTML5&&a.be.confirm_url&&l.confirm_url){var f="/confirm/";confirm_url=l.confirm_url,confirm_url=confirm_url.substring(confirm_url.lastIndexOf(f)+f.length),l.confirm_url=a.be.confirm_url.replace(/[\/]+$/,"")+"/"+confirm_url}e.apply(l,n)},function(a){if(402===a.status&&("SizeQuotaExceededError"!==a.data.code&&"SizeQuotaExceeded"!==a.data.code||j.pop("error",g("You have exceeded the quota on size of storage, you can only read and remove files."))),403===a.status&&"AccessDenied"===a.data.code&&j.pop("error",g("You do not have permission")),409===a.status)return k.confirm(g('File named "{{filename}}" already exist',{filename:l.filename||l.file.name}),g("Do you really want to overwrite it?"),g("Yes, overwrite it")).then(function(){l.$overwrite=1,l.upload()},function(){f.call(l,a,a.status,[])});f.call(l,a,a.status,[])})}},xhrTransport:function(i){function k(a,d,f,g,i,l,m,o,p,q){q=q||e.defer(),p=p||0;var r=f[p];if(!r)return"function"==typeof l&&l(n,a,d),q.reject({});var s;return s=a.scope.$stateParams.hash?h.one("links").one("file_create_part").post(a.scope.$stateParams.hash,{temp_path:g,part_num:p+1,password:a.scope.uploadFolderInfo.password}):h.one("files").post("create_part",{temp_path:g,part_num:p+1}),s.then(function(e){for(var h=d._xhr=new XMLHttpRequest,j=0,n=0,s=0,t=f.length;s<t;s++)s<p&&(j+=f[s].size),n+=f[s].size;h.open(e.method,e.url,!0),b.forEach(e.headers,function(a,b){b={Date:"x-amz-date"}[b]||b,h.setRequestHeader(b,a)}),h.onerror=function(){"function"==typeof l&&l(h,a,d),q.reject({})},h.onabort=function(){"function"==typeof m&&m(h,a,d),q.reject({})},h.upload.onprogress=function(b){"function"==typeof o&&o({lengthComputable:!0,loaded:j+b.loaded,total:n},h,a,d)},h.onload=function(){if(a._isSuccessCode(h.status))return f[p]={size:f[p].size},p<f.length-1?k(a,d,f,g,i,l,m,o,p+1,q):("function"==typeof i&&i(h,a,d),q.resolve({}),c);"function"==typeof l&&l(h,a,d),q.reject({})},h.send(r)},function(){"function"==typeof l&&l(n,a,d),q.reject({})},function(a){426===a.status&&j.pop("error",b.cloudike.translate("Denied for users with plan expire"))}),q.promise}function l(a,b,c,d){var e=Math.round(a.lengthComputable?100*a.loaded/a.total:0);c._onProgressItem(d,Math.min(99,e))}function m(a,b,e){var h=b._parseHeaders(a.getAllResponseHeaders()),i=b._transformResponse(a.response,h);if(!b._isSuccessCode(a.status))return b._onErrorItem(e,i,a.status,h),b._onCompleteItem(e,i,a.status,h),c;f.post(e.confirm_url,{}).then(function(c){e.metadata=c.data,d.$emit("uploader:file-upload-confirmed",e.metadata),b._onSuccessItem(e,i,a.status,h),b._onCompleteItem(e,i,a.status,h)},function(c){402===c.status&&j.pop("error",g(c.data)),b._onErrorItem(e,i,a.status,h),b._onCompleteItem(e,i,a.status,h)})}function o(a,b,c){var d=b._parseHeaders(a.getAllResponseHeaders()),e=b._transformResponse(a.response,d);b._onErrorItem(c,e,a.status,d),b._onCompleteItem(c,e,a.status,d)}function p(a,b,c){var d=b._parseHeaders(a.getAllResponseHeaders()),e=b._transformResponse(a.response,d);b._onCancelItem(c,e,a.status,d),b._onCompleteItem(c,e,a.status,d)}return function(d){var e=this,f=[];if(this._onBeforeUploadItem(d),this._onProgressItem(d,0),a.be.chunk_size&&d._file.size>a.be.chunk_size){for(var g=0;g<d._file.size;)f.push(d._file.slice(g,g+a.be.chunk_size,d._file.type)),g+=a.be.chunk_size;return k(e,d,f,d.temp_path,function(a){m(a,e,d)},function(a){o(a,e,d)},function(a){p(a,e,d)},function(a,b){l(a,b,e,d)}),this._render(),c}var h=d._xhr=new XMLHttpRequest,i=new FormData;b.forEach(d.formData,function(a){b.forEach(a,function(a,b){i.append(b,a)})}),i.append(d.alias,d._file,d.file.name),h.upload.onprogress=function(a){l(a,h,e,d)},h.onload=function(){m(h,e,d)},h.onerror=function(){o(h,e,d)},h.onabort=function(){p(h,e,d)},h.open(d.method,d.url,!0),h.withCredentials=d.withCredentials,b.forEach(d.headers,function(a,b){h.setRequestHeader(b,a)}),a.be.business_version&&"put"===d.method.toLowerCase()?(h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(d._file)):h.send(i),this._render()}}};return i.prototype._xhrTransport=o.xhrTransport(i.prototype._xhrTransport),i.FileItem.prototype.upload=o.upload2(i.FileItem.prototype.upload),i.FileDrop.prototype.onDrop=o.onDrop(i.FileDrop.prototype.onDrop),i.FileSelect.prototype.isEmptyAfterSelection=o.isEmptyAfterSelection,o}]).directive("ngFileUploader",["$rootScope","$filter","$translt","toaster","clFileUploaderService",function(a,c,d,e,f){var g=f.opts.PATHSEP;return{templateUrl:"fileUploader/fileUploader.tpl.html",link:function(h,i,j){h.isMinimized=!0,h.isHidden=!0,a.$$on("app.reset-token",function(){h.isMinimized=!0,h.isHidden=!0}),b.extend(f.uploader,{onAfterAddingFile:function(b){var d=b._file;if(h.isMinimized=!1,h.isHidden=!1,Modernizr.isios){b.filename=c("date")(new Date,"yyyy-MM-dd HH-mm-ss");var e=f.uploader.getNotUploadedItems().indexOf(b);e>0&&(b.filename+=" ("+e+")"),b.filename+="."+b.file.name.split(".").pop()}if(b.drivePath=a.uploadFolderInfo&&a.uploadFolderInfo.hash?"/":h.drivePath,b.storagePath=b.drivePath,d&&"string"==typeof d.relativePath&&-1!==d.relativePath.indexOf(g)){var i=d.relativePath.split(g);i.pop(),b.storagePath="/"+i.join("/"),"/"!==b.drivePath&&(b.storagePath=b.drivePath+b.storagePath)}b.folderPath=b.storagePath.replace(/\/$/,""),b.storagePath=b.folderPath+"/"},onProgressItem:function(a,b){for(var c=0,d=0,e=f.uploader.queue.length;e-- >0;){var g=f.uploader.queue[e];g.isCancel||(c+=g.file.size,d+=g.progress*g.file.size/100)}f.uploader.progressBySize=c?Math.floor(100*d/c):0}}),h.toastError=function(){e.pop("error",d("Can't upload the file"))},h.toggleMode=function(a){h[a]=!h[a]},h.clearQueue=function(){for(var a=!0,b=h.$root.uploader.queue.length;b-- >0;){var c=h.$root.uploader.queue[b];!c.isUploading||c.isCancel?c.remove():a=!1}a&&h.toggleMode("isHidden")}}}}]),d.filter("bytes",["$filter",function(a){var b={};return function(c,d,e){if(isNaN(parseFloat(c))||!isFinite(c))return"-";void 0===d&&(d=1);var f=String(c);if(f=c>1e3?f.substring(0,f.length-2)+"00":f,f+="-"+String(d),e&&(f+="-"+String(e)),!b.hasOwnProperty(f)){var g,h=[a("translate")("bytes"),a("translate")("KB"),a("translate")("MB"),a("translate")("GB"),a("translate")("TB"),a("translate")("PB")],i=c?Math.floor(Math.log(c)/Math.log(1024)):0;for(e&&(i={KB:1,MB:2}[e]||i);10*(g=c/Math.pow(1024,Math.floor(i)))<1&&i;)i--;0===i&&(d=0),b[f]=g.toFixed(d)+" "+h[i]}return b[f]}}]),d.filter("cardtitle",function(){var a=["fn","email","tel","org","adr","birthday","url","uid"];return function(c){for(var d=0,e=a.length;d<e;d++){var f=a[d];if(c.hasOwnProperty(f)&&b.isArray(c[f])&&c[f].length&&c[f][0].value){var g=c[f][0].value;return b.isArray(g)&&(g=_.filter(g,function(a){return!!a}).join(", ")),g}}return""}}),d.filter("contactsFilter",function(){var a=["fn","org","email","tel","adr","birthday","url"];return function(b,d){function e(a){return a.value.toLowerCase?a.value.toLowerCase().indexOf(f)>-1:a.value.indexOf(f)>-1}if(!b)return c;if(!d)return b;var f=d.toLowerCase();return b.filter(function(b){for(var c=0;c<a.length;c++)if(b[a[c]]&&_.find(b[a[c]],e))return!0;return!1})}}),d.filter("datetime",["CONST","$rootScope","$filter","$locale",function(a,c,d,e){function f(){switch(g=c.CurrentUser?c.CurrentUser.lang:a.be.i18n.defaultLocale||"en"){case"ru":case"ru-RU":e.DATETIME_FORMATS.SHORTMONTH=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],e.DATETIME_FORMATS.YESTERDAY="Вчера",e.DATETIME_FORMATS.clxFullDate="MMM d yyyy",e.DATETIME_FORMATS.clxFullTime="HH:mm",e.DATETIME_FORMATS.meridian=!1;break;case"ko":case"ko-KR":e.DATETIME_FORMATS.YESTERDAY="어제",e.DATETIME_FORMATS.clxFullDate="yyyy MMM d일",e.DATETIME_FORMATS.clxFullTime="a hh:mm",e.DATETIME_FORMATS.meridian=!0;break;default:e.DATETIME_FORMATS.YESTERDAY="Yesterday",e.DATETIME_FORMATS.clxFullDate=e.DATETIME_FORMATS.mediumDate,e.DATETIME_FORMATS.clxFullTime=e.DATETIME_FORMATS.shortTime,e.DATETIME_FORMATS.meridian=!0}}var g,h={};return f(),function(a){if(isNaN(a)||!a)return"";void 0===e.DATETIME_FORMATS.clxFullDate&&f();var c=new Date(a),g=new Date,i=e.DATETIME_FORMATS.clxFullDate,j=", "+e.DATETIME_FORMATS.clxFullTime;if(!i)return"";var k=String(a);if(b.isDate(c)&&!isNaN(c.getTime())&&!h.hasOwnProperty(k)){var l=Math.floor(c.getTime()/864e5),m=Math.floor(g.getTime()/864e5);g.getFullYear()===c.getFullYear()&&(i=i.replace(/\s*yyyy\s*/,"")),m-1===l&&(i="'"+e.DATETIME_FORMATS.YESTERDAY+"'"),m===l&&(i="",j=j.replace(/\,\s+/,"")),h[k]=d("date")(c,i+j)}return h[k]}}]),d.filter("email",function(){return function(a){var c={};return b.forEach(a,function(a,b){"email"===a.split(":")[0]&&(c[b]=a)}),c}}),d.filter("filename",function(){return b.cloudike.pathAsFilename}),d.filter("fileonlyname",function(){return b.cloudike.pathAsFileonlyname}),d.filter("filetype",function(){return b.cloudike.pathAsFiletype}),d.filter("format",function(){var a={};return function(b,c){var d=String(b)+c.join("");return a.hasOwnProperty(d)||(a[d]=String.prototype.format.apply(b,c)),a[d]}}),d.filter("naturalOrderBy",["$parse","serviceNaturalOrder",function(a,b){function c(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=d(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}var d=function(a){return _.isString(a)?a.toLowerCase():a};return function(d,e,f){function g(a,b){for(var c=0;c<e.length;c++){var d=e[c](a,b);if(0!==d)return d}return 0}function h(a,b){return c(b)?function(b,c){return a(c,b)}:a}function i(a,c){return"boolean"==typeof a||"boolean"==typeof c?a===c?0:a<c?-1:1:b.naturalSort(String(a),String(c))}return _.isArray(d)&&e?(e=_.isArray(e)?e:[e],e=_.map(e,function(b){var c=!1,d=b;if(_.isString(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0),b=b.substring(1)),d=a(b),d.constant)){var e=d();return h(function(a,b){return i(a[e],b[e])},c)}return h(function(a,b){return i(d(a),d(b))},c)}),_.clone(d).sort(h(g,f))):d}}]),d.filter("filename",function(){return b.cloudike.pathAsFilename}),d.filter("parentfolder",function(){return b.cloudike.pathAsParentFoldername}),d.filter("time",function(){var a={};return function(d,e){if(isNaN(parseFloat(d))||!isFinite(d))return"-";d=Math.round(parseFloat(d));var f=String(d);if(!a.hasOwnProperty(f)){var g=Math.floor(d/3600),h=Math.floor((d-60*g*60)/60),i=d-60*g*60-60*h;a[f]="w"===e?_.filter([g?g+b.cloudike.translate("h"):c,h?(h<10?"0":"")+h+b.cloudike.translate("min"):"00"],function(a){return!!a}).join(" "):_.filter([g?(g<10?"0":"")+g:c,h?(h<10?"0":"")+h:"00",i?(i<10?"0":"")+i:"00"],function(a){return!!a}).join(":")}return a[f]}}),d.filter("trustsrc",["$sce",function(a){return function(){for(var b=[],c=0,d=arguments.length;c<d;c++)b.push(0===c?arguments[c]:encodeURIComponent(arguments[c]));return a.trustAsResourceUrl(b.join(""))}}]),b.module("fsnotifyService",[]).factory("fsnotifyService",["$rootScope",function(a){return{restored:function(){a.$emit("fs.restored",{})},folderCreated:function(b){a.$emit("fs.folder_created",b)},copied:function(b){a.$emit(b.folder?"fs.folder_copied":"fs.file_copied",b)},moved:function(b){a.$emit(b.folder?"fs.folder_moved":"fs.file_moved",b)},renamed:function(b){a.$emit(b.folder?"fs.folder_renamed":"fs.file_renamed",b)},deleted:function(b){a.$emit(b.folder?"fs.folder_deleted":"fs.file_deleted",b)}}}]),b.module("GroupsService",[]).factory("GroupsService",["$rootScope","Restangular","cfpLoadingBar","usersService","toaster",function(a,c,d,e,f){var g,h={},i=[],j={ready:function(){return g||(d.start(),g=c.one("groups").one("list").get().then(function(a){if(i=a.groups,i.length>0)return j.setCurrent(i[0])},function(a){"DeniedForUsersWithUnapprovedAccounts"===a.data.code?f.pop("error",b.cloudike.translate("Denied for users with unapproved accounts")):"DeniedForUsersWithPlanExpire"===a.data.code&&f.pop("error",b.cloudike.translate("Denied for users with plan expire"))}).finally(function(){d.complete()}))},current:function(){return h},setCurrent:function(f){var g=_.findWhere(i,f);return 0===g.members_count&&(g.users=[]),g.usersLoaded?(h=g,!1):(d.start(),c.one("groups").one(g.group_id).one("users").get().then(function(c){e.list().length?(g.users=[],b.forEach(c.users,function(b){g.users.push(_.findWhere(e.list().concat(a.CurrentUser),{userid:b.userid}))})):e.ready().then(function(){g.users=[],b.forEach(c.users,function(b){g.users.push(_.findWhere(e.list().concat(a.CurrentUser),{userid:b.userid}))})}),h=g,g.usersLoaded=!0}).catch(function(){d.complete()}).finally(function(){d.complete()}))},list:function(){return i},createGroup:function(e){d.start();var g=c.one("groups").post("create",{name:e});return g.then(function(b){i.push(b),j.setCurrent(_.findWhere(i,b)),a.$emit("updateClMenu")},function(a){"DeniedForUsersWithUnapprovedAccounts"===a.data.code?f.pop("error",b.cloudike.translate("Denied for users with unapproved accounts")):"DeniedForUsersWithPlanExpire"===a.data.code&&f.pop("error",b.cloudike.translate("Denied for users with plan expire"))}).finally(function(){d.complete()}),g},removeCurrent:function(){return this.remove(h.name)},remove:function(b){d.start();var e=c.one("groups").post("delete",{name:b});return e.then(function(){i=_.without(i,h),j.setCurrent(i[0]),a.$emit("updateClMenu")}).finally(function(){d.complete()}),e},renameCurrent:function(a){return this.rename(h.group_id,a)},rename:function(a,b){d.start();var e=c.one("groups").one(a).post("change",{name:b});return e.then(function(){h.name=b}).finally(function(){d.complete()}),e},addUsersToCurrent:function(a){return this.addUsers(h.group_id,a)},addUsers:function(a,e){var f=_.findWhere(i,{group_id:a}),g=[];b.forEach(e,function(a){g.push(a.userid)}),d.start();var h=c.one("groups").one(a).post("add_user",{user_ids:g});return h.then(function(){f.members_count+=e.length,f.users=f.users.concat(e)}).finally(function(){d.complete()}),h},removeUsersFromCurrent:function(a){return this.removeUsers(h.group_id,a)},removeUsers:function(a,e){var f=_.findWhere(i,{group_id:a}),g=[];b.forEach(e,function(a){g.push(a.userid)}),d.start();var h=c.one("groups").one(a).post("remove_user",{user_ids:g});return h.then(function(){b.forEach(e,function(a){f.users=_.reject(f.users,function(b){return b.name===a.name},a),f.members_count--})}).finally(function(){d.complete()}),h}};return j}]),b.module("imageResizeService",[]).factory("imageResizeService",function(){function a(a,b,e){var f=new Image;f.src=a;var g=f.width,h=f.height;return g>h?g>b&&(h*=b/g,g=b):h>e&&(g*=e/h,h=e),c.width=g,c.height=h,d.clearRect(0,0,g,h),d.drawImage(f,0,0,g,h),c.toDataURL("image/png")}function b(a,b,e){var f=new Image;return f.onload=function(){var a,g,h=f.width>f.height?f.height:f.width;a=(f.width-h)/2,g=(f.height-h)/2,c.width=b,c.height=b,d.clearRect(0,0,b,b),d.drawImage(f,a,g,h,h,0,0,b,b),"function"==typeof e&&e(c.toDataURL("image/png"))},f.src=a,f}var c=document.createElement("canvas"),d=c.getContext("2d");return{resize:a,resizeSquare:b}}),b.module("LinkOptions",[]).factory("LinkOptions",["$q","Restangular",function(a,d){return{metadata:{},get:function(e,f){if(!e)return c;if(!e.content){var g=b.copy(e);e.content=g}if(!f){var h=[];return b.forEach(e.content,function(c,e){var f=a.defer();c.public_hash&&(d.one("links").one("info").one(c.public_hash).get().then(function(a){if(f.resolve(),c=b.extend(c,a.plain()),c.expires){var d=Date.now();c.expires>d?(c.time_left=(c.expires-d)/1e3,c.time_left<60&&(c.time_left=-1)):c.time_left=-1}}),h.push(f.promise))}),this.metadata=e,a.all(h).then(function(){return h})}b.forEach(e.content,function(a,b){if(a.expires){var c=Date.now();a.expires>c?(a.time_left=(a.expires-c)/1e3,a.time_left<60&&(a.time_left=-1)):a.time_left=-1}}),this.metadata=e}}}]),b.module("localstorageService",[]).factory("localstorageService",["$window",function(a){var c,d="CLOUDIKE",e=a.localStorage||{},f={};return f=b.fromJson(e[d]||"{}")||f,c={val:function(a,c){return 1===arguments.length?f[a]:(f[a]=c,e[d]=b.toJson(f),c)},remove:function(a){f=b.fromJson(e[d]||"{}")||f,delete f[a],e[d]=b.toJson(f)},token:function(a){return arguments.length>0?c.val("token",a):c.val("token")}}}]),b.module("previewState",[]).provider("previewState",function(){return{$get:function(){},getConfig:function(a,b){return b=b||{},{parent:a,url:(b?b.url:c)||"^/preview/"+a+"{path:.*}?file",needAuth:!(b&&!1===b.needAuth),tryGetUser:!(!b||!b.tryGetUser),views:{"preview@":{controller:["$scope","$rootScope","$state","$stateParams","clFilePreview","metadata","opts",function(c,d,e,f,g,h,i){if(f.file){if(d.currentPreview)d.$emit("preview.update",{path:f.file});else{var j=g.modal(h,i.currentSort,b);j.result.finally(function(){e.go(a,{path:f.path})}),d.currentPreview={modal:j,path:f.file}}c.$on("$destroy",d.$on("$stateChangeStart",function(a,b,c,e,f){b!==e&&d.currentPreview&&d.currentPreview.modal.close()}))}else e.go(a,{path:f.path})}]}}}}}}),b.module("ngServerValidate",[]).directive("ngServerValidate",["$interval",function(a){function c(a,c){return c=b.extend({},k,c||{}),c[a]||a}function d(){for(var c=b.element(this),d=c.find("div"),e=d.length;e-- >0;){var f=b.element(d[e]);f.hasClass("alert-danger")&&f.remove()}var g=c.find("button[type=submit]:first");g.button&&(g.data({loadingText:g.html()||"&nbsp;"}).button("loading"),a(function(){g.button("reset")},1e4,1))}function e(a){if(!0===this.model.$error.serverError)for(var c=this.form.find("input"),d=c.length;d-- >0;){var e=b.element(c[d]);if(e.attr("name")==this.model.$name){e=e.parent().hasClass("input-group")?e.parent():e,e.next().hasClass("form-control-error")&&e.next().remove();break}}return this.model.$setValidity("serverError",!0),a}function f(a,d){var e=b.element(this.form).find("button[type=submit]:first");e.button&&e.button("reset");var f,g,k=[];if("string"==typeof a&&k.push(a.replace(/^[\s'"]+|[\s'"]+$/g,"")),a&&"object"==typeof a&&"string"==typeof a.data&&k.push(a.data.replace(/^[\s'"]+|[\s'"]+$/g,"")),b.isArray(a)||b.isArray(Object(a).data)){var l=Object(a).data||a;for(f=0,g=l.length;f<g;f++){var m=l[f];if(b.isArray(m)&&this.formController.hasOwnProperty(m[0])){for(var n=this.formController[m[0]],o=this.form.find("input"),p=o.length;p-- >0;){var q=b.element(o[p]);if(q.attr("name")==n.$name){q=q.parent().hasClass("input-group")?q.parent():q,q.after(h.replace("{message}",c(m[1][0],d)));break}}n.$setValidity("serverError",!1)}else k.push(c(m[1][0],d))}}if(k.length){var r=[];for(f=0,g=k.length;f<g;f++)r.push(j.replace("{message}",c(k[f],d)));r=i.replace("{items}",r.join(""));var s=this.form.find("button");for(f=0,g=s.length;f<g;f++){var t=b.element(s[f]);if("submit"==t.attr("type"))break}"submit"===t.attr("type")&&(t.parents(".form-inline:first").length?t.parents(".form-inline:first").append(r):t.parents(".form-block:first").length?t.parents(".form-block:first").append(r):t.prev().after(r))}}function g(){var a=b.element(this.form).find("button[type=submit]:first");a.button&&a.button("reset")}var h=['<div class="form-control-error">',"<span>{message}</span>","</div>"].join(""),i=['<div class="alert alert-danger">',"{items}","</div>"].join(""),j=["<p>","<span>{message}</span>","<p>"].join(""),k={Unauthorized:"Invalid login or password"};return{require:"form",link:function(a,c,h,i){for(var j in i)i.hasOwnProperty(j)&&"$"!==String(j).charAt(0)&&b.isObject(i[j])&&i[j].$parsers.unshift(b.bind({formController:i,form:c,model:i[j]},e));c.bind("submit",d),i.$parseErrors=b.bind({formController:i,form:c},f),i.$reset=b.bind({formController:i,form:c},g),i.$resetErrors=b.bind(c,d)}}}]),b.module("serviceAbstractMetadata",[]).factory("serviceAbstractMetadata",["CONST","$rootScope","$q","Restangular","clItemIconType",function(a,d,e,f,g){function h(){}function i(a,b){return b&&(a=a.substring(0,a.lastIndexOf("/")),a+="/"+b),a}function j(){for(var a=this.$watchers||[],b=a.length;b-- >0;)a[b].apply(this,arguments.length?arguments:[this])}function k(a){return"function"!=typeof a?h:(this.$watchers=this.$watchers||[],this.$watchers.push(a),b.bind(this,l,a))}function l(a){for(var b=this.$watchers||[],c=b.length;c-- >0;)b[c]===a&&b.splice(c,1)}function m(){d.$$phase||d.$apply()}function n(a){var c={content:[],folder:!0,icon:"folder",path:a};return c.$watch=k,c.$emit=j,c.type=g.get(c),c.typeLocalized=b.cloudike.translate(c.type.title),c}function o(){var a={$timestamp:(new Date).getTime(),content:[],icon:"folder",folder:!0,isRoot:!0};return a.$watch=k,a.$emit=j,a.type=g.get(a),a.typeLocalized=b.cloudike.translate(a.type.title),a}function p(a){var e=a.content||{},f={$timestamp:(new Date).getTime(),author:a.init_event_user_id,author_name:a.init_event_user_name,bytes:e.size||0,company_published:a.company_published,created:e.created||(new Date).getTime(),deleted:a.deleted,modified:e.modified||(new Date).getTime(),owner:a.owner_id,owner_name:a.owner_name,path:a.path,folder:a.folder,icon:a.icon,client_data:{},shared:a.shared||!1,version:a.version||0,role:d.CurrentUser.userid===a.owner_id?"owner":"collaborator"};return void 0!==a.public_hash&&(f.public_hash=a.public_hash,f.public_hash_created_time=a.public_hash_created_time||0),a.folder||b.extend(f,{versions:c,version_loaded:!1,checksum:a.checksum,mime_type:a.mime_type,extradata:a.extradata||{}}),f.$watch=k,f.$emit=j,f.type=g.get(f),f.typeLocalized=b.cloudike.translate(f.type.title),f}function q(a){var b=a.content||{};return{author:a.init_event_user_id,author_name:a.init_event_user_name,timestamp:a.timestamp,content:{filename:"2.jpg",updated:b.modified||(new Date).getTime(),created:b.created||(new Date).getTime(),size:b.size||0,mime_type:a.mime_type,icon:a.icon,extradata:a.extradata||{}},client_data:{},version:b.modified||a.version||0}}function r(a,b){if(!a)return c;for(var d=a.length;d-- >0;)if(a[d].path===b)return a[d]}function s(a,b){if(!b.length)return a;var c,d;for(c=b.length;c-- >0;){for(d=a.length;d-- >0;)if(b[c].path===a[d].path){a[d].content=s(a[d].content||[],b[c].content||[]);break}-1===d&&a.push(b[c])}return a}function t(a,b,c){b=b.$object||b;for(var d in b)if(b.hasOwnProperty(d)){if("function"==typeof b[d])continue;"content"===d?a.content=s(a.content||[],b.content||[]):c&&a.hasOwnProperty(d)||(a[d]=b[d])}return a}function u(a,c,e){1===arguments.length&&(e=h,c={}),2===arguments.length&&(b.isFunction(arguments[1])&&(e=c,c={}),b.isObject(arguments[1])&&(e=h)),this.type=a||"metadata",this.tree=o(),this.promises={},this.opts=b.extend({limit:v,page_size:w,metadata_opts:{}},c),this.metadataOpts=b.extend({offset:0,limit:this.opts.limit,order_by:"name"},this.opts.metadata_opts||{}),this.callback="function"==typeof e?e:h,d.$on("app.reset-token",b.bind(this,function(){!0!==this.opts.none_auth&&(this.emptyPromises(),this.emptyTree())}))}var v=a.be.metadata_limit||0,w=a.be.page_size||50;return u.prototype={constructor:u,makeItem:p,makeVersion:q,updateTimestamp:function(a){a?a.$timestamp=(new Date).getTime():(this.tree.$timestamp=(new Date).getTime(),d.$emit("tree.update:"+this.type,this.tree)),m()},getTreeNode:function(a){var b,d,e,f,g,h=a.split("/"),i=this.tree,j=[];for(e=0,g=h.length;e<g;e++)if(h[e]){b=i,j.push("/"+h[e]),d=j.join("");var k=i.content;for(f=k.length;f-- >0;)if(k[f].path===d){i=k[f];break}if(-1===f){var l=n(d);f=i.content.length,i.content[f]=l;var m=this.promises[i.path];m&&m.$allcontent.push(l),i=l}i.content||(i.content=[])}if((b.content[f]||{path:c}).path!==a||i.path!==a)throw console.info("serviceAbstractMetadata.mergeResponse",{path:a,parentFolder:b,folder:i}),new Error("serviceAbstractMetadata.mergeResponse");return i.$parentFolder=b,i.$parentContentIndex=f,i},getParentPromiseByPath:function(a,b){a=a.substring(0,a.lastIndexOf("/")),a=a||"/";var d=this.promises[a];return d||!0!==b||(d={$object:this.getTreeNode(a),$allcontent:[]},this.updateTimestamp()),d||c},removePromiseByPath:function(a){a=a||"/",delete this.promises[a]},emptyPromises:function(){for(var a in this.promises)this.promises.hasOwnProperty(a)&&delete this.promises[a]},emptyTree:function(a){a=a||this.tree;for(var c in a)if(a.hasOwnProperty(c)){if("content"===c){for(var d=a.content,e=d.length;e-- >0;)this.emptyTree(d[e]);d.splice(0,d.length)}delete a[c]}b.extend(this.tree,o())},$version:function(a,d){var e=this.getParentPromiseByPath(d.path);if(!e)return c;var f=r(e.$object.content,d.path);f&&(f.versions=b.isArray(f.versions)?f.versions:[],f.versions.unshift(this.makeVersion(d)))},$extradata:function(a,d){var e=this.getParentPromiseByPath(d.path);if(!e)return c;var f=b.cloudike.parseUrl(d.path),h=f.path,i=f.query.substring(1),j=r(e.$object.content,h);if(j){switch(j.version==i&&(j.extradata=b.extend(j.extradata||{},d.processed_interfaces||d.extradata||j.extradata||{})),d.plugin_name){case"images":j.icon="image"}j.type=g.get(j);var k=j.$timestamp;this.updateTimestamp(j),j.$emit(j,k)}},$updated:function(a,d,e,f){var g=this.getParentPromiseByPath(d.path);if(!g)return c;e=e&&"object"==typeof e?e:{},f&&"object"==typeof f&&!f.hasOwnProperty("$timestamp")&&b.extend(f,{$timestamp:(new Date).getTime()});var h=f&&"object"==typeof f?f:this.makeItem(d),j=r(g.$object.content,i(d.path,d.oldname));if(j){if(!0!==e.onlyAppend){b.isArray(j.versions)&&(h.versions=j.versions);var k=j.$timestamp;b.extend(j,h),j.$emit(j,k)}}else!0!==e.onlyUpdate&&g.$object&&(g.$allcontent.unshift(h),g.$object.content.unshift(h));h.folder&&this.updateTimestamp()},$renamed:function(a,d,e){var f=this.getParentPromiseByPath(d.path);if(!f)return c;var g=r(f.$object.content,d.path);if(g){b.isArray(g.versions)&&(e.versions=g.versions);var h=g.$timestamp;b.extend(g,e),g.$emit(g,h)}this.removePromiseByPath(i(d.path,d.oldname))},$moved:function(a,b){var c=b.path.substring(0,b.path.lastIndexOf("/"));this.$deleted(a,{path:b.oldpath}),this.$updated(a,b),this.removePromiseByPath(c)},$deleted:function(a,b){var d=this.getParentPromiseByPath(b.path);if(!d)return c;this.removeFromMoreContent(d,b.path);for(var e=d.$object.content,f=!1,g=e.length;g-- >0;)if(e[g].path===b.path){f=e[g].folder,e.splice(g,1);break}f&&(this.removePromiseByPath(b.path),this.updateTimestamp())},request:function(a,c){return c=b.extend({},this.metadataOpts,c||{}),f.withNoneSuffixConfig().one(this.type).metadataPath(a).get(c)},removeFromMoreContent:function(a,b,c){var d,e;c=c||"path",d=a.$object.$allcontent;for(var e=d.length;e-- >0;)if(d[e][c]===b){d.splice(e,1);break}d=a.$object.$morecontent;for(var e=d.length;e-- >0;)if(d[e][c]===b){d.splice(e,1);break}},mergeResponse:function(a){var d=a.path||"/",e=this.promises[d];if(!e)return c;var f=(new Date).getTime();if(b.forEach(a.content,function(a){a.$timestamp=f++,a.$watch=k,a.$emit=j,a.type=g.get(a),a.typeLocalized=b.cloudike.translate(a.type.title)}),e.$count+=a.content.length,e.$object.$allcontent=e.$allcontent,e.$object.$morecontent=e.$morecontent,Array.prototype.push.apply(e.$allcontent,a.content),"/"===d)return this.tree=t(e.$object,this.tree,!0),c;var h=this.getTreeNode(d);t(e.$object,h,!0),h.$parentContentIndex>=0&&h.$parentFolder.content.splice(h.$parentContentIndex,1,b.extend(h,e.$object)),this.updateTimestamp()},insertMoreContent:function(a){var d=a.path||"/",e=this.promises[d];return e?(b.forEach(a.content,function(a){a.$timestamp=(new Date).getTime(),a.$watch=k,a.$emit=j,a.type=g.get(a),a.typeLocalized=b.cloudike.translate(a.type.title)}),e.$busy=!1,e.$count+=a.content.length,e.$object.is_last_page=a.is_last_page,Array.prototype.push.apply(e.$morecontent,a.content),Array.prototype.push.apply(e.$allcontent,a.content),a):c},startLoadMode:function(a){var d=a.path||"/",e=this.promises[d];if(!e)return c;e.$interval=setInterval(b.bind(this,this.loadMore,d),1e3)},loadMore:function(a){var d=this.promises[a];return!d||d.$busy?c:(d.$max_length&&d.$max_length<=d.$allcontent.length&&(d.$object.is_last_page=!0),d.$object.is_last_page?(d.$is_last_page=!0,clearInterval(d.$interval),d.$only_complete&&(this.resetContent(d),d.$deferred.resolve(d.$object)),c):(d.$busy=!0,void this.request(a,{limit:this.opts.limit,offset:d.$count}).then(b.bind(this,this.insertMoreContent)).then(b.bind(this,this.callback))))},onGetComplete:function(a,c){b.extend(a.$object,{$status:"number"==typeof c.status?c.status:200},{$status200:"number"!=typeof c.status||200===c.status},{$status502:"number"==typeof c.status&&502===c.status},c.content?{}:{path:a.$path,content:[],role:"collaborator"},c.path&&!c.folder?{filepath:"/"+c.path,path:"/",folder:!0,singlefile:!0,icon:"folder",is_last_page:!0,content:[b.extend(b.copy(c),{path:"/"+c.path})]}:{}),this.resetContent(a),(a.$object.is_last_page||a.$object.$status>299||!a.$only_complete)&&a.$deferred.resolve(a.$object)},resetContent:function(a){this.opts.page_size>0&&(a.$object.content||[]).length>this.opts.page_size&&Array.prototype.push.apply(a.$morecontent,a.$object.content.splice(this.opts.page_size,a.$object.content.length))},get:function(a,c,d){a=a||"/",d=d||{};var f;return c||!this.promises.hasOwnProperty(a)?(f=this.request(a),f.$deferred=e.defer(),f.$path=a,f.$count=0,f.$busy=!1,f.$morecontent=[],f.$allcontent=[],f.$is_last_page=!1,f.$complete=!1,f.$only_complete="boolean"==typeof d.only_complete?d.only_complete:this.opts.only_complete,f.$max_length="number"==typeof this.opts.max_length?this.opts.max_length:0,f.$interval=0,f.then(b.bind(this,this.mergeResponse)),f.then(b.bind(this,this.startLoadMode)),f.then(b.bind(this,this.callback)),this.promises[a]=f):f=this.promises[a],f.then(b.bind(this,this.onGetComplete,f),b.bind(this,this.onGetComplete,f)),f.$deferred.promise},more:function(a,b){a=a||"/",b=b||this.opts.page_size;var d=this.promises[a];return d?(d.$morecontent.length&&Array.prototype.push.apply(d.$object.content,d.$morecontent.splice(0,b)),d.$complete=d.$is_last_page&&0===d.$morecontent.length,!d.$complete):c},reset:function(a,b){a=a||"/",b=b||this.opts.page_size;var d=this.promises[a];return d?(b>0&&(d.$object.content||[]).length>b&&Array.prototype.push.apply(d.$morecontent,d.$object.content.splice(b,d.$object.content.length)),d.$complete=d.$is_last_page&&0===d.$morecontent.length,d.$object):c}},u}]),b.module("serviceAlbumMetadata",[]).factory("serviceAlbumMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,b,c){function d(a,b,c){for(var d in f)f.hasOwnProperty(d)&&f[d][a].apply(f[d],c)}function e(a,c){for(var e=0,f=c.length;e<f;e++){var g=c[e];switch(a.name){case"websocket.extradata_created":case"websocket.extradata_updated":d("$extradata",a,[a,g])}}b.$$apply()}var f={};return b.$$on(["websocket.extradata_created","websocket.extradata_updated"],e),{get:function(b){return f.hasOwnProperty(b)||(f[b]=new c("albums/"+b,{only_complete:!!a.fe.metadataWaitForComplete})),f[b]}}}]),b.module("serviceAsyncTask",[]).factory("serviceAsyncTask",["CONST","$q",function(a,c){return{check:function(a){var d=b.cloudike.$http,e=b.cloudike.Restangular,f=c.defer();if("string"==typeof a&&-1!==a.indexOf("/")&&(a=/\/task\/([\w\-]+)\//.exec(a),a=b.isArray(a)?a[1]:a),!a)return f.resolve(),f.promise;var g=setInterval(function(){d.get(e.one("task").one(a).one("").getRestangularUrl()).then(function(b){"started"===b.data.state&&f.notify(b.data.progress.overall_progress),"done"===b.data.state&&(clearInterval(g),d.get(e.one("task").one(a).one("result").one("").getRestangularUrl()).then(f.resolve,f.reject))},function(){clearInterval(g),f.reject()})},1e3);return f.promise}}}]),b.module("serviceAsynchronousLoader",[]).factory("serviceAsynchronousLoader",["CONST","$q",function(a,b){return{load:function(a){var c,d,e=document.getElementsByTagName("script"),f=b.defer();return d=!!_.find(e,function(b){return b.attributes.src&&b.attributes.src.value==a}),d?f.resolve():(c=document.createElement("script"),c.type="text/javascript",c.src=a,c.onload=function(){f.resolve()},e[0].parentNode.insertBefore(c,e[0])),f.promise}}}]),b.module("serviceContacts",[]).factory("serviceContacts",["CONST","$q","Restangular",function(a,d,e){var f={books:c,cards:c,trashCards:c,getRspsCards:function(a){for(var c={},d=[],e=0,f=a.length;e<f;e++)for(var g=a[e]._embedded.cards,h=0,i=g.length;h<i;h++)if(!c.hasOwnProperty(g[h].id)){c[g[h].id]=g[h];var j=b.extend(vCard.parse(g[h].data.trim()),{id:g[h].id,bookid:g[h].bookid,checksum:g[h].checksum,created:g[h].created,updated:g[h].updated});d.push(j)}return d},getBooks:function(a){return f.books?d.resolve(f.books):e.one("users",a.userid).one("contacts").get().then(function(a){return f.books=a._embedded.books||[],f.books})},getBookCards:function(a,b,c,g,h,i){return h=h||[],g=g||d.defer(),i=i||0,e.one("users",a.userid).one("contacts",b.id).get({with_cards_data:1,offset:i,limit:500,deleted_from:c?(new Date).getTime()-15552e6:0}).then(function(d){if(d._embedded.cards.length){i+=d._embedded.cards.length;for(var e=d._embedded.cards.length;e-- >0;)d._embedded.cards[e].bookid=b.id;return Array.prototype.push.apply(h,d._embedded.cards),f.getBookCards(a,b,c,g,h,i)}g.resolve({_embedded:{cards:h}})},g.reject),g.promise},getCards:function(a){return f.cards?d.resolve(f.cards):f.getBooks(a).then(function(b){for(var c=[],e=0,g=f.books.length;e<g;e++)c.push(f.getBookCards(a,f.books[e],!1));return d.all(c)}).then(function(a){return f.cards=f.getRspsCards(a)},function(){return[]})},getTrashCards:function(a){return f.trashCards?d.resolve(f.trashCards):f.getBooks(a).then(function(b){for(var c=[],e=0,g=f.books.length;e<g;e++)c.push(f.getBookCards(a,f.books[e],!0));return d.all(c)}).then(function(a){return f.trashCards=f.getRspsCards(a)},function(){return[]})},getCard:function(a,c,d){return e.one("users",a.userid).one("contacts",d).one(c).get().then(function(a){return b.extend(vCard.parse(a.data.trim()),{id:a.id,bookid:d,checksum:a.checksum,created:a.created,updated:a.updated})},function(){return{}})}};return f}]),b.module("serviceFolderContents",[]).factory("serviceFolderContents",["$rootScope","$state","clActionHandler","CONST",function(a,c,d,e){return{scope:{currentFolder:"=clFolderContents",viewType:"=clFolderContentsType",opts:"=clFolderOpts"},template:["<div ng-if=\"viewType == 'list'\"><div ng-include=\"'clFolderContents/folderContentsAsList.tpl.html'\"></div></div>","<div ng-if=\"viewType == 'grid'\"><div ng-include=\"'clFolderContents/folderContentsAsGrid.tpl.html'\"></div></div>"].join(""),link:function(f,g,h){var i=[];if(f.selectedItems={},f.items=f.currentFolder.content,f.contextMenuEntry=h.clContextMenuEntry,f.uniqueItemField=f.opts.uniqueItemField||"path",e.be.business_version){if(!f.currentFolder.content){var j=b.copy(f.currentFolder);f.currentFolder.content=j}f.$watch("currentFolder",function(){if(i=[],f.selectedItems={},!f.currentFolder.content){var a=b.copy(f.currentFolder);f.currentFolder.content=a}f.items=f.currentFolder.content})}f.showSharingDialog=function(a){var b={selectedItems:[a]};d.share(b)},f.updateSelectedItems=function(){i=[];var a={};_.each(f.items,function(b){a[b[f.uniqueItemField]]=b}),b.forEach(f.selectedItems,function(b,c){c in a||delete f.selectedItems[c],a[c]&&!a[c].__allowSelect&&delete f.selectedItems[c]}),b.forEach(f.items,function(a){!0===f.selectedItems[a[f.uniqueItemField]]&&i.push(a)}),f.notifySelectedItems(),f.updateCommonCheckboxState()},f.notifySelectedItems=function(){a.$emit("content:folder-contents:selectedItems",{selectedItems:i,currentFolder:f.currentFolder})},f.updateCommonCheckboxState=function(){var a=0,c=_.filter(f.items,function(a){return a.__allowSelect});b.forEach(c,function(b){!0===f.selectedItems[b[f.uniqueItemField]]&&++a}),0===a?f.commonCheckboxState="unchecked":a===c.length?f.commonCheckboxState="checked":f.commonCheckboxState="indeterminate"},f.toggleCommonCheckbox=function(){"checked"===f.commonCheckboxState?f.selectedItems={}:b.forEach(f.items,function(a){a.__allowSelect&&(f.selectedItems[a[f.uniqueItemField]]=!0)}),f.updateSelectedItems()},f.dragSetData=function(a){return f.selectedItems[a[f.uniqueItemField]]?i:[a]},f.onDrop=function(a,b){1===b.length&&a.path===b[0].path||a.folder&&b.length&&d._moveOrCopy("move",b,a.path)},f.itemHref=function(b){return a.itemHref(c.current.name,f.opts.previewStateName,b)}}}}]),b.module("serviceLocalMetadata",[]).factory("serviceLocalMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,c,d){function e(a,d){for(var e=0,g=d.length;e<g;e++){var h=d[e];switch(a.name){case"websocket.extradata_created":case"websocket.extradata_updated":f.$extradata(a,h);break;case"websocket.folder_created":case"websocket.file_created":f.$updated(a,h,{onlyAppend:!0});break;case"websocket.file_new_content":case"websocket.file_version_restored":f.$updated(a,h,{onlyUpdate:!0}),f.$version(a,h);break;case"websocket.folder_renamed":f.$renamed(a,h,{path:h.path,$timestamp:(new Date).getTime(),content:[]});break;case"websocket.file_renamed":f.$updated(a,h,{onlyUpdate:!0},{path:h.path});break;case"websocket.folder_copied":case"websocket.file_copied":f.$updated(a,h);break;case"websocket.folder_moved":case"websocket.file_moved":f.$moved(a,h);break;case"websocket.folder_deleted":case"websocket.file_deleted":f.$deleted(a,h);break;case"websocket.folder_undeleted":case"websocket.file_undeleted":f.$updated(a,h,{onlyAppend:!0});break;case"websocket.folder_unshared":c.CurrentUser.userid!==h.owner_id&&f.$deleted(a,h);break;case"websocket.share_invitation_sent":f.$updated(a,b.extend({},h,{shared:!0}),{onlyUpdate:!0});break;case"websocket.share_invitation_accepted":f.$updated(a,b.extend({},h,{shared:!0}));break;case"websocket.share_invitation_revoked":c.CurrentUser.userid==h.owner_id?f.$updated(a,b.extend({},h,{shared:!1}),{onlyUpdate:!0}):f.$deleted(a,h);break;case"websocket.link_created":f.$updated(a,h,{onlyUpdate:!0},{public_hash:h.public_hash,public_hash_created_time:h.timestamp});break;case"websocket.link_deleted":f.$updated(a,h,{onlyUpdate:!0},{public_hash:""});break;case"websocket.folder_collab_removed":c.CurrentUser.userid===h.collab_id&&f.$deleted(a,h);break;case"websocket.company_folder_added":f.$updated(a,b.extend(h,{company_published:!0}),{onlyUpdate:!0});break;case"websocket.company_folder_hidden":f.$updated(a,b.extend(h,{company_published:!1}),{onlyUpdate:!0})}}c.$$apply()}var f=new d("metadata",{only_complete:!!a.fe.metadataWaitForComplete});return c.$$on(["websocket.extradata_created","websocket.extradata_updated","websocket.folder_created","websocket.folder_renamed","websocket.folder_deleted","websocket.folder_undeleted","websocket.file_created","websocket.file_renamed","websocket.file_deleted","websocket.file_undeleted","websocket.file_new_content","websocket.file_version_restored","websocket.folder_moved","websocket.file_moved","websocket.folder_copied","websocket.file_copied","websocket.folder_unshared","websocket.share_invitation_sent","websocket.share_invitation_accepted","websocket.share_invitation_revoked","websocket.folder_collab_removed","websocket.link_created","websocket.link_deleted","websocket.company_folder_added","websocket.company_folder_hidden"],e),f}]),b.module("serviceNaturalOrder",[]).factory("serviceNaturalOrder",["$locale",function(a){var b={},c=function(a){return"00000000000000000000".slice(a.length)},d="m"==a.DATETIME_FORMATS.shortDate.charAt(0),e=function(a){return a.replace(/(\d\d?)[-\/\.](\d\d?)[-\/\.](\d{4})/,function(a,b,c,e){var f=c;return d?Number(b)>12&&(c=b,b=f):Number(c)<13&&(c=b,b=f),e+"-"+b+"-"+c})},f=function(a){return a.replace(/(\d+)((\.\d+)+)?/g,function(a,b,d,e){return d!==e?a.replace(/(\d+)/g,function(a){return c(a)+a}):(d=d||".0",c(b)+b+d+c(d))})},g=function(a){if(b[a])return b[a];var c=f(e(a));return b[a]=c};return{naturalValue:g,naturalSort:function(a,b){var c=typeof a,d=typeof b;return"string"===c&&"string"===d&&a.toLowerCase()===b.toLowerCase()?a<b?-1:a>b?1:0:("string"===c&&"string"===d&&(a=a.toLowerCase(),b=b.toLowerCase()),a=g(a),b=g(b),a<b?-1:a>b?1:0)}}}]),b.module("servicePublicMetadata",[]).factory("servicePublicMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,b,c){function d(a,b,c){for(var d in f)f.hasOwnProperty(d)&&f[d][a].apply(f[d],c)}function e(a,c){for(var e=0,f=c.length;e<f;e++){var g=c[e];switch(a.name){case"websocket.extradata_created":case"websocket.extradata_updated":d("$extradata",a,[a,g])}}b.$$apply()}var f={};return b.$$on(["websocket.extradata_created","websocket.extradata_updated"],e),{get:function(b){return f.hasOwnProperty(b)||(f[b]=new c("links/metadata/"+b,{none_auth:!0,only_complete:!!a.fe.metadataWaitForComplete})),f[b]}}}]),b.module("serviceSearchMetadata",[]).factory("serviceSearchMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,b,c){function d(a,b,c){for(var d in f)f.hasOwnProperty(d)&&f[d][a].apply(f[d],c)}function e(a,c){for(var e=0,f=c.length;e<f;e++){var g=c[e];switch(a.name){case"websocket.extradata_created":case"websocket.extradata_updated":d("$extradata",a,[a,g])}}b.$$apply()}var f={};return b.$$on(["websocket.extradata_created","websocket.extradata_updated"],e),{get:function(b){return f.hasOwnProperty(b)||(f[b]=new c("files/search/",{only_complete:!!a.fe.metadataWaitForComplete,max_length:100,metadata_opts:{query:b}})),f[b]}}}]),b.module("serviceSharesMetadata",[]).factory("serviceSharesMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,b,c){function d(a,b,c){for(var d in f)f.hasOwnProperty(d)&&f[d][a].apply(f[d],c)}function e(a,c){for(var e=0,f=c.length;e<f;e++){var g=c[e];switch(a.name){case"websocket.extradata_created":case"websocket.extradata_updated":d("$extradata",a,[a,g])}}b.$$apply()}var f={};return b.$$on(["websocket.extradata_created","websocket.extradata_updated"],e),{get:function(b){return f.hasOwnProperty(b)||(f[b]=new c("shares/metadata/"+b,{only_complete:!!a.fe.metadataWaitForComplete})),f[b]}}}]),b.module("serviceTranslt",[]).factory("$translt",function(){return function(){return b.cloudike.translate.apply(null,arguments)}}),d.factory("$translt",function(){return function(){return b.cloudike.translate.apply(null,arguments)}}),b.module("serviceTrashMetadata",[]).factory("serviceTrashMetadata",["CONST","$rootScope","serviceAbstractMetadata",function(a,d,e){function f(c,e){for(var f=0,h=e.length;f<h;f++){var i=e[f];switch(c.name){case"websocket.trash_empty":case"websocket.trash_cleared":a.be.business_version&&i.paths?g.$deletedBusiness(c,i):g.$empted(c,i);break;case"websocket.copied_into_trash":d.CurrentUser.userid===i.owner_id&&g.$updated(c,b.extend(i,{name:b.cloudike.pathAsFilename(i.path),deleted:!0,folder:!i.is_file}));break;case"websocket.deleted_from_trash":g.$deleted(c,b.extend(i,{name:b.cloudike.pathAsFilename(i.path),deleted:!1,folder:!i.is_file}));break;case"websocket.folder_deleted":case"websocket.file_deleted":break;case"websocket.folder_undeleted":case"websocket.file_undeleted":a.be.business_version&&g.$deletedBusiness(c,i)}}d.$$apply()}var g=new e("trash",{only_complete:!!a.fe.metadataWaitForComplete},function(a){b.forEach(a.content,function(a){a.path=a.restore_path})});return b.extend(g,{makeItem:function(){var a=g.makeItem;return function(b){var c=a(b);return c.restore_path=c.path,c.name=b.name_in_trash,c.created=b.timestamp||c.modified,c}}(),$updated:function(a,b){var d=this.getParentPromiseByPath("/");if(!d)return c;var e=this.makeItem(b);d.$allcontent.unshift(e),d.$object.content.unshift(e),e.folder&&this.updateTimestamp()},$deleted:function(a,b){var d=this.getParentPromiseByPath("/");if(!d)return c;this.removeFromMoreContent(d,b.name,"name");for(var e=d.$object.content,f=!1,g=e.length;g-- >0;)e[g].name===b.name&&(f=e[g].folder,e.splice(g,1));f&&this.updateTimestamp()},$deletedBusiness:function(a,b){var d=this.getParentPromiseByPath("/");if(!d)return c;this.removeFromMoreContent(d,b.name,"name");for(var e=d.$object.content,f=!1,g=e.length;g-- >0;)if("websocket.trash_cleared"===a.name){for(var h=b.paths.length;h-- >0;)if(e[g].path===b.paths[h]){f=e[g].folder,e.splice(g,1);break}}else e[g].name===b.name&&(f=e[g].folder,e.splice(g,1));f&&this.updateTimestamp()},$empted:function(a,b){var d=this.getParentPromiseByPath("/");if(!d)return c;d.$allcontent.splice(0,d.$object.content.length),d.$morecontent.splice(0,d.$object.content.length),d.$object.content.splice(0,d.$object.content.length),this.updateTimestamp()}}),d.$$on(["websocket.trash_empty","websocket.trash_cleared","websocket.copied_into_trash","websocket.deleted_from_trash","websocket.folder_deleted","websocket.file_deleted","websocket.folder_undeleted","websocket.file_undeleted"],f),g}]),b.module("taskService",[]).factory("taskService",["Restangular","$interval","$q",function(a,b,c){return function(d){var e,f=c.defer();return f.promise.finally(function(){e&&b.cancel(e)}),e=b(function(){return a.one("task",d).get().then(function(a){f.resolve(a)},function(a){400===a.status&&f.reject(a)})},1e3),f.promise}}]),b.module("usersService",[]).factory("usersService",["$rootScope","Restangular","cfpLoadingBar",function(a,c,d){var e,f=[];return{ready:function(){return e||(d.start(),e=c.one("accounts").one("company",a.CurrentUser.company_id).one("users").get().then(function(a){b.forEach(a.content,function(a){a.login&&!a.logins&&(a.logins=[a.login]),"added"===a.status&&!a.login&&a.logins&&(a.login=a.logins[0]),b.forEach(a.logins,function(b,c){var d=b.split(":");a.logins[c]={type:d[0],value:d[1]}}),a.name||(a.name=a.logins[0].value),a.label=a.name,f.push(a)})}).finally(function(){d.complete()}))},reject:function(a){f=_.reject(f,a)},list:function(a){return a&&(f=a),f},filterListForAutocomplete:function(c,d){var e=[],g=_.reject(f,function(b){return b.userid==a.CurrentUser.userid}),h=d;return b.forEach(g,function(a){if(a.is_active){var d=_.find(a.logins,function(a){return a.value.toLowerCase().startsWith(c.toLowerCase())}),f=!1;b.forEach(a.name.split(" "),function(a){a.toLowerCase().startsWith(c.toLowerCase())&&(f=!0)});var g=!1;a.aliases&&a.aliases.length&&(g=_.find(a.aliases,function(a){return a.toLowerCase().startsWith(c.toLowerCase())}));var i=!1;i=_.some(h,function(b){return b.userid==a.userid}),(d||f||g)&&!i&&e.push({name:a.name,text:d?d.value:a.logins[0].value,logins:a.logins,aliases:a.aliases})}}),e},getUserById:function(a){return this.getUserByField("userid",a)},getUserByName:function(a){return this.getUserByField("name",a)},getUserByField:function(a,b){return _.find(f,function(c){return c[a]===b})}}}]),b.module("ngValidateHint",[]).directive("ngValidateHint",["$timeout",function(a){function d(d,e,f){var g=e.data("$ngModelController")||{};if(!g.$dirty||!g.$error)return c;var h,i,j=d.$eval(f.ngValidateHint.replace(/\/\*i18nextract\*\//g,""))||{};for(var k in g.$error)if(g.$error.hasOwnProperty(k)&&g.$error[k]&&j.hasOwnProperty(k)){h=k;break}i=h?j[h]||i:i,g.$error.reserved&&this.viewValue!=g.$viewValue&&(g.$setValidity("reserved",!0),i=c),this.viewValue=g.$viewValue,a(function(){i&&(d.tt_content=b.cloudike.translate(i)),(i&&!d.tt_isOpen||!i&&d.tt_isOpen)&&e.triggerHandler("value.invalid")})}return{link:function(a,b,c){function e(){clearTimeout(f),f=setTimeout(function(){d(a,b,c)},500)}var f;b.bind("focus input change",e),a.$on("$destroy",function(){b.unbind("focus input change",e)})}}}]),b.module("websocketService",[]).factory("websocketService",["CONST","$rootScope","$window","Restangular","localstorageService",function(a,d,e,f,g){function h(){}function i(){var a=(new Date).getTime();return B>=a?B:Math.floor((a-B)/1e3)<300?B:a}function j(a){if(!a)throw new Error("websocketService.url");return a+(-1===a.indexOf("?")?"?":"&")+"timestamp="+i()}function k(){if(s)try{s.onclose=h,s.close(),s=null}catch(a){}var a=j(u);z[w]&&console.log("ws.connect[%d]",(new Date).getTime(),a.split("?")[1]);try{s=new WebSocket(a),s.onopen=q,s.onmessage=p,s.onclose=r}catch(a){}}function l(){if(t)try{t.onload=t.onerror=t.onreadystatechange=h,t.abort(),t=null}catch(a){}var a=j(v);if(z[w]&&console.log("lp.connect[%d]",(new Date).getTime(),a.split("?")[1]),e.XMLHttpRequest)t=new XMLHttpRequest;else{if(!e.XDomainRequest)return t=c,c;t=new XDomainRequest}t.onload=t.onerror=t.onreadystatechange=b.bind(t,m);try{t.open("GET",a,!0),t.send()}catch(a){}}function m(){var a=this;4===a.readyState&&(a.status>=200&&a.status<=299?(N.set(),M=0,n(a.responseText)):504!==a.status&&M++,M>x?(J=!1,K=!0,N.lost(),O.logoff(),C=setTimeout(O.login,G)):(clearTimeout(F),F=setTimeout(l,0)))}function n(a){try{a=JSON.parse(a)}catch(b){a=c}if("object"!=typeof a)return c;var e=z[w];a=b.isArray(a)?a:[a];for(var f=0,h=a.length;f<h;f++){var i=a[f];i.timestamp>B&&(B=i.timestamp+1),d.$emit("websocket."+i.type,[i]),e&&console.log("ws[%d]",(new Date).getTime(),i.type,b.copy(i))}g.val("timestamp",B)}function o(){!1===K&&(J=!0),K&&N.lost(),O.logoff(),O.login()}function p(a){return a?"[]"===a.data?L?(N.set(),z[w]&&console.log("ws.heartbeat[%d]",(new Date).getTime()),clearTimeout(D),D=setTimeout(o,H),c):c:void n(a.data):c}function q(a){L=!1,N.clear(),d.$$once("websocket.check_ws",function(a,b){clearTimeout(E),K=!0,L=!0,p({data:"[]"})}),f.one("check_ws").get(h,function(){clearTimeout(E),o()}),E=setTimeout(o,I)}function r(a){!1===K&&(J=!0),O.logoff(),K&&N.lost(),C=setTimeout(O.login,G)}var s,t,u,v,w="WEBSOCKETLOG",x=3,y=!1,z=e.localStorage||{},A={},B=g.val("timestamp")||0,C=0,D=0,E=0,F=0,G=3e3,H=9e4,I=6e4,J=!1,K=a.be.only_websocket||!1,L=!1,M=0,N=(_.throttle(function(){for(var a in A)A.hasOwnProperty(a)&&(d.$emit("websocket."+a,A[a].messages),A[a].messages.splice(0,A[a].messages.length),delete A[a])},1e3),function(){function a(){c=!1,d.$emit("websocket.lost_connection")}var b,c=!1;return{clear:function(){clearTimeout(b)},set:function(){clearTimeout(b),c||(c=!0,d.$emit("websocket.set_connection"))},lost:function(){b=setTimeout(a,5e3)}}}()),O={login:function(a,b){return u="string"==typeof a?a:u,v="string"==typeof b?b:v,y?c:(v||(K=!0,J=!1),e.WebSocket&&!J?k():l())},logoff:function(){if(s)try{s.onclose=h,s.close(),s=c}catch(a){}if(t)try{t.onload=t.onerror=t.onreadystatechange=h,t.abort(),t=null}catch(a){}L=!1,clearTimeout(F),clearTimeout(E),clearTimeout(C),clearTimeout(D)},disable:function(){N.clear(),O.logoff()}};return O}])}(window,window.angular);